"undefined"==typeof neptune&&(neptune={}),neptune.Debug={console:{log:console.log,info:console.info,warn:console.warn,error:console.error},init:!1,initLog:[],timestamp:null,ext:0,loaded:function(e){neptune.Debug.init=!0,sap.n.Debug.classicLaunchpad=e,neptune.UserDefault.debugEnable&&neptune.Debug.modernBrowser()?(sap.n.Debug.setDebugButtonsVisibility(!neptune.UserDefault.debugHidePop),neptune.Debug.updateInitLog()):neptune.Debug.deactivate()},add:function(e,n,t){if("object"==typeof n&&(n=JSON.stringify(n)),neptune.Debug.init&&!AppCache.isRestricted){var i=new Date,r=i.getTime();neptune.Debug.ext=r===neptune.Debug.timestamp?++neptune.Debug.ext:0;var u=neptune.Debug.ext,a=(neptune.Debug.timestamp=r)+"-"+u,o=t[1].toString().trim(),c="";try{c=sap.n.Launchpad.currentTile.APPLID}catch(e){}sap.n.Debug.add({GUID:a,CREDAT:neptune.Debug.sapDate(i),CRETIM:neptune.Debug.sapTime(i),CRENAM:AppCache.CurrentUname,UNAME:AppCache.CurrentUname,CONFIGURATION:AppCache.CurrentConfig,APPLID:c,LOG_TYPE:e,LOG_MSG:n,LOG_TRACE:o,OS:neptune.Debug.device.getOS(),SYS:neptune.Debug.device.getSystem(),DEVICE:neptune.Debug.device.getDevice(),SUPPORT:neptune.Debug.device.getSupport(),SCREEN:neptune.Debug.device.getScreen(),BROWSER:neptune.Debug.device.getBrowser(),UUID:neptune.Debug.device.getUUID(),UDID:neptune.Debug.device.getUDID()},t)}else neptune.Debug.initLog.push({type:e,msg:n,trace:t.join("\n")})},updateInitLog:function(){AppCache.isRestricted||($.each(neptune.Debug.initLog,function(e,n){var t=n.trace.split(/\r?\n/);neptune.Debug.add(n.type,n.msg,t)}),neptune.Debug.initLog=[])},activate:function(){neptune.UserDefault.debugEnable&&neptune.Debug.modernBrowser()&&(window.onerror=function(e,n,t,i,r){var u=r.stack.split(/\r?\n/);neptune.Debug.add("E",JSON.stringify(e),u)},Error.stackTraceLimit=1/0,console.log=function(){var e;0!==arguments[0].toString().indexOf("ASSERT")&&(e=neptune.Debug.getStackTrace(arguments),neptune.Debug.add("I",arguments[0],e),1===e.length&&e.push("No Stacktrace Support..."),"object"==typeof e[0]&&(e[0]=JSON.stringify(e[0])),neptune.Debug.console.log(e.splice(0,2).join("\n")))},console.info=function(){var e=neptune.Debug.getStackTrace(arguments);neptune.Debug.add("I",arguments[0],e),1===e.length&&e.push("No Stacktrace Support..."),"object"==typeof e[0]&&(e[0]=JSON.stringify(e[0])),neptune.Debug.console.info(e.splice(0,2).join("\n"))},console.warn=function(){neptune.Debug.console.warn(arguments[0]);var e=neptune.Debug.getStackTrace(arguments);neptune.Debug.add("W",arguments[0],e)},console.error=function(){neptune.Debug.console.error(arguments[0]);var e=neptune.Debug.getStackTrace(arguments);neptune.Debug.add("E",arguments[0],e)})},deactivate:function(){console.log=neptune.Debug.console.log,console.info=neptune.Debug.console.info,console.warn=neptune.Debug.console.warn,console.error=neptune.Debug.console.error,window.onerror=null,sap.n.Debug.setDebugButtonsVisibility(!1)},getStackTrace:function(e){var n=!1,t=[];return"undefined"!=typeof device&&"iOS"===device.platform||(n=neptune.Debug._getStackTrace()),n&&(t=n.split(/\r?\n/).splice(3)),0===t.length?t.push(e[0]):t.unshift(e[0]),1===t.length&&t.push("No Stacktrace Support..."),t},_getStackTrace:function(){try{var e={};return Error.captureStackTrace(e,neptune.Debug._getStackTrace),e.stack}catch(e){return!1}},device:{getBrowser:function(){var e="";switch(sap.ui.Device.browser.name){case sap.ui.Device.browser.BROWSER.ANDROID:e="Android";break;case sap.ui.Device.browser.BROWSER.CHROME:e="Chrome";break;case sap.ui.Device.browser.BROWSER.EDGE:e="Edge";break;case sap.ui.Device.browser.BROWSER.FIREFOX:e="Firefox";break;case sap.ui.Device.browser.BROWSER.INTERNET_EXPLORER:e="IE";break;case sap.ui.Device.browser.BROWSER.OPERA:e="Opera";break;case sap.ui.Device.browser.BROWSER.SAFARI:e="Safari"}return e+="-"+sap.ui.Device.browser.versionStr,sap.ui.Device.browser.name===sap.ui.Device.browser.BROWSER.OPERA&&sap.ui.Device.browser.chrome&&(e+=" (chrome)"),sap.ui.Device.browser.webkit&&(e+=", Webkit-"+sap.ui.Device.browser.webkitVersion),e},getScreen:function(){var e=sap.ui.Device.resize.width+"x"+sap.ui.Device.resize.height;return sap.ui.Device.orientation.landscape?e+="-landscape":sap.ui.Device.orientation.portrait&&(e+="-portrait"),e},getOS:function(){var e="";switch(sap.ui.Device.os.name){case sap.ui.Device.os.OS.ANDROID:e="Android";break;case sap.ui.Device.os.OS.BLACKBERRY:e="Blackberry";break;case sap.ui.Device.os.OS.IOS:e="iOS";break;case sap.ui.Device.os.OS.LINUX:e="Linux";break;case sap.ui.Device.os.OS.MACINTOSH:e="Mac";break;case sap.ui.Device.os.OS.WINDOWS:e="Windows";break;case sap.ui.Device.os.OS.WINDOWS_PHONE:e="WinPhone"}return e+="-"+sap.ui.Device.os.versionStr},getSystem:function(){var e="";return sap.ui.Device.system.desktop?e="Desktop":sap.ui.Device.system.phone?e="Phone":sap.ui.Device.system.tablet&&(e="Tablet"),sap.ui.Device.system.combi&&(e+="-Combi"),"undefined"!=typeof device&&(e+=", Cordova "+device.cordova,device.isVirtual&&(e+="-virtual")),AppCache.AppVersion&&(e+=", App v."+AppCache.AppVersion),e+=", UI5 v."+sap.ui.version},getDevice:function(){var e="";return"undefined"!=typeof device&&(e=device.manufacturer+"-"+device.model),e},getSupport:function(){var e=[];return sap.ui.Device.support.orientation&&e.push("Orientation"),sap.ui.Device.support.pointer&&e.push("Pointer"),sap.ui.Device.support.retina&&e.push("Retina"),sap.ui.Device.support.touch&&e.push("Touch"),sap.ui.Device.support.websocket&&e.push("Websocket"),e.join(", ")},getUUID:function(){return"undefined"!=typeof device?device.uuid:""},getUDID:function(){return"undefined"!=typeof udid?udid.getUdid():""}},sapDate:function(e){return e=e||new Date,jQuery.sap.require("sap.ui.core.format.DateFormat"),sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyyMMdd",relative:!1}).format(e)},sapTime:function(e){return e=e||new Date,jQuery.sap.require("sap.ui.core.format.DateFormat"),sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"HHmmss",relative:!1}).format(e)},modernBrowser:function(){return!(0<window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./))}},neptune.Debug.activate();