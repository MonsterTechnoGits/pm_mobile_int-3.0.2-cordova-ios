"undefined"==typeof neptune&&(neptune={}),neptune.Formatter={setDisplayFormatType:function(t){var e=sap.ui.core.CalendarType.Gregorian,a=neptune.UserDefault.date;"7"===a||"8"===a||"9"===a?e=sap.ui.core.CalendarType.Japanese:"A"===a||"B"===a?e=sap.ui.core.CalendarType.Islamic:"C"===a&&(e=sap.ui.core.CalendarType.Persian),t.setDisplayFormatType(e),t._oCalendar.setPrimaryCalendarType(e)},getDate:function(t,e){if(null==t||""===t||0==+t)return"";e=e||neptune.UserDefault.date;var a="";jQuery.sap.require("sap.ui.core.format.DateFormat");var r,n,i=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyyMMdd"}),s=this.getDatePattern(e);return"japanese"===s?a=this.getJapaneseDate(t,e):"arabic"===s?a=this.getArabicDate(t):"persian"===s?a=this.getPersianDate(t):(r=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:s}),n=i.parse(t),"00000000"!==t&&(a=r.format(n))),a},getDateOData:function(t,e){if(null==t||""===t||0==+t)return"";var a=neptune.Formatter.getSapDate(t);return neptune.Formatter.getDate(a,e)},getSapDate:function(t){var e=new Date(t),a=e.getFullYear(),r=e.getMonth()+1;return""+a+(r=r<10?"0"+r:r)+e.getDate()},getNumberFormat:function(t,e){e&&("short"===e||"long"===e||"standard"===e)||(e="standard"),jQuery.sap.require("sap.ui.core.format.NumberFormat");var a=6,r=2;return 0===t&&(r=a=0),1===t&&(r=a=1),2===t&&(r=a=2),3===t&&(r=a=3),sap.ui.core.format.NumberFormat.getFloatInstance({maxFractionDigits:a,minFractionDigits:r,groupingEnabled:!0,groupingSeparator:neptune.UserDefault.numberGrouping,decimalSeparator:neptune.UserDefault.numberDecimal,style:e})},getNumber:function(t,e,a){return null!=t&&""!==t&&0!=+t||(t=0),this.getNumberFormat(e,a).format(+t)},getNumberType:function(t){var e=6,a=2;return 0===t&&(a=e=0),1===t&&(a=e=1),2===t&&(a=e=2),3===t&&(a=e=3),new sap.ui.model.type.Float({minFractionDigits:a,maxFractionDigits:e,groupingEnabled:!0,groupingSeparator:neptune.UserDefault.numberGrouping,decimalSeparator:neptune.UserDefault.numberDecimal})},getTimePattern:function(t,e){var a="HH:mm";return"0"===(e=e||neptune.UserDefault.time)?a="Long"===t?"HH:mm:ss":"Short"===t?"HH":"HH:mm":"1"===e||"2"===e?a="Long"===t?"hh:mm:ss a":"Short"===t?"hh a":"hh:mm a":"3"!==e&&"4"!==e||(a="Long"===t?"KK:mm:ss a":"Short"===t?"KK a":"KK:mm a"),a},getTime:function(t,e,a){if(null==t||""===t||0==+t)return"";e=e||"Medium";var r=neptune.Formatter.getTimePattern(e,a);jQuery.sap.require("sap.ui.core.format.DateFormat");var n=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"HHmmss"}),i=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:r}),s=n.parse(t);if(!s)return"";var u=i.format(s);return"2"!==a&&"4"!==a||u.toLowerCase(),u},getDatePattern:function(t){return"1"===(t=""+t)?"dd.MM.yyyy":"2"===t?"MM/dd/yyyy":"3"===t?"MM-dd-yyyy":"4"===t?"yyyy.MM.dd":"5"===t?"yyyy/MM/dd":"6"===t?"yyyy-MM-dd":"7"===t||"8"===t||"9"===t?"japanese":"A"===t||"B"===t?"arabic":"C"===t?"persian":"dd.MM.yyyy"},getJapaneseDate:function(t,e){var a=".";return"8"===e?a="/":"9"===e&&(a="-"),new Intl.DateTimeFormat("ja-JP-u-ca-japanese",{era:"short",year:"numeric"}).format(new Date(t.slice(0,4),t.slice(4,6)-1,t.slice(6,8))).slice(0,-1)+a+t.slice(4,6)+a+t.slice(6,8)},getPersianDate:function(t){var e=new Date(t.slice(0,4),t.slice(4,6)-1,t.slice(6,8));return new Intl.DateTimeFormat("en-GB-u-ca-persian",{year:"numeric"}).format(e).slice(0,4)+"/"+new Intl.DateTimeFormat("en-GB-u-ca-persian",{month:"2-digit"}).format(e)+"/"+new Intl.DateTimeFormat("en-GB-u-ca-persian",{day:"2-digit"}).format(e)},getArabicDate:function(t){var e,a=new Date(t.slice(0,4),t.slice(4,6)-1,t.slice(6,8)),r=(new Array(0,0,0),parseInt(a.getDate())),n=parseInt(a.getMonth()+1),i=parseInt(a.getFullYear()),s=neptune.Formatter.adjustDelta(n,i),u=1582<i||1582==i&&10<n||1582==i&&10==n&&14<r?this.intPart(1461*(i+4800+this.intPart((n-14)/12))/4)+this.intPart(367*(n-2-12*this.intPart((n-14)/12))/12)-this.intPart(3*this.intPart((i+4900+this.intPart((n-14)/12))/100)/4)+r-32075+s:367*i-this.intPart(7*(i+5001+this.intPart((n-9)/7))/4)+this.intPart(275*n/9)+r+1729777+s,o=u-1948440+10632,m=this.intPart((o-1)/10631);return o=o-10631*m+354,e=this.intPart((10985-o)/5316)*this.intPart(50*o/17719)+this.intPart(o/5670)*this.intPart(43*o/15238),o=o-this.intPart((30-e)/15)*this.intPart(17719*e/50)-this.intPart(e/16)*this.intPart(15238*e/43)+29,n=this.intPart(24*o/709),r=o-this.intPart(709*n/24),(i=30*m+e-30)+"/"+("0"+n).slice(-2)+"/"+("0"+r).slice(-2)},adjustDelta:function(t,e){return 9==t&&2019==e||1==t&&1441==e?1:6==t&&2019==e||9==t&&1440==e?1:8==t&&2018==e||12==t&&1439==e?1:5==t&&2018==e||8==t&&1439==e?0:2==t&&2018==e||6==t&&1438==e?0:7==t&&2017==e||11==t&&1438==e?0:6==t&&2017==e||9==t&&1438==e?0:0},intPart:function(t){return t<-1e-7?Math.ceil(t-1e-7):Math.floor(t+1e-7)}};