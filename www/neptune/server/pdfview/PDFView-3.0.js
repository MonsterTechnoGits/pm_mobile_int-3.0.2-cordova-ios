var PDFView={dataPDF:"",numPages:0,currPage:1,scale:1,pdfScroll:null,location:null,wrapper:null,scroller:null,LoadScroller:function(){if(!0!==sap.ui.Device.system.desktop){var e=PDFView.wrapper;null===PDFView.pdfScroll?PDFView.pdfScroll=new IScroll(e,{zoom:!0,scrollbars:!0,scrollX:!0,scrollY:!0}):PDFView.pdfScroll.scrollTo(0,0)}},ZoomOut:function(){PDFView.scale=parseFloat(PDFView.scale)+.25,PDFView.Render()},ZoomIn:function(){PDFView.scale=parseFloat(PDFView.scale)-.25,PDFView.Render()},MakeBinary:function(e){var r=window.atob(e),l=r.length,t=new Uint8Array(l);for(i=0;i<l;i++)t[i]=r.charCodeAt(i);return t},RenderPage:function(e,r,i,l){r.getPage(i).then(function(r){var t=PDFView.wrapper.offsetWidth-30,a=r.getViewport(t/r.getViewport(PDFView.scale).width),n=(a.width,a.height);PDFView.scroller.style.width=a.width+30+"px";var o=document.createElement("div");o.id="Page"+i,o.className="pdfPage",o.style.width=t+"px",o.style.height=n+"px",e.appendChild(o);var d=document.createElement("canvas"),c=d.getContext("2d"),w=(t-a.width)/2;w<0&&(w=0),d.width=a.width,d.height=n,d.style.left=w+"px",o.appendChild(d);var s={canvasContext:c,viewport:a};r.render(s).then(l);var P=document.createElement("div");o.appendChild(P)})},Show:function(e,r){PDFView.dataPDF=e,void 0===r||""==r||null==r?PDFView.wrapper=document.getElementById("pdfWrapper"):(PDFView.location=r,PDFView.wrapper=document.querySelectorAll("[data-sap-ui-preserve='"+r+"']")[0]),PDFView.wrapper&&(PDFView.scroller=PDFView.wrapper.querySelector("#pdfScroller")),PDFView.Render(),PDFView.LoadScroller()},AfterRender:function(){!0!==sap.ui.Device.system.desktop&&PDFView.pdfScroll.refresh()},Render:function(){var e=PDFView.scroller;if(e)for(;e.hasChildNodes();)e.removeChild(e.lastChild);var r=PDFView.MakeBinary(PDFView.dataPDF);PDFJS.useOnlyCssZoom=!0,PDFJS.getDocument(r).then(function(e){var r=PDFView.scroller,i=1;PDFView.numPages=e.numPages,PDFView.RenderPage(r,e,i++,function l(){i>e.numPages?PDFView.AfterRender():PDFView.RenderPage(r,e,i++,l)})})}};