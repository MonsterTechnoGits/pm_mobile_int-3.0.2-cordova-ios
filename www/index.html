<!DOCTYPE html>
<html class="nepLayout">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<link rel="shortcut icon" href="neptune/public/application/neptune/preview/favicon.png" type="image/x-icon" />
<title>PM Mobile RSB</title>
<script>const neptune={};</script>
<link rel="stylesheet" type="text/css" href="neptune/server/pdfview/PDFView-3.0.css" />
<script src="neptune/server/pdfview/compatibility.js"></script>
<script src="neptune/server/pdfview/pdf.js"></script>
<script src="neptune/server/pdfview/iscroll.js"></script>
<script src="neptune/server/pdfview/PDFView-3.0.js"></script>
<script>PDFJS.workerSrc = "neptune/server/pdfview/pdf.worker.js";</script>
<script>
    window["sap-ui-config"] = {
        "xx-bootTask": function(callback) {
            sap.ui.require(["sap/ui/thirdparty/require"], callback);
        }
    }
</script>
<script id="sap-ui-bootstrap" type="text/javascript" src="neptune/server/sapui5/1.71/resources/sap-ui-core.js"
    data-sap-ui-xx-bindingSyntax="complex"
    data-sap-ui-xx-supportedLanguages="default"
    data-sap-ui-noDuplicateIds="false"
    data-sap-ui-compatVersion="edge"
    data-sap-ui-async="true"
    data-sap-ui-theme="sap_belize"
    data-sap-ui-libs="sap.ui.layout,sap.ui.integration,sap.ui.unified,sap.ui.table,sap.suite.ui.commons,sap.suite.ui.microchart,sap.m,sap.uxap,sap.f,sap.tnt,sap.me,sap.ui.commons,sap.ui.ux3,sap.ui.comp,sap.ui.fl,sap.chart">
</script>
<script>
if(typeof window.sap === "undefined"){var script=document.getElementById("sap-ui-bootstrap");script.src="/neptune/server/sapui5/1.71/resources/sap-ui-core.js";document.write('<script id="sap-ui-bootstrap" type="text/javascript" src="/neptune/server/sapui5/1.71/resources/sap-ui-core.js" ' +'data-sap-ui-xx-bindingSyntax="complex" data-sap-ui-noDuplicateIds="false" ' + '    data-sap-ui-async="true" ' + 'data-sap-ui-language="EN" data-sap-ui-compatVersion="edge" data-sap-ui-theme="" ' +'data-sap-ui-libs="sap.ui.layout,sap.ui.unified,sap.ui.table,sap.m,sap.tnt"><\/script>');}
</script>
<script>neptune.UserDefault={uname:"GCAPUAN2",langu:"E",date:"2",time:"0",numberGrouping:",",numberDecimal:".",numberDecimal:".",debugEnable:true,debugHidePop:false};</script>
<script>neptune.UserDefault.debugEnable=true;</script>
<script type="text/javascript" src="neptune/server/neptune/js/formatter/NeptuneFormatter-6.0.6.js"></script>
<script type="text/javascript" src="neptune/server/neptune/js/elementQuery/NeptuneElementQuery-6.0.0.js"></script>
<script type="text/javascript" src="neptune/server/neptune/js/debug/NeptuneDebug-6.0.6.js"></script>
<script type="text/javascript" src="neptune/server/neptune/js/style/NeptuneStyle-6.0.6.js"></script>
<script type="text/javascript" src="neptune/server/neptune/js/splash/NeptuneSplash-6.0.0.js"></script>
<link rel="stylesheet" type="text/css" href="neptune/server/neptune/css/splash/NeptuneSplash-6.0.0.css" />
<script type="text/javascript" src="neptune/server/neptune/js/pleasewait/pleasewait-0.0.5.js"></script>
<script>
    console.assert = function(){};
</script>
<script type="text/javascript" src="neptune/server/neptune/js/aes.js"></script>
<script type="text/javascript" src="neptune/server/neptune/js/AppSync.js"></script>
<script type="text/javascript" src="neptune/server/neptune/js/Indexeddb-shim.js"></script>
<script type="text/javascript" src="neptune/server/neptune/js/slick/1.8.1/slick.min.js"></script>
<script>
    neptune.pwa = {
        install: false,
        update: false,
        deferredPrompt: null
    };
</script>
<script type="text/javascript" src="neptune/server/neptune/js/SignaturePad.js"></script>
<script type="text/javascript" src="neptune/server/neptune/js/ModelData.js"></script>
<script type="text/javascript" src="neptune/server/fontawesome/5.13.0/fa.js"></script>
<meta name="X-Funfact" content="The thermosphere on Neptune is extremely hot, nobody knows why." />
<link href="neptune/server/fontawesome/5.13.0/fa.css" type="text/css" rel="stylesheet" />

<script>
    var customerAppDesignerIcons = {
        categories: [],
        icons: [],
    };
</script>


<script type="text/javascript" src="cordova.js"></script>
</head>
<body  class="sapUiBody" role="application" id="body"><form><div id="MobileContent"></div><input type="hidden" name="applid" value="NEPTUNE_LAUNCHPAD_STANDARD"></form>
<script>
if(typeof neptune === "undefined")neptune={};
if(typeof sap.nep === "undefined")sap.nep={};
var JSONH,jsonh=JSONH=function(a,b){function c(a){var b=[];return $.each(a,function(a,c){for(var d in c)$.inArray(d,b)===-1&&b.push(d)}),b}function d(b){for(var j,l,d=b.length,e=c(b),f=e.length,g=a(d*f),h=0,i=0;h<d;++h)for(l=b[h],j=0;j<f;g[i++]=l[e[j++]]);return k.call([f],e,g)}function e(b){if("object"==typeof b[0])return b;for(var h,i,c=b.length,d=b[0],e=a((c-d-1)/d||0),f=1+d,g=0;f<c;)for(e[g++]=i={},h=0;h<d;i[b[++h]]=b[f++]);return e}function f(a){return a.length?d(a):a}function g(a){return a.length?e(a):a}function h(a,b,c,d){return n(f(a,d),b,c)}function i(a,b,c){return g(o(a,b),c)}var j=[],k=j.concat,n=(a.isArray||function(a,b){return b=a.call(j),function(d){return a.call(d)==b}}({}.toString),j.map||function(b,c){for(var d=this,e=d.length,f=a(e);e--;f[e]=b.call(c,d[e],e,d));return f},b.stringify),o=b.parse;return{pack:f,parse:i,stringify:h,unpack:g}}(Array,JSON);function _convertFlatToNested(n, r, t) {for (var e, h, u, a = [], c = {}, o = 0, f = n.length; f > o; o++) e = n[o], h = e[r], u = e[t] || 0, c[h] = c[h] || [], e.children = c[h], 0 != u ? (c[u] = c[u] || [], c[u].push(e)) : a.push(e);return a}function _convertNestedToFlat(a){if (typeof a.children == "undefined" || !Array.isArray(a.children) || a.children.length === 0){return a;}var b=[],c=function(a){$.each(a,function(a,d){d.children&&(c(d.children),delete d.children),b.push(d)})};return c(JSON.parse(JSON.stringify(a.children))),b}
sap.ui.getCore().attachInit(function() {

var head  = document.getElementsByTagName("head")[0];
var link  = document.createElement("link");
link.rel  = "stylesheet";
link.type = "text/css";
link.href = "neptune/public/application/neptune_launchpad_standard/css/app.css"
head.appendChild(link);

var localAppID = "NEPTUNE_LAUNCHPAD_STANDARD";
var sapNepAppID = "NEPTUNE_LAUNCHPAD_STANDARD-" + Date.now();
if(!neptune.app)neptune.app={};
neptune.app[sapNepAppID] = {};
neptune.app[sapNepAppID].id = sapNepAppID;
var sapNepApp = neptune.app[sapNepAppID];
if(!neptune.Formatter){neptune.Formatter={getTimePattern:function(){return "HH:mm"},getArabicDate:function(d){return this.getDate(d);},getJapaneseDate:function(d){return this.getDate(d);},getDateOData:function(d){return this.getDate(d);},getDate:function(d){if(typeof(d)==="undefined" || +d===0)return "";jQuery.sap.require("sap.ui.core.format.DateFormat");var sapFormat=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"yyyyMMdd"});var outFormat=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"dd.MM.yyyy",relative:false});var date=sapFormat.parse(d);return outFormat.format(date);},getNumber:function(n){if(typeof(n)==="undefined" || +n===0)return "";jQuery.sap.require("sap.ui.core.format.NumberFormat");var numberFormat=sap.ui.core.format.NumberFormat.getFloatInstance({maxFractionDigits:1,minFractionDigits:1,groupingEnabled:true,groupingSeparator:" ",decimalSeparator:"."});return numberFormat.format(n);},getTime:function(t){if(typeof(t)==="undefined" || +t===0)return "";if(typeof(t)==="undefined")return;jQuery.sap.require("sap.ui.core.format.DateFormat");var sapFormat=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"HHmmss"});var outFormat=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:"HH:mm",relative:false});var date=sapFormat.parse(t);return outFormat.format(date);},setDisplayFormatType:function(){}}}if(!neptune.Formatter.getNumberType){neptune.Formatter.getNumberType=function(){new sap.ui.model.type.Float({maxFractionDigits: 1,minFractionDigits: 1,groupingEnabled: true,groupingSeparator: " ",decimalSeparator: "."})}}

sapNepApp.onAjaxError = function(code,reason,responseText){};
;
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject){
    var appGUID = sap.n.Shell.getAppsObject(localAppID);
    if(typeof sap.n.Apps[appGUID] !== "undefined"){
        sap.n.Apps[appGUID].cache={
            objects:{},
            ready:function(element){
                sap.n.Apps[appGUID].cache.objects[element]=true;
                var loaded=true;
                $.each(sap.n.Apps[appGUID].cache.objects,function(i,obj){
                    if(!obj)loaded=false;
                });
                if(loaded){
                    if(sap.n.Apps[appGUID].cacheLoaded){
                        $.each(sap.n.Apps[appGUID].cacheLoaded,function(i,func){
                            func(AppCache.LoadOptions.startParams);
                        });
                    }
                }
            }
        }
    };
}
if (typeof AppCache === "undefined") { var sapUname = "GCAPUAN2"; } else { var sapUname = AppCache.CurrentUname; }
sap.n = {
    Shell: {},
    Launchpad: {},
    Explored: {},
    Phonegap: {
        loaded: false
    },
    PDF: {},
    Apps: {},
    Core: {},
};

var AppCache = {};
var AppDB;
var fileTransfer;
var lockStart;
var activeInputField = null;
var activeScrollContainer = null;

function isCordova() {
    if (window.hasOwnProperty("cordova") || typeof(cordova) == "object") {
        return true;
    } else {
        return false;
    }
}

function isWinApp() {
    if (typeof MSApp !== "undefined") {
        return true;
    } else {
        return false;
    }
}

sap.n.Core.onDeviceReady = function() {

    sap.n.Phonegap.loaded = true;

    // Catch error on Windows 10
    if (isWinApp()) {

        window.onerror = function(message, file, line, col, error) {
            console.error(error.message);
            return true;
        };

        // Hide Backbutton on App
        var currentView = Windows.UI.Core.SystemNavigationManager.getForCurrentView();
        currentView.appViewBackButtonVisibility = Windows.UI.Core.AppViewBackButtonVisibility.collapsed;
    }

    document.addEventListener("pause", onPause, false);
    document.addEventListener("resume", onResume, false);
    document.addEventListener("backbutton", sap.n.Core.onBackButton, false);

    if (navigator.app) {
        try {
            navigator.app.overrideButton("menubutton", true);
        } catch (e) {
            console.warn("onDeviceReady: " + e.message);
        }
    }

    document.addEventListener("menubutton", onMenuButton, false);
    window.addEventListener("offline", onOffline, false);
    window.addEventListener("online", onOnline, false);
    document.addEventListener("searchbutton", onSearchButton, false);
    document.addEventListener("volumedownbutton", onVolumeDownButton, false);
    document.addEventListener("volumeupbutton", onVolumeUpButton, false);

    // Android (API>19) supports VIBRATION natively - fallback for existing apps
    if (sap.ui.Device.os.android) {
        if (typeof navigator.notification === "object" && typeof navigator.notification.vibrate === "undefined") {
            navigator.notification.vibrate = function(mSecs) {
                navigator.vibrate(mSecs);
            };
        }
    }
    // WinPhone DB Open
    if (typeof device !== "undefined") {
        if (device.platform === "Win32NT" || device.platform === "windows") {
            window.openDatabase = function() {};
        }
    }
    if (navigator.onLine) {
        AppCache.isOffline = false;
    }
    // Custom OnDeviceReady
    if (typeof customOnDeviceReady === 'function') {
        customOnDeviceReady();
    }
};

function onOffline() {
    // alert("onOffline: " + navigator.onLine + "," + navigator.connection.type);
    AppCache.isOffline = true;
    AppCacheShellNetwork.setVisible(true);
    AppCache_butLogon.setEnabled(false);

    if (typeof sap.n.Phonegap.onOfflineCustom === 'function') {
        sap.n.Phonegap.onOfflineCustom();
        return;
    }
}

function onOnline() {
    // alert("onOnline: " + navigator.onLine + "," + navigator.connection.type);
    AppCache.isOffline = false;
    AppCacheShellNetwork.setVisible(false);
    AppCache_butLogon.setEnabled(true);

    if (AppCache.enableABAPform && !AppCache.isRestricted) AppCacheLogonABAPform.Relog();
    if (AppCache.enableCustomLogin && AppCache.isRestricted) AppCacheLogonCustom.Relogin();

    if (typeof sap.n.Phonegap.onOnlineCustom === 'function') {
        sap.n.Phonegap.onOnlineCustom();
        return;
    }
}

function onPause() {
    if (AppCache.enablePasscode && parseInt(AppCache.timerLock) && !AppCache.isRestricted) {
        lockStart = Date.now();
    }

    if (typeof sap.n.Phonegap.onPauseCustom === 'function') {
        sap.n.Phonegap.onPauseCustom();
        return;
    }
}

function onResume() {
    // alert("onResume: " + navigator.onLine + "," + navigator.connection.type);
    if (AppCache.isOffline && navigator.onLine) {
        var url = AppCache.UrlBase + "/neptune/native/neptune_login_ping";
        $.ajax({
            type: "POST",
            url: url,
            dataType: "HTML",
            success: function(data) {
                onOnline();
            },
            error: function(xhr, status, error) {
                console.error("onResume: AJAX error posting " + url);
                onOffline();
            }
        });
    }
    setTimeout(function() {

        if (AppCache.enablePasscode && parseInt(AppCache.timerLock) && !AppCache.isRestricted) {
            var lockEnd = Date.now();
            var lockDiff = (lockEnd - lockStart) / 1000;
            if (lockDiff > parseInt(AppCache.timerLock)) {
                AppCache.Lock();
            }
        }

        if (typeof sap.n.Phonegap.onResumeCustom === 'function') {
            sap.n.Phonegap.onResumeCustom();
            return;
        }
    }, 100);
}

sap.n.Core.onBackButton = function() {

    if (typeof sap.n.Phonegap.onBackButtonCustom === 'function') {
        sap.n.Phonegap.onBackButtonCustom();

    } else if (sap.m.InstanceManager.getOpenDialogs().length > 0) {
        sap.m.InstanceManager.getOpenDialogs()[0].close();

    } else {
        try {
            if (AppCacheNav.getCurrentPage().getId().indexOf("page") === 0) {
                AppCache.Home();
            } else {
                AppCache.Back();
            }
        } catch (e) {}
    }
};

function onMenuButton() {
    if (typeof sap.n.Phonegap.onMenuButtonCustom === 'function') {
        sap.n.Phonegap.onMenuButtonCustom();
        return;
    }
}

function onSearchButton() {
    if (typeof sap.n.Phonegap.onSearchButtonCustom === 'function') {
        sap.n.Phonegap.onSearchButtonCustom();
        return;
    }
}

function onVolumeDownButton() {
    if (typeof sap.n.Phonegap.onVolumeDownButtonCustom === 'function') {
        sap.n.Phonegap.onVolumeDownButtonCustom();
        return;
    }
}

function onVolumeUpButton() {
    if (typeof sap.n.Phonegap.onVolumeUpButtonCustom === 'function') {
        sap.n.Phonegap.onVolumeUpButtonCustom();
        return;
    }
}

// Browser/Phonegap Startup
if (isCordova()) {
    document.addEventListener("deviceready", sap.n.Core.onDeviceReady, false);
} else {
    sap.n.Core.onDeviceReady();
} 
 var topShell = new sap.m.Shell("topShell",{appWidthLimited:false,title:""}); 
 var appShell = new sap.m.App("appShell",{backgroundColor:"#fff",defaultTransitionName:"show"});
topShell.setApp(appShell); 
 var pageShell = new sap.m.Page("pageShell",{backgroundDesign:"Transparent",showFooter:false,showHeader:false,showSubHeader:false})
appShell.addPage(pageShell); 
 var launchpadContainer = new sap.m.FlexBox("launchpadContainer",{direction:"Column",fitContainer:true,renderType:"Div"});
pageShell.addContent(launchpadContainer); 
 var actionPWA = new sap.m.Panel("actionPWA",{backgroundDesign:"Transparent",height:"3rem",visible:false});
launchpadContainer.addItem(actionPWA); 
 var layoutPWA = new sap.m.HBox("layoutPWA",{alignItems:"Center",fitContainer:true,justifyContent:"End",renderType:"Bare"});
actionPWA.addContent(layoutPWA); 
 var toolPWATitle = new sap.m.Title("toolPWATitle",{text:"Add to homescreen"});
layoutPWA.addItem(toolPWATitle); 
 var toolPWAInstall = new sap.m.Button("toolPWAInstall",{type:"Accept",text:"Install",press: function(oEvent) {
neptune.pwa.deferredPrompt.prompt();
neptune.pwa.deferredPrompt.userChoice.then(function(choiceResult) {
    if (choiceResult.outcome === 'accepted') {
        actionPWA.setVisible(false);
    }
    neptune.pwa.deferredPrompt = null;
});
}});
layoutPWA.addItem(toolPWAInstall); 
 var toolPWANotNow = new sap.m.Button("toolPWANotNow",{text:"Not now",type:"Reject",press: function(oEvent) {
actionPWA.setVisible(false);
pageShell.rerender();
}});
layoutPWA.addItem(toolPWANotNow); 
 var topMenu = new sap.m.Panel("topMenu",{backgroundDesign:"Transparent",height:"3rem"});
launchpadContainer.addItem(topMenu); 
 var toolTopMenu = new sap.m.HBox("toolTopMenu",{justifyContent:"SpaceBetween"});
topMenu.addContent(toolTopMenu); 
 var topContainerLeft = new sap.m.VBox("topContainerLeft",{});
toolTopMenu.addItem(topContainerLeft); 
 var topLayoutLeft = new sap.m.HBox("topLayoutLeft",{});
topContainerLeft.addItem(topLayoutLeft); 
 var layoutShellBoxOverflow = new sap.m.VBox("layoutShellBoxOverflow",{});
topLayoutLeft.addItem(layoutShellBoxOverflow); 
 var AppCacheShellMenuOverflow = new sap.m.Button("AppCacheShellMenuOverflow",{icon:"sap-icon://grid",tooltip:"Menu",press: function(oEvent) {
if (sap.ui.Device.resize.width < sap.n.Launchpad.verticalMenuLimit) {
    launchpadContentMenu.setWidth("0px");
}

if (!AppCache.hideMainMenu && AppCache.verticalMenu && sap.ui.Device.resize.width >= sap.n.Launchpad.verticalMenuLimit) {
    var size = (launchpadContentMenu.getWidth() === "0px") ? "300px" : "0px";
    launchpadContentMenu.addItem(pageVerticalMenu);
    launchpadContentMenu.setWidth(size);

    openAppMaster.setVisible((openApps.getItems().length > 0));

    sap.n.Utils.userSetting.update({
        AREA: "LAUNCHPAD",
        GROUPING: "VERTICAL_MENU",
        NAME: "SIZE",
        KEY0: AppCache.CurrentConfig,
        VAL0: size
    });
} else {

    launchpadOverflow.addItem(pageVerticalMenu);
    openAppMaster.setVisible((openApps.getItems().length > 0));

    $('#launchpadOverflowContainer').css({
        'width': "100%"
    });
    $('#launchpadOverflowClickArea').css({
        'display': "block"
    });

    setTimeout(function() {
        launchpadOverflow.addStyleClass("nepLaunchpadMenuOverflowOpen");
    }, 10);
}
sap.n.Layout.setHeaderPadding();
}});
layoutShellBoxOverflow.addItem(AppCacheShellMenuOverflow); 
 var topLayoutLogo = new sap.m.HBox("topLayoutLogo",{renderType:"Bare"});
topLayoutLeft.addItem(topLayoutLogo); 
 var boxShellLogoDesktop = new sap.m.VBox("boxShellLogoDesktop",{alignItems:"Center",height:"48px",justifyContent:"Center",renderType:"Bare"});
topLayoutLogo.addItem(boxShellLogoDesktop); 
 var AppCacheShellLogoDesktop = new sap.m.Image("AppCacheShellLogoDesktop",{densityAware:false,tooltip:"Home",press: function(oEvent) {
try {
    if(AppCacheNav.getCurrentPage().getId().indexOf("page") === 0) {
        AppCache._Home();
    }
    else {
        AppCache._Back(true);
    }
} catch (e) {}
}});
boxShellLogoDesktop.addItem(AppCacheShellLogoDesktop); 
 var boxShellLogoMobile = new sap.m.VBox("boxShellLogoMobile",{alignContent:"Center",alignItems:"Center",height:"48px",justifyContent:"Center",renderType:"Bare",width:"48px"});
topLayoutLogo.addItem(boxShellLogoMobile); 
 var AppCacheShellLogoMobile = new sap.m.Image("AppCacheShellLogoMobile",{tooltip:"Home",densityAware:false,press: function(oEvent) {
try {
    if(AppCacheNav.getCurrentPage().getId().indexOf("page") === 0) {
        AppCache._Home();
    }
    else {
        AppCache._Back(true);
    }
} catch (e) {}
}});
boxShellLogoMobile.addItem(AppCacheShellLogoMobile); 
 var layoutShellTitle = new sap.m.VBox("layoutShellTitle",{height:"48px",justifyContent:"Center",renderType:"Bare"});
topLayoutLeft.addItem(layoutShellTitle); 
 var AppCacheShellTitle = new sap.m.Title("AppCacheShellTitle",{titleStyle:"H5",visible:false});
layoutShellTitle.addItem(AppCacheShellTitle); 
 var AppCacheAppButton = new sap.m.FlexBox("AppCacheAppButton",{alignContent:"Center",fitContainer:true,justifyContent:"Start",renderType:"Div",visible:false,wrap:"Wrap"});
topLayoutLeft.addItem(AppCacheAppButton); 
 var AppCacheShellAppTitle = new sap.m.Button("AppCacheShellAppTitle",{visible:false,press: function(oEvent) {
sap.n.Launchpad.AppTitleFn();
}});
AppCacheAppButton.addItem(AppCacheShellAppTitle); 
 var topContainerRight = new sap.m.VBox("topContainerRight",{});
toolTopMenu.addItem(topContainerRight); 
 var topLayoutRight = new sap.m.HBox("topLayoutRight",{alignItems:"Start"});
topContainerRight.addItem(topLayoutRight); 
 var AppCacheShellOpenApps = new sap.m.HBox("AppCacheShellOpenApps",{fitContainer:true,justifyContent:"End",renderType:"Div",wrap:"Wrap"});
topLayoutRight.addItem(AppCacheShellOpenApps); 
 var AppCacheShellNetwork = new sap.m.Button("AppCacheShellNetwork",{icon:"sap-icon://feed",tooltip:"Device is offline",type:"Reject",visible:false,press: function(oEvent) {
if (navigator.onLine) {
    var url = AppCache.UrlBase + "/neptune/native/neptune_login_ping";
    $.ajax({
        type: "POST",
        url: url,
        dataType: "HTML",
        success: function(data) {
            onOnline();
        },
        error: function(xhr, status, error) {}
    });
}
}});
topLayoutRight.addItem(AppCacheShellNetwork); 
 var AppCacheShellDebugError = new sap.m.Button("AppCacheShellDebugError",{text:0,visible:false,press: function(oEvent) {
diaDebugDisplay.open();
}});
topLayoutRight.addItem(AppCacheShellDebugError); 
 var AppCacheShellDebugWarning = new sap.m.Button("AppCacheShellDebugWarning",{text:0,visible:false,press: function(oEvent) {
diaDebugDisplay.open();
}});
topLayoutRight.addItem(AppCacheShellDebugWarning); 
 var AppCacheShellDebugInfo = new sap.m.Button("AppCacheShellDebugInfo",{text:0,visible:false,press: function(oEvent) {
diaDebugDisplay.open();
}});
topLayoutRight.addItem(AppCacheShellDebugInfo); 
 var AppCacheShellHelp = new sap.m.Button("AppCacheShellHelp",{icon:"sap-icon://sys-help-2",tooltip:"Help",type:"Transparent",visible:false,press: function(oEvent) {
if (sap.ui.Device.system.phone) {

    AppCache.Load("/NEPTUNE/DOCUMENTATION", {
        dialogShow: true,
        dialogTitle: "Help Documentation",
    });
}
else{
    sap.n.Shell.loadSidepanel("/neptune/documentation","Help");
}
}});
topLayoutRight.addItem(AppCacheShellHelp); 
 var AppCacheShellDialog = new sap.m.Button("AppCacheShellDialog",{icon:"sap-icon://drop-down-list",type:"Transparent",visible:false,press: function(oEvent) {
AppCacheUserDialog.openBy(this);
}});
topLayoutRight.addItem(AppCacheShellDialog); 
 var AppCacheShellNotif = new sap.m.Button("AppCacheShellNotif",{tooltip:"Notifications",visible:false,press: function(oEvent) {
if (popNotif.isOpen()) {
    popNotif.close();
} else {
    popNotif.openBy(this);
}

}});
topLayoutRight.addItem(AppCacheShellNotif); 
 var AppCacheShellFavorites = new sap.m.Button("AppCacheShellFavorites",{icon:"sap-icon://filter-fields",tooltip:"Manage Favorites",type:"Transparent",visible:false,press: function(oEvent) {
diaFavDnD.open(this);
}});
topLayoutRight.addItem(AppCacheShellFavorites); 
 var AppCacheShellUser = new sap.m.Button("AppCacheShellUser",{type:"Transparent",tooltip:"User Menu",icon:"sap-icon://fa-solid/user-circle",press: function(oEvent) {
sap.n.Launchpad.settingsMenuOpen();

try {
    if (!sap.n.Launchpad.includeFavorites || !sap.n.Launchpad.currentTile.GUID) {
        AppCacheUserActionFavAdd.setVisible(false);
        AppCacheUserActionFavDel.setVisible(false);
        return;
    }
} catch (e) {
    return;
}

var rec = ModelData.Find(AppCacheTilesFav, "GUID", sap.n.Launchpad.currentTile.GUID);

if (rec.length) {
    AppCacheUserActionFavAdd.setVisible(false);
    AppCacheUserActionFavDel.setVisible(true);
} else {
    AppCacheUserActionFavAdd.setVisible(true);
    AppCacheUserActionFavDel.setVisible(false);
}
}});
topLayoutRight.addItem(AppCacheShellUser); 
 var launchpadContent = new sap.m.FlexBox("launchpadContent",{direction:"Row",fitContainer:true,renderType:"Div"});
launchpadContainer.addItem(launchpadContent); 
 var launchpadContentMenu = new sap.m.VBox("launchpadContentMenu",{width:"0px",renderType:"Div",height:"100%",fitContainer:true});
launchpadContent.addItem(launchpadContentMenu); 
 var pageVerticalMenu = new sap.m.Page("pageVerticalMenu",{showSubHeader:false,showFooter:false,enableScrolling:false,backgroundDesign:"Transparent"})
launchpadContentMenu.addItem(pageVerticalMenu); 
 var headerVerticalMenu = new sap.m.Bar("headerVerticalMenu",{});
pageVerticalMenu.setCustomHeader(headerVerticalMenu); 
 var toolVerticalMenu = new sap.m.Toolbar("toolVerticalMenu",{width:"100%",design:"Transparent"});
headerVerticalMenu.addContentLeft(toolVerticalMenu); 
 var toolVerticalMenuFilter = new sap.m.Input("toolVerticalMenuFilter",{placeholder:"Filter navigator",liveChange: function(oEvent) {
toolVerticalMenuClear.setVisible(!!this.getValue());

// ENHANCEMENT: launchpadSearch
// Implement the launchpadSearch enhancement spot in an enhacement: Cockpit => Run => Enhancements
// Add the enhancement to a Launchpad or Mobile Client to use the enhancement
var config = {
    customFilters: [],
    searchValue: this.getValue(),
    liveSearch: true,
    preventDefault: false,
    tags: AppCacheShellSearchTags.getSelectedItems()
};
sap.n.Enhancement.launchpadSearch(config);

// exit of filtering is done in the enhancement
if (config.preventDefault) return;

sap.n.Launchpad.search({
    searchValue: config.searchValue,
    filters: config.customFilters
});
}});
toolVerticalMenu.addContent(toolVerticalMenuFilter); 
 var toolVerticalMenuClear = new sap.m.Button("toolVerticalMenuClear",{icon:"sap-icon://clear-filter",tooltip:"Clear filter",visible:false,press: function(oEvent) {
toolVerticalMenuFilter.setValue();
toolVerticalMenuFilter.fireLiveChange();
}});
toolVerticalMenu.addContent(toolVerticalMenuClear); 
 var toolVerticalMenuTags = new sap.m.Button("toolVerticalMenuTags",{icon:"sap-icon://fa-solid/hashtag",tooltip:"Filter by tags",visible:false,press: function(oEvent) {
var show = !pageVerticalMenu.getShowSubHeader();

pageVerticalMenu.setShowSubHeader(show);

if (!show) {
    AppCacheShellSearchTags.removeAllSelectedItems();
    toolVerticalMenuFilter.fireLiveChange();
}
}});
toolVerticalMenu.addContent(toolVerticalMenuTags); 
 var toolVerticalMenuExpand = new sap.m.Button("toolVerticalMenuExpand",{icon:"sap-icon://expand-group",tooltip:"Expand",press: function(oEvent) {
ContentMenu.expandToLevel(99);
sap.n.Launchpad.setMenuActiveState();

sap.n.Launchpad.openAppExpanded = true;
sap.n.Launchpad.setOpenAppsExpanded();
}});
toolVerticalMenu.addContent(toolVerticalMenuExpand); 
 var toolVerticalMenuCollapse = new sap.m.Button("toolVerticalMenuCollapse",{icon:"sap-icon://collapse-group",tooltip:"Collapse",press: function(oEvent) {
ContentMenu.expandToLevel(0);
sap.n.Launchpad.setMenuActiveState();

sap.n.Launchpad.openAppExpanded = false;
sap.n.Launchpad.setOpenAppsExpanded();
}});
toolVerticalMenu.addContent(toolVerticalMenuCollapse); 
 var subHeaderVerticalMenu = new sap.m.Bar("subHeaderVerticalMenu",{});
pageVerticalMenu.setSubHeader(subHeaderVerticalMenu); 
 var toolVerticalMenuSub = new sap.m.Toolbar("toolVerticalMenuSub",{design:"Transparent"});
subHeaderVerticalMenu.addContentLeft(toolVerticalMenuSub); 
 var AppCacheShellSearchTags = new sap.m.MultiComboBox("AppCacheShellSearchTags",{placeholder:"Filter by tags",selectionChange: function(oEvent) {
//
toolVerticalMenuFilter.fireLiveChange();
this.close();
}});
toolVerticalMenuSub.addContent(AppCacheShellSearchTags); 
 var scrollVerticalMenu = new sap.m.ScrollContainer("scrollVerticalMenu",{height:"100%",horizontal:false,vertical:true});
pageVerticalMenu.addContent(scrollVerticalMenu); 
 var appContainerVertical = new sap.m.VBox("appContainerVertical",{});
scrollVerticalMenu.addContent(appContainerVertical); 
 var appGhost = new sap.m.VBox("appGhost",{});
appContainerVertical.addItem(appGhost); 
 var openAppMaster = new sap.m.Button("openAppMaster",{icon:"sap-icon://fa-solid/caret-down",text:"Active Apps",visible:false,press: function(oEvent) {
sap.n.Launchpad.openAppExpanded = !sap.n.Launchpad.openAppExpanded;
sap.n.Launchpad.setOpenAppsExpanded();

sap.n.Utils.userSetting.update({
    AREA: "LAUNCHPAD",
    GROUPING: "MULTI_MENU",
    NAME: "EXPAND_OPEN_APPS",
    KEY0: "Expand",
    VAL0: sap.n.Launchpad.openAppExpanded ? "yes" : "no"
});
}});
appGhost.addItem(openAppMaster); 
 var openApps = new sap.m.VBox("openApps",{});
appGhost.addItem(openApps); 
 var ContentMenu = new sap.m.Tree("ContentMenu",{rememberSelections:false,showNoData:false,showSeparators:"None",mode:"SingleSelectMaster",itemPress: function(oEvent) {
var selectedItem = this.getSelectedItem();
if (selectedItem) {
    sap.n.Launchpad.handleTreeNavigation(selectedItem);
    ContentMenu.removeSelections();
}
},toggleOpenState: function(oEvent) {
//
sap.n.Launchpad.setMenuActiveState();
}});
scrollVerticalMenu.addContent(ContentMenu);
var modelContentMenu = new sap.ui.model.json.JSONModel();
ContentMenu.setModel(modelContentMenu); 
 var itemContentMenu = new sap.m.StandardTreeItem("itemContentMenu",{icon:"{TILE_ICON}",title:"{TILE_TITLE}",type:"Active"});
ContentMenu.bindAggregation("items", "/",itemContentMenu); 
 var launchpadContentNavigator = new sap.m.VBox("launchpadContentNavigator",{fitContainer:true,renderType:"Div",width:"0px"});
launchpadContent.addItem(launchpadContentNavigator); 
 var navBar = new sap.m.Page("navBar",{backgroundDesign:"Transparent",enableScrolling:false,showFooter:false,showHeader:false,showSubHeader:false})
launchpadContentNavigator.addItem(navBar); 
 var navBarContent = new sap.m.VBox("navBarContent",{alignContent:"Start",fitContainer:true,height:"100%",justifyContent:"SpaceBetween",renderType:"Bare"});
navBar.addContent(navBarContent); 
 var blockRunning = new sap.m.FlexBox("blockRunning",{fitContainer:true,renderType:"Bare"});
navBarContent.addItem(blockRunning); 
 var blockRunningRow = new sap.m.VBox("blockRunningRow",{});
blockRunning.addItem(blockRunningRow); 
 var containerPinOpenApps = new sap.m.HBox("containerPinOpenApps",{justifyContent:"End",width:"100%"});
navBarContent.addItem(containerPinOpenApps); 
 var layoutPinOpenApps = new sap.m.VBox("layoutPinOpenApps",{renderType:"Bare"});
containerPinOpenApps.addItem(layoutPinOpenApps); 
 var boxPinOpenApps = new sap.m.VBox("boxPinOpenApps",{alignContent:"Center",alignItems:"Center",height:"100%",justifyContent:"Center"});
layoutPinOpenApps.addItem(boxPinOpenApps); 
 var iconPinOpenApps = new sap.ui.core.Icon("iconPinOpenApps",{src:"sap-icon://fa-regular/arrow-alt-circle-right",size:"2rem",backgroundColor:"transparent",press: function(oEvent) {
var size = (launchpadContentNavigator.getWidth() === "68px") ? "300px" : "68px";
var icon = (size === "68px") ? "sap-icon://fa-regular/arrow-alt-circle-right" : "sap-icon://fa-regular/arrow-alt-circle-left";

launchpadContentNavigator.setWidth(size);
iconPinOpenApps.setSrc(icon);

sap.n.Utils.userSetting.update({
    AREA: "LAUNCHPAD",
    GROUPING: "OPEN_APPS",
    NAME: "SIDE_MENU",
    KEY0: "Size",
    VAL0: size
});
sap.n.Launchpad.openAppsSideMenuSize = size;
sap.n.Layout.setHeaderPadding();
}});
boxPinOpenApps.addItem(iconPinOpenApps); 
 var launchpadContentMain = new sap.m.VBox("launchpadContentMain",{fitContainer:true,renderType:"Div"});
launchpadContent.addItem(launchpadContentMain); 
 var AppCacheShellUI = new sap.m.Shell("AppCacheShellUI",{appWidthLimited:false,title:""});
launchpadContentMain.addItem(AppCacheShellUI); 
 var AppCacheNav = new sap.m.NavContainer("AppCacheNav",{defaultTransitionName:"show",afterNavigate: function(oEvent) {
// only on back => AppCacheNav.back()
if(oEvent.getParameter("direction") === "back") {

    var to = oEvent.getParameter("to");

    // only views, not pages
    if (to.sViewName) {

        var navId = AppCacheNav.getCurrentPage().getId();
        if (AppCacheNav.views[navId]) {
            sap.n.Launchpad.setAppWidthLimited(AppCacheNav.views[navId].appWidthLimited);
        }
    }
}
sap.n.Launchpad.setShellWidth();

// if (this.getCurrentPage() !== AppCache_boxSearch && !this.doNotKillSearchBox) {
//     AppCacheShellSearchBox.setVisible(false);
//     AppCacheShellSearchBtn.setIcon("sap-icon://search");
// }
// this.doNotKillSearchBox = false;
},navigate: function(oEvent) {
// only on back => AppCacheNav.back()
if(oEvent.getParameter("direction") === "back") {

    location.hash = "";
    var to = oEvent.getParameter("to");

    // only views, not pages
    if (to.sViewName) {
        for (var key in AppCache.View) {
            var view = AppCache.View[key];
            if (view && view.sId === to.sId) {

                // new active view/tile
                sap.n.Launchpad.currentTile = {
                    GUID: key
                };
                return false;
            }
        }
    }
    else {

        //page, remove active tile/view
        sap.n.Launchpad.currentTile = {};
    }
}
}});
AppCacheShellUI.setApp(AppCacheNav); 
 var AppCachePageMenu = new sap.m.Page("AppCachePageMenu",{backgroundDesign:"Transparent",showHeader:false})
AppCacheNav.addPage(AppCachePageMenu);
var modelAppCachePageMenu = new sap.ui.model.json.JSONModel();
AppCachePageMenu.setModel(modelAppCachePageMenu); 
 var AppCache_boxURL = new sap.m.Page("AppCache_boxURL",{backgroundDesign:"Transparent",enableScrolling:false,showFooter:false,showHeader:false})
AppCacheNav.addPage(AppCache_boxURL); 
 var AppCache_urlHTML = new sap.ui.core.HTML("AppCache_urlHTML",{});AppCache_urlHTML.setDOMContent("<div id='AppCache_URLDiv' style='height:100%;width:100%;'></div>");
AppCache_boxURL.addContent(AppCache_urlHTML); 
 var AppCache_boxLogon = new sap.m.Page("AppCache_boxLogon",{backgroundDesign:"Transparent",showFooter:false,showHeader:false})
AppCacheNav.addPage(AppCache_boxLogon); 
 var messageLogon = new sap.m.MessageStrip("messageLogon",{type:"Error"});
AppCache_boxLogon.addContent(messageLogon); 
 var flexLogon = new sap.m.FlexBox("flexLogon",{renderType:"Div",justifyContent:"Center",fitContainer:true,alignItems:"Start",alignContent:"Center"});
AppCache_boxLogon.addContent(flexLogon); 
 var boxLogon = new sap.m.VBox("boxLogon",{});
flexLogon.addItem(boxLogon); 
 var AppCache_formLogon = new sap.ui.layout.form.SimpleForm("AppCache_formLogon",{backgroundDesign:"Transparent",editable:true,labelSpanL:12,labelSpanM:12,"layout":"ResponsiveGridLayout",width:"320px"});
boxLogon.addItem(AppCache_formLogon); 
 var AppCache_lblADFS = new sap.m.Label("AppCache_lblADFS",{text:"Domain",visible:false});
AppCache_formLogon.addContent(AppCache_lblADFS); 
 var AppCache_inADFS = new sap.m.Select("AppCache_inADFS",{visible:false,change: function(oEvent) {
var data = ModelData.Find(AppCache_inADFS,"GUID",AppCache_inADFS.getSelectedKey())[0];

AppCache.samlUrlLogon = data.SAML_LOGON;
AppCache.samlUrlLogoff = data.SAML_LOGOFF;
AppCache.samlUserField = data.SAML_USER_FIELD;
AppCache.samlPasswordField = data.SAML_PASS_FIELD;
AppCache.samlPrefix = data.SAML_PREFIX;
}});
AppCache_formLogon.addContent(AppCache_inADFS); 
 var AppCache_lblUsername = new sap.m.Label("AppCache_lblUsername",{text:"Username"});
AppCache_formLogon.addContent(AppCache_lblUsername); 
 var AppCache_inUsername = new sap.m.Input("AppCache_inUsername",{width:"100%",submit: function(oEvent) {
AppCache_inPassword.focus();
}});
AppCache_formLogon.addContent(AppCache_inUsername); 
 var AppCache_lblPassword = new sap.m.Label("AppCache_lblPassword",{text:"Password"});
AppCache_formLogon.addContent(AppCache_lblPassword); 
 var AppCache_inPassword = new sap.m.Input("AppCache_inPassword",{type:"Password",width:"100%",submit: function(oEvent) {
AppCache_butLogon.firePress();
}});
AppCache_formLogon.addContent(AppCache_inPassword); 
 var AppCache_lblLanguage = new sap.m.Label("AppCache_lblLanguage",{text:"Language",visible:false});
AppCache_formLogon.addContent(AppCache_lblLanguage); 
 var AppCache_inLanguage = new sap.m.Select("AppCache_inLanguage",{visible:false,width:"100%"});
AppCache_formLogon.addContent(AppCache_inLanguage); 
 var AppCache_butLogon = new sap.m.Button("AppCache_butLogon",{text:"Logon",width:"100%",press: function(oEvent) {
AppCache_inUsername.setValue(AppCache_inUsername.getValue().trim());
messageLogon.setText();
AppCache.Logon();
}});
AppCache_formLogon.addContent(AppCache_butLogon); 
 var AppCache_introMsg = new sap.m.Text("AppCache_introMsg",{visible:false});
AppCache_formLogon.addContent(AppCache_introMsg); 
 var AppCache_resetPassword = new sap.m.Link("AppCache_resetPassword",{text:"Forgot Password",visible:false,press: function(oEvent) {
window.open(AppCache.passUrlReset, "_system");
}});
AppCache_formLogon.addContent(AppCache_resetPassword); 
 var AppCache_boxPassword = new sap.m.Page("AppCache_boxPassword",{backgroundDesign:"Transparent",showFooter:false,showHeader:false})
AppCacheNav.addPage(AppCache_boxPassword); 
 var messagePassword = new sap.m.MessageStrip("messagePassword",{type:"Error"});
AppCache_boxPassword.addContent(messagePassword); 
 var flexPassword = new sap.m.FlexBox("flexPassword",{justifyContent:"Center",renderType:"Div",fitContainer:true,alignItems:"Start",alignContent:"Center"});
AppCache_boxPassword.addContent(flexPassword); 
 var boxPassword = new sap.m.VBox("boxPassword",{});
flexPassword.addItem(boxPassword); 
 var AppCache_formPassword = new sap.ui.layout.form.SimpleForm("AppCache_formPassword",{labelSpanM:12,"layout":"ResponsiveGridLayout",width:"320px",labelSpanL:12,editable:true,backgroundDesign:"Transparent"});
boxPassword.addItem(AppCache_formPassword); 
 var AppCache_lblPassOld = new sap.m.Label("AppCache_lblPassOld",{text:"Old"});
AppCache_formPassword.addContent(AppCache_lblPassOld); 
 var AppCache_inPassOld = new sap.m.Input("AppCache_inPassOld",{type:"Password",change: function(oEvent) {
AppCache_inPassword.focus();
}});
AppCache_formPassword.addContent(AppCache_inPassOld); 
 var AppCache_lblPassNew = new sap.m.Label("AppCache_lblPassNew",{text:"New"});
AppCache_formPassword.addContent(AppCache_lblPassNew); 
 var AppCache_inPassNew = new sap.m.Input("AppCache_inPassNew",{type:"Password",submit: function(oEvent) {
AppCache_inPassRepeat.focus();
}});
AppCache_formPassword.addContent(AppCache_inPassNew); 
 var AppCache_lblPassRepeat = new sap.m.Label("AppCache_lblPassRepeat",{text:"Repeat"});
AppCache_formPassword.addContent(AppCache_lblPassRepeat); 
 var AppCache_inPassRepeat = new sap.m.Input("AppCache_inPassRepeat",{type:"Password",submit: function(oEvent) {
AppCache_butPassword.firePress();
}});
AppCache_formPassword.addContent(AppCache_inPassRepeat); 
 var AppCache_butPassword = new sap.m.Button("AppCache_butPassword",{text:"Confirm",press: function(oEvent) {
AppCache.SetPassword();
}});
AppCache_formPassword.addContent(AppCache_butPassword); 
 var AppCache_boxPasscode = new sap.m.Page("AppCache_boxPasscode",{backgroundDesign:"Transparent",showFooter:false,showHeader:false})
AppCacheNav.addPage(AppCache_boxPasscode); 
 var messagePasscode = new sap.m.MessageStrip("messagePasscode",{type:"Error"});
AppCache_boxPasscode.addContent(messagePasscode); 
 var flexPasscode = new sap.m.FlexBox("flexPasscode",{alignContent:"Center",alignItems:"Start",fitContainer:true,justifyContent:"Center",renderType:"Div"});
AppCache_boxPasscode.addContent(flexPasscode); 
 var boxPasscode = new sap.m.VBox("boxPasscode",{});
flexPasscode.addItem(boxPasscode); 
 var AppCache_formPasscode = new sap.ui.layout.form.SimpleForm("AppCache_formPasscode",{width:"320px","layout":"ResponsiveGridLayout",labelSpanM:12,labelSpanL:12,editable:true,backgroundDesign:"Transparent"});
boxPasscode.addItem(AppCache_formPasscode); 
 var AppCache_lblPasscode1 = new sap.m.Label("AppCache_lblPasscode1",{text:"Set Pin"});
AppCache_formPasscode.addContent(AppCache_lblPasscode1); 
 var AppCache_inPasscode1 = new sap.m.Input("AppCache_inPasscode1",{placeholder:"Numeric only",type:"Tel",liveChange: function(oEvent) {
this.setValue(this.getValue().replace(/[^0-9]/g, ""));
},submit: function(oEvent) {
AppCache_inPasscode2.focus();
}});
AppCache_formPasscode.addContent(AppCache_inPasscode1); 
 var AppCache_lblPasscode2 = new sap.m.Label("AppCache_lblPasscode2",{text:"Repeat Pin"});
AppCache_formPasscode.addContent(AppCache_lblPasscode2); 
 var AppCache_inPasscode2 = new sap.m.Input("AppCache_inPasscode2",{placeholder:"Numeric only",type:"Tel",liveChange: function(oEvent) {
this.setValue(this.getValue().replace(/[^0-9]/g, ""));
},submit: function(oEvent) {
AppCache_butPasscode.firePress();
}});
AppCache_formPasscode.addContent(AppCache_inPasscode2); 
 var AppCache_butPasscode = new sap.m.Button("AppCache_butPasscode",{text:"Confirm",press: function(oEvent) {
AppCache.SetPasscode();
}});
AppCache_formPasscode.addContent(AppCache_butPasscode); 
 var AppCache_boxPasscodeEntry = new sap.m.Page("AppCache_boxPasscodeEntry",{title:"PASSCODE",showHeader:false})
AppCacheNav.addPage(AppCache_boxPasscodeEntry); 
 var containerNumpadPanel = new sap.m.FlexBox("containerNumpadPanel",{alignContent:"Center",alignItems:"Start",fitContainer:true,justifyContent:"Center",renderType:"Div"});
AppCache_boxPasscodeEntry.addContent(containerNumpadPanel); 
 var layoutNumpadPanel = new sap.m.VBox("layoutNumpadPanel",{});
containerNumpadPanel.addItem(layoutNumpadPanel); 
 var boxNumpadPanel = new sap.m.Panel("boxNumpadPanel",{backgroundDesign:"Transparent",width:"320px"});
layoutNumpadPanel.addItem(boxNumpadPanel); 
 var boxNumpadContent = new sap.m.VBox("boxNumpadContent",{});
boxNumpadPanel.addContent(boxNumpadContent); 
 var boxShake = new sap.m.VBox("boxShake",{});
boxNumpadContent.addItem(boxShake); 
 var boxNumpad02 = new sap.m.HBox("boxNumpad02",{alignItems:"Center",justifyContent:"Center",width:"100%"});
boxShake.addItem(boxNumpad02); 
 var Passcode1 = new sap.m.CheckBox("Passcode1",{enabled:false});
boxNumpad02.addItem(Passcode1); 
 var Passcode2 = new sap.m.CheckBox("Passcode2",{enabled:false});
boxNumpad02.addItem(Passcode2); 
 var Passcode3 = new sap.m.CheckBox("Passcode3",{enabled:false});
boxNumpad02.addItem(Passcode3); 
 var Passcode4 = new sap.m.CheckBox("Passcode4",{enabled:false});
boxNumpad02.addItem(Passcode4); 
 var Passcode5 = new sap.m.CheckBox("Passcode5",{enabled:false,visible:false});
boxNumpad02.addItem(Passcode5); 
 var Passcode6 = new sap.m.CheckBox("Passcode6",{enabled:false,visible:false});
boxNumpad02.addItem(Passcode6); 
 var Passcode7 = new sap.m.CheckBox("Passcode7",{enabled:false,visible:false});
boxNumpad02.addItem(Passcode7); 
 var Passcode8 = new sap.m.CheckBox("Passcode8",{enabled:false,visible:false});
boxNumpad02.addItem(Passcode8); 
 var boxNumpad1 = new sap.m.HBox("boxNumpad1",{alignItems:"Center",justifyContent:"Center",width:"100%"});
boxNumpadContent.addItem(boxNumpad1); 
 var butNumpad1 = new sap.m.Button("butNumpad1",{text:1,press: function(oEvent) {
NumPad.enterKey(1);
}});
boxNumpad1.addItem(butNumpad1); 
 var butNumpad2 = new sap.m.Button("butNumpad2",{text:2,press: function(oEvent) {
NumPad.enterKey(2);
}});
boxNumpad1.addItem(butNumpad2); 
 var butNumpad3 = new sap.m.Button("butNumpad3",{text:3,press: function(oEvent) {
NumPad.enterKey(3);
}});
boxNumpad1.addItem(butNumpad3); 
 var boxNumpad2 = new sap.m.HBox("boxNumpad2",{alignItems:"Center",justifyContent:"Center",width:"100%"});
boxNumpadContent.addItem(boxNumpad2); 
 var butNumpad4 = new sap.m.Button("butNumpad4",{text:4,press: function(oEvent) {
NumPad.enterKey(4);
}});
boxNumpad2.addItem(butNumpad4); 
 var butNumpad5 = new sap.m.Button("butNumpad5",{text:5,press: function(oEvent) {
NumPad.enterKey(5);
}});
boxNumpad2.addItem(butNumpad5); 
 var butNumpad6 = new sap.m.Button("butNumpad6",{text:6,press: function(oEvent) {
NumPad.enterKey(6);
}});
boxNumpad2.addItem(butNumpad6); 
 var boxNumpad3 = new sap.m.HBox("boxNumpad3",{alignItems:"Center",justifyContent:"Center",width:"100%"});
boxNumpadContent.addItem(boxNumpad3); 
 var butNumpad7 = new sap.m.Button("butNumpad7",{text:7,press: function(oEvent) {
NumPad.enterKey(7);
}});
boxNumpad3.addItem(butNumpad7); 
 var butNumpad8 = new sap.m.Button("butNumpad8",{text:8,press: function(oEvent) {
NumPad.enterKey(8);
}});
boxNumpad3.addItem(butNumpad8); 
 var butNumpad9 = new sap.m.Button("butNumpad9",{text:9,press: function(oEvent) {
NumPad.enterKey(9);
}});
boxNumpad3.addItem(butNumpad9); 
 var boxNumpad4 = new sap.m.HBox("boxNumpad4",{alignItems:"Center",justifyContent:"Center",width:"100%"});
boxNumpadContent.addItem(boxNumpad4); 
 var butNumpadClear = new sap.m.Button("butNumpadClear",{icon:"sap-icon://decline",press: function(oEvent) {
// Remove CSS animation class
boxShake.removeStyleClass("animated shake");

// Clear numpad
NumPad.Clear();
}});
boxNumpad4.addItem(butNumpadClear); 
 var butNumpad0 = new sap.m.Button("butNumpad0",{text:0,press: function(oEvent) {
NumPad.enterKey(0);
}});
boxNumpad4.addItem(butNumpad0); 
 var butNumpadLogin = new sap.m.Button("butNumpadLogin",{enabled:false,icon:"sap-icon://accept",type:"Default",press: function(oEvent) {
// Check biometricAuthentication
if (AppCache.biometricAuthentication) {

    // Remove CSS animation class
    boxShake.removeStyleClass("animated shake");

    // Clear numpad
    NumPad.Clear();

    sap.n.Fingerprint.getPasscode();

} else {
    NumPad.Logon();
}
}});
boxNumpad4.addItem(butNumpadLogin); 
 var AppCache_boxCaptcha = new sap.m.Page("AppCache_boxCaptcha",{backgroundDesign:"Transparent",showFooter:false,showHeader:false})
AppCacheNav.addPage(AppCache_boxCaptcha); 
 var messageCaptcha = new sap.m.MessageStrip("messageCaptcha",{type:"Error"});
AppCache_boxCaptcha.addContent(messageCaptcha); 
 var AppCache_formCaptcha = new sap.ui.layout.form.SimpleForm("AppCache_formCaptcha",{backgroundDesign:"Transparent",editable:true,labelMinWidth:120});
AppCache_boxCaptcha.addContent(AppCache_formCaptcha); 
 var AppCache_titleCaptcha = new sap.ui.core.Title("AppCache_titleCaptcha",{level:"H1",text:"Captcha"});
AppCache_formCaptcha.addContent(AppCache_titleCaptcha); 
 var AppCache_lblCaptcha = new sap.m.Label("AppCache_lblCaptcha",{text:"Captcha Code"});
AppCache_formCaptcha.addContent(AppCache_lblCaptcha); 
 var AppCache_boxCaptchaCode = new sap.m.VBox("AppCache_boxCaptchaCode",{});
AppCache_formCaptcha.addContent(AppCache_boxCaptchaCode); 
 var AppCache_inCaptcha = new sap.m.Input("AppCache_inCaptcha",{});
AppCache_boxCaptchaCode.addItem(AppCache_inCaptcha); 
 var AppCache_imgCaptcha = new sap.m.Image("AppCache_imgCaptcha",{});
AppCache_boxCaptchaCode.addItem(AppCache_imgCaptcha); 
 var AppCache_butSendCaptcha = new sap.m.Button("AppCache_butSendCaptcha",{icon:"sap-icon://accept",type:"Emphasized",press: function(oEvent) {
$.ajax(
{
    type:"POST",
    data: AppCache.xmlString,
    beforeSend: function (request)
    {
        request.setRequestHeader("Content-Type", "application/atom+xml");
        request.setRequestHeader("X-SUP-CAPTCHA-TEXT", AppCache_inCaptcha.getValue());
    },
    url: AppCache.Url +  "/odata/applications/latest/" + AppCache.smpApplication + "/Connections",
    statusCode:
    {
        200: function()
        {
            AppCache_inCaptcha.setValue();
            AppCache.setEnableCaptchaScreen(false);
            AppCache.Logon();
        },
        201: function()
        {
            AppCache_inCaptcha.setValue();
            AppCache.setEnableCaptchaScreen(false);
            AppCache.Logon();
        },
        401: function(data)
        {
            AppCache_inCaptcha.setValue();
            AppCache_imgCaptcha.setSrc("data:image/jpeg;base64," + data.responseText);
            AppCache_inCaptcha.focus();
        },
    }
}
);

}});
AppCache_boxCaptchaCode.addItem(AppCache_butSendCaptcha); 
 var AppCache_boxUsers = new sap.m.Page("AppCache_boxUsers",{backgroundDesign:"Transparent",showFooter:false,showHeader:false})
AppCacheNav.addPage(AppCache_boxUsers); 
 var containerAppCacheUsers = new sap.m.FlexBox("containerAppCacheUsers",{alignContent:"Center",alignItems:"Start",fitContainer:true,justifyContent:"Center",renderType:"Div"});
AppCache_boxUsers.addContent(containerAppCacheUsers); 
 var layoutAppCacheUsers = new sap.m.VBox("layoutAppCacheUsers",{});
containerAppCacheUsers.addItem(layoutAppCacheUsers); 
 var AppCacheUsers = new sap.m.List("AppCacheUsers",{backgroundDesign:"Transparent",growing:true,growingScrollToLoad:true,inset:true,rememberSelections:false,showNoData:false,showSeparators:"None"});
layoutAppCacheUsers.addItem(AppCacheUsers);
var modelAppCacheUsers = new sap.ui.model.json.JSONModel();
AppCacheUsers.setModel(modelAppCacheUsers); 
 var AppCache_itemUsers = new sap.m.CustomListItem("AppCache_itemUsers",{type:"Active",press: function(oEvent) {
var context = oEvent.oSource.getBindingContext();
var dataUser = context.getObject();

AppCache.setEnablePasscodeEntry(dataUser);

// getCacheAppCacheSettings();

// Select Multi ADFS Selection
if (AppCache.enableSAML && AppCache.adfsMultiSetup.length) {
    AppCache_inADFS.setSelectedKey(context.getProperty("SAML_GUID"));
    AppCache_inADFS.fireChange();
}

}});
AppCacheUsers.bindAggregation("items", "/",AppCache_itemUsers); 
 var containerAppCache_itemUsers = new sap.m.HBox("containerAppCache_itemUsers",{height:"3rem",justifyContent:"SpaceBetween",width:"100%"});
AppCache_itemUsers.addContent(containerAppCache_itemUsers); 
 var layoutAppCache_itemUsersTxt = new sap.m.VBox("layoutAppCache_itemUsersTxt",{justifyContent:"Center",width:"100%"});
containerAppCache_itemUsers.addItem(layoutAppCache_itemUsersTxt); 
 var txtAppCache_itemUsersName = new sap.m.Text("txtAppCache_itemUsersName",{text:"{NAME}"});
layoutAppCache_itemUsersTxt.addItem(txtAppCache_itemUsersName); 
 var txtAppCache_itemUsersDate = new sap.m.Text("txtAppCache_itemUsersDate",{text:{parts:["TRDAT","LTIME","UNAME"]}});
layoutAppCache_itemUsersTxt.addItem(txtAppCache_itemUsersDate); 
 var layoutAppCache_itemUsersBtn = new sap.m.VBox("layoutAppCache_itemUsersBtn",{width:"11rem"});
containerAppCache_itemUsers.addItem(layoutAppCache_itemUsersBtn); 
 var btnAppCache_itemUsers = new sap.m.Button("btnAppCache_itemUsers",{text:"Log Out",width:"100%",press: function(oEvent) {
var context = oEvent.oSource.getBindingContext();
var username = context.getProperty("UNAME");
var sso = context.getProperty("UNAME_SSO");
var biometric = context.getProperty("BIOMETRIC");

AppCache.userLogout(username, sso, biometric);
}});
layoutAppCache_itemUsersBtn.addItem(btnAppCache_itemUsers); 
 var formAddUser = new sap.ui.layout.form.SimpleForm("formAddUser",{backgroundDesign:"Transparent",editable:true,labelSpanL:12,labelSpanM:12,"layout":"ResponsiveGridLayout"});
layoutAppCacheUsers.addItem(formAddUser); 
 var butAddUser = new sap.m.Button("butAddUser",{width:"100%",text:"New User Log On",press: function(oEvent) {
//
AppCache.setEnableLogonScreen();
}});
formAddUser.addContent(butAddUser); 
 var AppCache_boxOutbox = new sap.m.Page("AppCache_boxOutbox",{backgroundDesign:"Solid",showFooter:false,showHeader:false})
AppCacheNav.addPage(AppCache_boxOutbox); 
 var AppCacheOutbox = new sap.m.Table("AppCacheOutbox",{mode:"Delete",growingThreshold:100,growingScrollToLoad:true,growing:true,delete: function(oEvent) {
var deleteItem = oEvent.getParameter("listItem");
var context = deleteItem.getBindingContext();
var data = context.getObject();

ModelData.Delete(AppCacheOutbox,"ID",data.ID);



}});
AppCache_boxOutbox.addContent(AppCacheOutbox);
var modelAppCacheOutbox = new sap.ui.model.json.JSONModel();
AppCacheOutbox.setModel(modelAppCacheOutbox); 
 var AppcacheOutboxTool = new sap.m.Toolbar("AppcacheOutboxTool",{});
AppCacheOutbox.setHeaderToolbar(AppcacheOutboxTool); 
 var AppCacheOutboxFilter = new sap.m.SearchField("AppCacheOutboxFilter",{width:"200px",liveChange: function(oEvent) {
// Set List Filter
var binding = AppCacheOutbox.getBinding("items");

var filter = new sap.ui.model.Filter({
    filters: [
        new sap.ui.model.Filter("APPLID", "Contains", this.getValue()),
        new sap.ui.model.Filter("SYNC_ID", "Contains", this.getValue()),
        new sap.ui.model.Filter("UNAME", "Contains", this.getValue()),
        new sap.ui.model.Filter("OBJECTKEY", "Contains", this.getValue()),
    ],
    and: false
})

binding.filter([filter]);
}});
AppcacheOutboxTool.addContent(AppCacheOutboxFilter); 
 var AppCacheOutboxSpacer = new sap.m.ToolbarSpacer("AppCacheOutboxSpacer",{});
AppcacheOutboxTool.addContent(AppCacheOutboxSpacer); 
 var AppCacheOutboxSend = new sap.m.Button("AppCacheOutboxSend",{icon:"sap-icon://synchronize",text:"Send",press: function(oEvent) {
sap.n.Outbox.send();
}});
AppcacheOutboxTool.addContent(AppCacheOutboxSend); 
 var colAppCacheOutboxUNAME = new sap.m.Column("colAppCacheOutboxUNAME",{header: new sap.m.Label({text:"User"})});
AppCacheOutbox.addColumn(colAppCacheOutboxUNAME); 
 var colAppCacheOutboxAPPLID = new sap.m.Column("colAppCacheOutboxAPPLID",{header: new sap.m.Label({text:"Application"})});
AppCacheOutbox.addColumn(colAppCacheOutboxAPPLID); 
 var colAppCacheOutboxSYNC_ID = new sap.m.Column("colAppCacheOutboxSYNC_ID",{header: new sap.m.Label({text:"Sync ID"})});
AppCacheOutbox.addColumn(colAppCacheOutboxSYNC_ID); 
 var colAppCacheOutboxOBJECTKEY = new sap.m.Column("colAppCacheOutboxOBJECTKEY",{header: new sap.m.Label({text:"Key"})});
AppCacheOutbox.addColumn(colAppCacheOutboxOBJECTKEY); 
 var colAppCacheOutboxIMMEDIATE = new sap.m.Column("colAppCacheOutboxIMMEDIATE",{header: new sap.m.Label({text:"Immediate"}),width:"40px"});
AppCacheOutbox.addColumn(colAppCacheOutboxIMMEDIATE); 
 var colAppCacheOutboxCREDAT = new sap.m.Column("colAppCacheOutboxCREDAT",{header: new sap.m.Label({text:"Created At"})});
AppCacheOutbox.addColumn(colAppCacheOutboxCREDAT); 
 var colAppCacheOutboxUPDDAT = new sap.m.Column("colAppCacheOutboxUPDDAT",{header: new sap.m.Label({text:"Updated At"})});
AppCacheOutbox.addColumn(colAppCacheOutboxUPDDAT); 
 var colItemAppCacheOutbox = new sap.m.ColumnListItem("colItemAppCacheOutbox",{});
AppCacheOutbox.bindAggregation("items", "/",colItemAppCacheOutbox); 
 var txtAppCacheOutboxUNAME = new sap.m.Text("txtAppCacheOutboxUNAME",{text:"{UNAME}"});
colItemAppCacheOutbox.addCell(txtAppCacheOutboxUNAME); 
 var txtAppCacheOutboxAPPLID = new sap.m.Text("txtAppCacheOutboxAPPLID",{text:"{APPLID}"});
colItemAppCacheOutbox.addCell(txtAppCacheOutboxAPPLID); 
 var txtAppCacheOutboxSYNC_ID = new sap.m.Text("txtAppCacheOutboxSYNC_ID",{text:"{SYNC_ID}"});
colItemAppCacheOutbox.addCell(txtAppCacheOutboxSYNC_ID); 
 var txtAppCacheOutboxOBJECTKEY = new sap.m.Text("txtAppCacheOutboxOBJECTKEY",{text:"{OBJECTKEY}"});
colItemAppCacheOutbox.addCell(txtAppCacheOutboxOBJECTKEY); 
 var inAppCacheOutboxIMMEDIATE = new sap.m.CheckBox("inAppCacheOutboxIMMEDIATE",{editable:false,selected:"{IMMEDIATE}"});
colItemAppCacheOutbox.addCell(inAppCacheOutboxIMMEDIATE); 
 var txtAppCacheOutboxCREDAT = new sap.m.Text("txtAppCacheOutboxCREDAT",{text:"{CREDAT}"});
colItemAppCacheOutbox.addCell(txtAppCacheOutboxCREDAT); 
 var txtAppCacheOutboxUPDDAT = new sap.m.Text("txtAppCacheOutboxUPDDAT",{text:"{UPDDAT}"});
colItemAppCacheOutbox.addCell(txtAppCacheOutboxUPDDAT); 
 var AppCache_boxStore = new sap.m.Page("AppCache_boxStore",{backgroundDesign:"Transparent",showFooter:false,showHeader:false})
AppCacheNav.addPage(AppCache_boxStore);
var modelAppCache_boxStore = new sap.ui.model.json.JSONModel();
AppCache_boxStore.setModel(modelAppCache_boxStore); 
 var oFlexBox = new sap.m.FlexBox("oFlexBox",{width:"100%"});
AppCache_boxStore.addContent(oFlexBox); 
 var oTileGrid = new sap.m.VBox("oTileGrid",{width:"100%",height:"100%",alignContent:"Start"});
oFlexBox.addItem(oTileGrid); 
 var oVBox1 = new sap.m.VBox("oVBox1",{width:"100%"});
oTileGrid.addItem(oVBox1); 
 var oTileContent = new sap.m.VBox("oTileContent",{height:"calc(100% - 50px)"});
oVBox1.addItem(oTileContent); 
 var oHBoxTitle = new sap.m.HBox("oHBoxTitle",{alignContent:"Start",justifyContent:"SpaceBetween"});
oTileContent.addItem(oHBoxTitle); 
 var oTitleContentTitle = new sap.m.Title("oTitleContentTitle",{text:"{/NAME}",titleStyle:"H2"});
oHBoxTitle.addItem(oTitleContentTitle); 
 var oTitleContentVersion = new sap.m.Title("oTitleContentVersion",{text:"{/PG_APP_VERSION}",titleStyle:"H2"});
oHBoxTitle.addItem(oTitleContentVersion); 
 var oTitleTimestamp = new sap.m.ObjectStatus("oTitleTimestamp",{title:"Published",text:"{/UPDDAT}"});
oTileContent.addItem(oTitleTimestamp); 
 var oTitlePublisher = new sap.m.ObjectStatus("oTitlePublisher",{text:"{/OWNER_NAME}",title:"Publisher"});
oTileContent.addItem(oTitlePublisher); 
 var oTitleDescription = new sap.m.ObjectStatus("oTitleDescription",{text:"{/DESCR}",title:"Description"});
oTileContent.addItem(oTitleDescription); 
 var oTitleUpdate = new sap.m.ObjectStatus("oTitleUpdate",{text:"{/DESCR_UPDATE}",title:"Change"});
oTileContent.addItem(oTitleUpdate); 
 var oTileLogos = new sap.m.HBox("oTileLogos",{justifyContent:"SpaceBetween",renderType:"Bare"});
oTileContent.addItem(oTileLogos); 
 var oTileSupportIcons = new sap.m.HBox("oTileSupportIcons",{});
oTileLogos.addItem(oTileSupportIcons); 
 var imgiOS = new sap.m.Image("imgiOS",{width:"2.8rem"});
oTileSupportIcons.addItem(imgiOS);imgiOS.setSrc("data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="); 
 var imgAndroid = new sap.m.Image("imgAndroid",{width:"2.8rem"});
oTileSupportIcons.addItem(imgAndroid);imgAndroid.setSrc("data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"); 
 var imgAPPX = new sap.m.Image("imgAPPX",{width:"2.8rem"});
oTileSupportIcons.addItem(imgAPPX);imgAPPX.setSrc("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAIAAACx0UUtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJCQkVDNUIzMjA5MTExRTk5NEY3QUJCMkM2NTMxQjQzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJCQkVDNUI0MjA5MTExRTk5NEY3QUJCMkM2NTMxQjQzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkJCRUM1QjEyMDkxMTFFOTk0RjdBQkIyQzY1MzFCNDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkJCRUM1QjIyMDkxMTFFOTk0RjdBQkIyQzY1MzFCNDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz79GZWaAAAXL0lEQVR42uyd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"); 
 var AppCachePageStoreInstall = new sap.m.Button("AppCachePageStoreInstall",{text:"Install",press: function(oEvent) {
// Update Analytic
// getOnlineAnalytic(sap.ui.Device.os.name);

// Link to new page
sap.m.URLHelper.redirect(modelAppCache_boxStore.oData.INSTALL_URL, false);

// Use MessageToast
sap.m.MessageToast.show("Download Started");
}});
oTileLogos.addItem(AppCachePageStoreInstall); 
 var oTileImageData = new sap.m.VBox("oTileImageData",{alignContent:"Center",alignItems:"Center",height:"100%",justifyContent:"Center",width:"100%"});
oFlexBox.addItem(oTileImageData); 
 var oVBox3 = new sap.m.VBox("oVBox3",{alignContent:"Center",alignItems:"Center",height:"100%",justifyContent:"Center",width:"100%"});
oTileImageData.addItem(oVBox3); 
 var oTileImage = new sap.m.Image("oTileImage",{width:"240px",src:"{/ICON_DEFAULT}",height:"240px",densityAware:false});
oVBox3.addItem(oTileImage); 
 var launchpadContentSideApp = new sap.m.VBox("launchpadContentSideApp",{fitContainer:true,renderType:"Div",width:"0px"});
launchpadContent.addItem(launchpadContentSideApp); 
 var AppCachePageSideApp = new sap.m.Page("AppCachePageSideApp",{backgroundDesign:"Solid",enableScrolling:false,showFooter:false,showHeader:false,showSubHeader:false})
launchpadContentSideApp.addItem(AppCachePageSideApp); 
 var AppCachePageSideTab = new sap.m.TabContainer("AppCachePageSideTab",{itemClose: function(oEvent) {
// Destroy Content
var tab = oEvent.mParameters.item;
var view = tab.getContent()[0];

if (view) {

    if (view.sViewName === "/NEPTUNE/DOCUMENTATION") {
        $("#divDocumentation").remove();
        $("#divDocumentationData").remove();
        $("#divGuided").remove();
        $("#divGuidedData").remove();
    }

    var viewId = view.sId;

    view.removeAllContent();
    view.destroy();
    view = null;

    if (viewId) {
        sap.n.Shell.clearObjects(viewId);
    }
}

// Hide sidepanel
setTimeout(function() {
    if (AppCachePageSideTab.getItems().length === 0) {
        sap.n.Shell.closeSidepanel();
        AppCacheUserActionSidepanel.setVisible(false);
    }
}, 200);


}});
AppCachePageSideApp.addContent(AppCachePageSideTab); 
 var oIconTabFilter = new sap.m.IconTabFilter("oIconTabFilter",{}); 
 var launchpadOverflowContainer = new sap.m.FlexBox("launchpadOverflowContainer",{height:"100%",renderType:"Div"});
pageShell.addContent(launchpadOverflowContainer); 
 var launchpadOverflow = new sap.m.FlexBox("launchpadOverflow",{direction:"Column",fitContainer:true,height:"100%",renderType:"Div"});
launchpadOverflowContainer.addItem(launchpadOverflow); 
 var launchpadOverflowHeader = new sap.m.Panel("launchpadOverflowHeader",{backgroundDesign:"Transparent",height:"3rem"});
launchpadOverflow.addItem(launchpadOverflowHeader); 
 var launchpadOverflowHeaderHBox = new sap.m.HBox("launchpadOverflowHeaderHBox",{justifyContent:"SpaceBetween"});
launchpadOverflowHeader.addContent(launchpadOverflowHeaderHBox); 
 var launchpadOverflowHeaderVBox = new sap.m.VBox("launchpadOverflowHeaderVBox",{});
launchpadOverflowHeaderHBox.addItem(launchpadOverflowHeaderVBox); 
 var launchpadOverflowBtn = new sap.m.Button("launchpadOverflowBtn",{icon:"sap-icon://grid",tooltip:"Menu",press: function(oEvent) {
//
sap.n.Launchpad.overflowMenuClose();
}});
launchpadOverflowHeaderVBox.addItem(launchpadOverflowBtn); 
 var launchpadOverflowClickArea = new sap.m.FlexBox("launchpadOverflowClickArea",{});
launchpadOverflowContainer.addItem(launchpadOverflowClickArea); 
 var launchpadSettingsContainer = new sap.m.FlexBox("launchpadSettingsContainer",{renderType:"Div",height:"100%"});
pageShell.addContent(launchpadSettingsContainer); 
 var launchpadSettings = new sap.m.FlexBox("launchpadSettings",{direction:"Column",fitContainer:true,height:"100%",renderType:"Div"});
launchpadSettingsContainer.addItem(launchpadSettings); 
 var launchpadSettingsHeader = new sap.m.Panel("launchpadSettingsHeader",{backgroundDesign:"Transparent",height:"3rem"});
launchpadSettings.addItem(launchpadSettingsHeader); 
 var launchpadSettingsHeaderHBox = new sap.m.HBox("launchpadSettingsHeaderHBox",{alignItems:"Center",justifyContent:"SpaceBetween"});
launchpadSettingsHeader.addContent(launchpadSettingsHeaderHBox); 
 var AppCacheUserActionText = new sap.m.Text("AppCacheUserActionText",{});
launchpadSettingsHeaderHBox.addItem(AppCacheUserActionText); 
 var launchpadSettingsBtn = new sap.m.Button("launchpadSettingsBtn",{icon:"sap-icon://fa-solid/user-circle",tooltip:"User Menu",type:"Transparent",press: function(oEvent) {
//
sap.n.Launchpad.settingsMenuClose();
}});
launchpadSettingsHeaderHBox.addItem(launchpadSettingsBtn); 
 var AppCacheListMenu = new sap.m.List("AppCacheListMenu",{showSeparators:"None"});
launchpadSettings.addItem(AppCacheListMenu); 
 var AppCacheUserActionSettings = new sap.m.StandardListItem("AppCacheUserActionSettings",{type:"Active",title:"Settings",icon:"sap-icon://settings",press: function(oEvent) {
sap.n.Launchpad.settingsMenuClose();

// Build Version Info - General
var arrInfo = [{
    APPLID: AppCache_tUI5Version.getText(),
    OBJECT: sap.ui.version
}];

// Build Version Info - Phone
if (typeof device !== "undefined") {

    arrInfo.push({
        APPLID: AppCache_tPhoneType.getText(),
        OBJECT: device.platform + " - " + device.version
    });
    arrInfo.push({
        APPLID: AppCache_tPhoneModel.getText(),
        OBJECT: device.model
    });
    var cordovaVersion = "cordova-";
    if (sap.ui.Device.os.name === sap.ui.Device.os.OS.ANDROID) {
        cordovaVersion += "android@" + device.cordova;
    }
    else if (sap.ui.Device.os.name === sap.ui.Device.os.OS.IOS) {
        cordovaVersion += "ios@" + device.cordova;
    }
    else if (sap.ui.Device.os.name === sap.ui.Device.os.OS.WINDOWS) {
        cordovaVersion += "windows@" + device.cordova;
    }
    arrInfo.push({
        APPLID: AppCache_tCordovaVersion.getText(),
        OBJECT: cordovaVersion
    });
    arrInfo.push({
        APPLID: "UUID",
        OBJECT: device.uuid
    });
}
arrInfo.push({
    APPLID: AppCache_tNeptuneVersion.getText(),
    OBJECT: AppCache.buildVersion
});
var appVersion = (AppCache.enablePwa) ? "PWA" : AppCache.AppVersion;
if (!!appVersion) {
    arrInfo.push({
        APPLID: AppCache_tBuildVersion.getText(),
        OBJECT: appVersion
    });
}
arrInfo.push({
    APPLID: AppCache_tLaunchpad.getText(),
    OBJECT: AppCache.CurrentConfig,
});
arrInfo.push({
    APPLID: AppCache_tSAPSystem.getText(),
    OBJECT: modelAppCacheUpdate.oData.SYSID,
});

AppCacheSettingsUser.setTitle(AppCache.CurrentUser);
AppCacheSettingsUser.setIntro(AppCache.CurrentUname);
AppCacheSettingsUser.setIcon(AppCacheShellUser.getIcon());

barSettingsNotif.setVisible(AppCache.enableNotif);

modelAppCacheTabVer.setData(arrInfo);

diaSettings.open();

if (typeof cordova !== 'undefined' && typeof cordova.plugins !== 'undefined' && cordova.plugins.webViewChecker) {

    cordova.plugins.webViewChecker.getCurrentWebViewPackageInfo()
        .then(function(info) {

            var androidInfo = [{
                APPLID: AppCache_tAndroidPackage.getText(),
                OBJECT: info.packageName,
            }, {
                APPLID: AppCache_tAndroidVersionName.getText(),
                OBJECT: info.versionName,
            }, {
                APPLID: AppCache_tAndroidVersionCode.getText(),
                OBJECT: info.versionCode,
            }];
            ModelData.AddArray(AppCacheTabVer, androidInfo);
        })
        .catch(function(error) {
            console.warn(error);
        });
}
}});
AppCacheListMenu.addItem(AppCacheUserActionSettings); 
 var AppCacheUserActionSidepanel = new sap.m.StandardListItem("AppCacheUserActionSidepanel",{icon:"sap-icon://navigation-right-arrow",title:"Sidepanel",type:"Active",visible:false,press: function(oEvent) {
sap.n.Launchpad.settingsMenuClose();

if (launchpadContentSideApp.getWidth() === "0px") {
    sap.n.Launchpad.sidepanelOpen();
} else {
    sap.n.Launchpad.sidepanelClose();
}
}});
AppCacheListMenu.addItem(AppCacheUserActionSidepanel); 
 var AppCacheUserActionSplitView = new sap.m.StandardListItem("AppCacheUserActionSplitView",{icon:"sap-icon://screen-split-three",title:"Split View",type:"Active",press: function(oEvent) {
var _handle = function() {

    sap.n.Launchpad.settingsMenuClose();

    diaSplitviewCreate.open();
};

if (sap.n.Application.beforeSuspend(sap.n.Application.event.splitview, {
    defaultAction: _handle
})) return;

_handle();



}});
AppCacheListMenu.addItem(AppCacheUserActionSplitView); 
 var AppCacheUserActionOutbox = new sap.m.StandardListItem("AppCacheUserActionOutbox",{title:"Outbox",icon:"sap-icon://outbox",visible:false,type:"Active",press: function(oEvent) {
sap.n.Launchpad.currentTile = {};
sap.n.Launchpad.settingsMenuClose();
modelAppCacheOutbox.refresh();
AppCacheNav.to(AppCache_boxOutbox);
}});
AppCacheListMenu.addItem(AppCacheUserActionOutbox); 
 var AppCacheUserActionFavAdd = new sap.m.StandardListItem("AppCacheUserActionFavAdd",{visible:false,type:"Active",title:"Favorite",icon:"sap-icon://add-favorite",press: function(oEvent) {
ModelData.Update(AppCacheTilesFav,"GUID", sap.n.Launchpad.currentTile.GUID, sap.n.Launchpad.currentTile);
setCacheAppCacheTilesFav();

sap.n.Launchpad.setFavButtonVisibility(sap.n.Launchpad.currentTile.GUID, "add");
sap.n.Launchpad.handleFavRedraw();
sap.n.Launchpad.settingsMenuClose();
}});
AppCacheListMenu.addItem(AppCacheUserActionFavAdd); 
 var AppCacheUserActionFavDel = new sap.m.StandardListItem("AppCacheUserActionFavDel",{visible:false,type:"Active",title:"Unfavorite",icon:"sap-icon://unfavorite",press: function(oEvent) {
ModelData.Delete(AppCacheTilesFav,"GUID", sap.n.Launchpad.currentTile.GUID);
setCacheAppCacheTilesFav();

sap.n.Launchpad.setFavButtonVisibility(sap.n.Launchpad.currentTile.GUID, "del");
sap.n.Launchpad.handleFavRedraw();
sap.n.Launchpad.settingsMenuClose();
}});
AppCacheListMenu.addItem(AppCacheUserActionFavDel); 
 var AppCacheUserActionLock = new sap.m.StandardListItem("AppCacheUserActionLock",{icon:"sap-icon://locked",title:"Lock",type:"Active",visible:false,press: function(oEvent) {
var _handle = function() {
    sap.n.Launchpad.settingsMenuClose();
    AppCache.Lock();
};

if (sap.n.Application.beforeSuspend(sap.n.Application.event.lock, {
    defaultAction: _handle
})) return;

_handle();
}});
AppCacheListMenu.addItem(AppCacheUserActionLock); 
 var AppCacheUserActionSwitch = new sap.m.StandardListItem("AppCacheUserActionSwitch",{visible:false,type:"Active",title:"Switch User",icon:"sap-icon://fa-solid/users",press: function(oEvent) {
var _handle = function() {
    sap.n.Launchpad.settingsMenuClose();
    AppCache.Lock();
};

if (sap.n.Application.beforeSuspend(sap.n.Application.event.lock, {
    defaultAction: _handle
})) return;

_handle();
}});
AppCacheListMenu.addItem(AppCacheUserActionSwitch); 
 var AppCacheUserActionLogout = new sap.m.StandardListItem("AppCacheUserActionLogout",{icon:"sap-icon://log",title:"Log Out",type:"Active",press: function(oEvent) {
var _handleBeforeSuspend = function() {

    var _handleUserActionLogout = function() {
        sap.n.Launchpad.settingsMenuClose();
        AppCache.Logout();
    };

    var config = {
        preventDefault: false,
        defaultAction: _handleUserActionLogout
    };

    var preventDefault = sap.n.Enhancement.userActionLogout(config);
    if (preventDefault || config.preventDefault) {
        return;
    }

    _handleUserActionLogout();

    _handleUserActionLogout = function() {
        console.warn("User Action Logout default action can only be executed if enhancemet spot returns true or sets preventDefault = true");
    };
};

if (sap.n.Application.beforeSuspend(sap.n.Application.event.logout, {
    defaultAction: _handleBeforeSuspend
})) return;

_handleBeforeSuspend();
}});
AppCacheListMenu.addItem(AppCacheUserActionLogout); 
 var launchpadSettingsClickArea = new sap.m.FlexBox("launchpadSettingsClickArea",{});
launchpadSettingsContainer.addItem(launchpadSettingsClickArea); 
 var htmlCustomColorSet = new sap.ui.core.HTML("htmlCustomColorSet",{content:"<div id='NeptuneCustomColorSetDiv'></div>"});
pageShell.addContent(htmlCustomColorSet); 
 var htmlLayout = new sap.ui.core.HTML("htmlLayout",{content:"<div id='NeptuneStyleDiv'></div>"});
pageShell.addContent(htmlLayout); 
 var htmCSSGrid = new sap.ui.core.HTML("htmCSSGrid",{content:"<div id='NeptuneCSSGridDiv'></div>"});
pageShell.addContent(htmCSSGrid); 
 var htmlTileGroupHeader = new sap.ui.core.HTML("htmlTileGroupHeader",{content:"<div id='NeptuneTileGroupHeaderDiv'></div>"});
pageShell.addContent(htmlTileGroupHeader); 
 var htmlGlobalStyle = new sap.ui.core.HTML("htmlGlobalStyle",{content:"<div id='NeptuneGlobaleStyle'></div>"});
pageShell.addContent(htmlGlobalStyle); 
 var pageError = new sap.m.Page("pageError",{showSubHeader:false,showHeader:false,showFooter:false})
appShell.addPage(pageError); 
 var pageHidden = new sap.m.Page("pageHidden",{visible:false}) 
 var AppCacheShellDebug = new sap.m.Button("AppCacheShellDebug",{icon:"sap-icon://dishwasher",type:"Transparent",visible:false,press: function(oEvent) {
sap.n.Debug.OpenDialog();
}});
pageHidden.addContent(AppCacheShellDebug); 
 var layoutBusyDialog = new sap.m.BusyDialog("layoutBusyDialog",{text:"Building layout..."}); 
 var butSupportedBrowsersClose = new sap.m.Button("butSupportedBrowsersClose",{text:"Close",press: function(oEvent) {
popSupportedBrowsers.close();
}});
pageHidden.addContent(butSupportedBrowsersClose); 
 var popSupportedBrowsers = new sap.m.Popover("popSupportedBrowsers",{contentWidth:"180px",title:"Compatible On",endButton:butSupportedBrowsersClose}); 
 var listSupportedBrowsers = new sap.m.List("listSupportedBrowsers",{});
popSupportedBrowsers.addContent(listSupportedBrowsers);
var modellistSupportedBrowsers = new sap.ui.model.json.JSONModel();
listSupportedBrowsers.setModel(modellistSupportedBrowsers); 
 var itemSupportedBrowsers = new sap.m.StandardListItem("itemSupportedBrowsers",{title:"{NAME}"});
listSupportedBrowsers.bindAggregation("items", "/",itemSupportedBrowsers); 
 var butFavSave = new sap.m.Button("butFavSave",{text:"Save",press: function(oEvent) {
sap.n.Launchpad.handleFavRedraw();
diaFavDnD.close();
}});
pageHidden.addContent(butFavSave); 
 var diaFavDnD = new sap.m.Dialog("diaFavDnD",{verticalScrolling:false,horizontalScrolling:false,draggable:true,contentWidth:"800px",endButton:butFavSave,beforeOpen: function(oEvent) {
$.each(modelAppCacheTilesFav.oData, function(i, data) {

    var card = ModelData.Find(AppCacheTiles, "GUID", data.GUID)[0];
    if (card) {
        data.TILE_TITLE = card.TILE_TITLE;
        data.TILE_INFO = card.TILE_INFO;
    }
});
modelAppCacheTilesFav.refresh();
}}); 
 var headerTilesFav = new sap.m.Bar("headerTilesFav",{design:"Header"});
diaFavDnD.setCustomHeader(headerTilesFav); 
 var closeTilesFav = new sap.m.Button("closeTilesFav",{icon:"sap-icon://decline",press: function(oEvent) {
diaFavDnD.close();
}});
headerTilesFav.addContentRight(closeTilesFav); 
 var titleTilesFav = new sap.m.ObjectHeader("titleTilesFav",{icon:"sap-icon://filter-fields",intro:"Manage your favorites",numberUnit:"ENTRIES",responsive:true,title:"Favorites"});
diaFavDnD.addContent(titleTilesFav); 
 var scrollTilesFavTilesFav = new sap.m.ScrollContainer("scrollTilesFavTilesFav",{height:"calc(100% - 52px)",horizontal:false,vertical:true});
diaFavDnD.addContent(scrollTilesFavTilesFav); 
 var AppCacheTilesFav = new sap.m.Table("AppCacheTilesFav",{footerText:"Use Drag&Drop to sort Favorites"});
scrollTilesFavTilesFav.addContent(AppCacheTilesFav);
var modelAppCacheTilesFav = new sap.ui.model.json.JSONModel();
AppCacheTilesFav.setModel(modelAppCacheTilesFav); 
 var colAppCacheTilesFavTILE_TITLE = new sap.m.Column("colAppCacheTilesFavTILE_TITLE",{header: new sap.m.Label({text:"Title"})});
AppCacheTilesFav.addColumn(colAppCacheTilesFavTILE_TITLE); 
 var colAppCacheTilesFavTILE_INFO = new sap.m.Column("colAppCacheTilesFavTILE_INFO",{header: new sap.m.Label({text:"Subtitle"})});
AppCacheTilesFav.addColumn(colAppCacheTilesFavTILE_INFO); 
 var colAppCacheTilesFavTILE_NUMBER = new sap.m.Column("colAppCacheTilesFavTILE_NUMBER",{hAlign:"Center",header: new sap.m.Label({text:"Width"}),width:"120px"});
AppCacheTilesFav.addColumn(colAppCacheTilesFavTILE_NUMBER); 
 var colAppCacheTilesFavArrange = new sap.m.Column("colAppCacheTilesFavArrange",{hAlign:"Center",width:"80px"});
AppCacheTilesFav.addColumn(colAppCacheTilesFavArrange); 
 var colItemAppCacheTilesFav = new sap.m.ColumnListItem("colItemAppCacheTilesFav",{});
AppCacheTilesFav.bindAggregation("items", "/",colItemAppCacheTilesFav); 
 var txtAppCacheTilesFavTILE_TITLE = new sap.m.Text("txtAppCacheTilesFavTILE_TITLE",{text:"{TILE_TITLE}",wrapping:false});
colItemAppCacheTilesFav.addCell(txtAppCacheTilesFavTILE_TITLE); 
 var txtAppCacheTilesFavTILE_INFO = new sap.m.Text("txtAppCacheTilesFavTILE_INFO",{text:"{TILE_INFO}",wrapping:false});
colItemAppCacheTilesFav.addCell(txtAppCacheTilesFavTILE_INFO); 
 var inAppCacheTilesFavBACK_WIDTH = new sap.m.Select("inAppCacheTilesFavBACK_WIDTH",{selectedKey:"{BACK_WIDTH}"});
colItemAppCacheTilesFav.addCell(inAppCacheTilesFavBACK_WIDTH); 
 var tileFavWidthSmall = new sap.ui.core.Item("tileFavWidthSmall",{key:"Small",text:"Small"});
inAppCacheTilesFavBACK_WIDTH.addItem(tileFavWidthSmall); 
 var tileFavWidthMedium = new sap.ui.core.Item("tileFavWidthMedium",{key:"Medium",text:"Medium"});
inAppCacheTilesFavBACK_WIDTH.addItem(tileFavWidthMedium); 
 var tileFavWidthWide = new sap.ui.core.Item("tileFavWidthWide",{key:"Wide",text:"Wide"});
inAppCacheTilesFavBACK_WIDTH.addItem(tileFavWidthWide); 
 var tileFavWidthMax = new sap.ui.core.Item("tileFavWidthMax",{key:"Max",text:"Maximum"});
inAppCacheTilesFavBACK_WIDTH.addItem(tileFavWidthMax); 
 var boxAppCacheTilesFavArrange = new sap.m.HBox("boxAppCacheTilesFavArrange",{width:"72px"});
colItemAppCacheTilesFav.addCell(boxAppCacheTilesFavArrange); 
 var btnAppCacheTilesFavUp = new sap.m.Button("btnAppCacheTilesFavUp",{icon:"sap-icon://navigation-up-arrow",press: function(oEvent) {
var context = oEvent.oSource.getBindingContext();

var fromIx = +context.getPath().slice(1);
if (fromIx === 0) {
    return;
}

sap.n.Launchpad.arrayMove(modelAppCacheTilesFav.oData, fromIx, fromIx - 1);
modelAppCacheTilesFav.refresh();
}});
boxAppCacheTilesFavArrange.addItem(btnAppCacheTilesFavUp); 
 var AppCacheTilesFavDown = new sap.m.Button("AppCacheTilesFavDown",{icon:"sap-icon://navigation-down-arrow",press: function(oEvent) {
var context = oEvent.oSource.getBindingContext();

var fromIx = +context.getPath().slice(1);
if (fromIx + 1 === modelAppCacheTilesFav.oData.length) {
    return;
}

sap.n.Launchpad.arrayMove(modelAppCacheTilesFav.oData, fromIx, fromIx + 1);
modelAppCacheTilesFav.refresh();
}});
boxAppCacheTilesFavArrange.addItem(AppCacheTilesFavDown); 
 var AppCacheUserDialog = new sap.m.ActionSheet("AppCacheUserDialog",{placement:"Bottom"}); 
 var AppCacheUserDialogCloseAll = new sap.m.Button("AppCacheUserDialogCloseAll",{icon:"sap-icon://sys-cancel",text:"Close All",type:"Emphasized",press: function(oEvent) {
// Close Buttons
$.each(AppCacheUserDialog.getButtons(), function(i, data) {
    if (data.getId() !== "AppCacheUserDialogCloseAll") {
        data.destroy();
    }
});

// Close Dialogs
$.each(AppCache.Dialogs, function(i, data) {
    var dia = sap.ui.getCore().byId(data);

    if (dia) {
        dia.close();
    }
});

AppCacheShellDialog.setVisible(false);
AppCache.Dialogs = [];
AppCacheUserDialog.close();
}});
AppCacheUserDialog.addButton(AppCacheUserDialogCloseAll); 
 var diaSettings = new sap.m.Dialog("diaSettings",{contentHeight:"660px",contentWidth:"540px",draggable:true,horizontalScrolling:false,afterClose: function(oEvent) {
setCacheAppCacheSettings();
setCacheAppCacheUserDefaults();

sap.n.Notif.list();
},beforeOpen: function(oEvent) {
inAppCacheFormSettingsTHEME.setVisible(false);
inAppCacheFormSettingsTHEME.destroyItems();
inAppCacheFormSettingsTHEME.removeAllItems();

var numberOfUserLayout = 0;

// Add to Settings
$.each(modelAppCacheUserLayout.oData, function(i, userLayout) {
    inAppCacheFormSettingsTHEME.addItem(new sap.ui.core.Item({
        key: userLayout.GUID,
        text: userLayout.NAME
    }));
    ++numberOfUserLayout;
});

inAppCacheFormSettingsTHEME.setSelectedKey(modelAppCacheSettings.oData.UI5THEME);
inAppCacheFormSettingsTHEME.setVisible(numberOfUserLayout > 1 && !AppCache.previewLayout && !AppCache.previewData);

barSettings.setSelectedKey("settings");
}}); 
 var headerAppCacheDiaSettings = new sap.m.Bar("headerAppCacheDiaSettings",{design:"Header"});
diaSettings.setCustomHeader(headerAppCacheDiaSettings); 
 var txtAppCacheDiaSettings = new sap.m.Title("txtAppCacheDiaSettings",{text:"Settings"});
headerAppCacheDiaSettings.addContentMiddle(txtAppCacheDiaSettings); 
 var closeAppCacheDiaSettings = new sap.m.Button("closeAppCacheDiaSettings",{icon:"sap-icon://decline",press: function(oEvent) {
//
diaSettings.close();
}});
headerAppCacheDiaSettings.addContentRight(closeAppCacheDiaSettings); 
 var AppCacheSettingsUser = new sap.m.ObjectHeader("AppCacheSettingsUser",{responsive:true,icon:"sap-icon://fa-solid/user-circle"});
diaSettings.addContent(AppCacheSettingsUser); 
 var barSettings = new sap.m.IconTabBar("barSettings",{backgroundDesign:"Transparent",expandable:false,headerMode:"Inline",select: function(oEvent) {
if (this.getSelectedKey() === "userDefault") {
    messageUserDefault.destroyItems();

    sap.ui.core.BusyIndicator.show();
    getOnlineUserDefaultRead();
}
}});
diaSettings.addContent(barSettings); 
 var barSettingsGeneral = new sap.m.IconTabFilter("barSettingsGeneral",{key:"settings",text:"SETTINGS"});
barSettings.addItem(barSettingsGeneral); 
 var AppCacheSettings = new sap.ui.layout.form.SimpleForm("AppCacheSettings",{maxContainerCols:1,"layout":"ResponsiveGridLayout",labelSpanM:12,labelSpanL:12,editable:true});
barSettingsGeneral.addContent(AppCacheSettings);
var modelAppCacheSettings = new sap.ui.model.json.JSONModel();
AppCacheSettings.setModel(modelAppCacheSettings); 
 var lblAppCacheFormSettingsTHEME = new sap.m.Label("lblAppCacheFormSettingsTHEME",{text:"Layout"});
AppCacheSettings.addContent(lblAppCacheFormSettingsTHEME); 
 var inAppCacheFormSettingsTHEME = new sap.m.Select("inAppCacheFormSettingsTHEME",{selectedKey:"{/UI5THEME}",visible:false,change: function(oEvent) {
diaSettings.close();

var _handle = function() {

    // sap.m.Select fuckery...
    modelAppCacheSettings.oData.UI5THEME = inAppCacheFormSettingsTHEME.getSelectedKey();
    setCacheAppCacheSettings();

    location.hash = "";

    neptune.Splash.show();

    setTimeout(function() {
        neptune.Splash.hide();
    }, 3000);

    //reset current layout, so that a new can be set in applyUserTheme -> applyLayout
    currLayout = {};
    sap.n.Launchpad.applyUserTheme();

    sap.n.Utils.userSetting.update({
        AREA: "LAUNCHPAD",
        GROUPING: "LAYOUT",
        NAME: "DEFAULT",
        KEY0: "GUID",
        VAL0: modelAppCacheSettings.oData.UI5THEME
    });
};

if (sap.n.Application.beforeSuspend(sap.n.Application.event.changeLayout, {
    layout: inAppCacheFormSettingsTHEME.getSelectedKey(),
    defaultAction: _handle
})) return;

_handle();



}});
AppCacheSettings.addContent(inAppCacheFormSettingsTHEME); 
 var lblSIDEPANEL_WIDTH = new sap.m.Label("lblSIDEPANEL_WIDTH",{text:"Sidepanel Width"});
AppCacheSettings.addContent(lblSIDEPANEL_WIDTH); 
 var inSIDEPANEL_WIDTH = new sap.m.Select("inSIDEPANEL_WIDTH",{selectedKey:"{/SIDEPANEL_WIDTH}",change: function(oEvent) {
// sap.m.Select fuckery...
modelAppCacheSettings.oData.SIDEPANEL_WIDTH = inSIDEPANEL_WIDTH.getSelectedKey();
setCacheAppCacheSettings();

sap.n.Utils.userSetting.update({
    AREA: "LAUNCHPAD",
    GROUPING: "LAYOUT",
    NAME: "SIDEPANEL",
    KEY0: "WIDTH",
    VAL0: modelAppCacheSettings.oData.SIDEPANEL_WIDTH
});
}});
AppCacheSettings.addContent(inSIDEPANEL_WIDTH); 
 var itemSIDEPANEL_WIDTHXSmall = new sap.ui.core.Item("itemSIDEPANEL_WIDTHXSmall",{key:"xsmall",text:"X Small"});
inSIDEPANEL_WIDTH.addItem(itemSIDEPANEL_WIDTHXSmall); 
 var itemSIDEPANEL_WIDTHSmall = new sap.ui.core.Item("itemSIDEPANEL_WIDTHSmall",{key:"small",text:"Small (Default)"});
inSIDEPANEL_WIDTH.addItem(itemSIDEPANEL_WIDTHSmall); 
 var itemSIDEPANEL_WIDTHMedium = new sap.ui.core.Item("itemSIDEPANEL_WIDTHMedium",{key:"medium",text:"Medium"});
inSIDEPANEL_WIDTH.addItem(itemSIDEPANEL_WIDTHMedium); 
 var itemSIDEPANEL_WIDTHLarge = new sap.ui.core.Item("itemSIDEPANEL_WIDTHLarge",{key:"large",text:"Large"});
inSIDEPANEL_WIDTH.addItem(itemSIDEPANEL_WIDTHLarge); 
 var itemSIDEPANEL_WIDTHXLarge = new sap.ui.core.Item("itemSIDEPANEL_WIDTHXLarge",{key:"xlarge",text:"X Large"});
inSIDEPANEL_WIDTH.addItem(itemSIDEPANEL_WIDTHXLarge); 
 var itemSIDEPANEL_WIDTHXXLarge = new sap.ui.core.Item("itemSIDEPANEL_WIDTHXXLarge",{key:"xxlarge",text:"XX Large"});
inSIDEPANEL_WIDTH.addItem(itemSIDEPANEL_WIDTHXXLarge); 
 var itemSIDEPANEL_WIDTHXXXLarge = new sap.ui.core.Item("itemSIDEPANEL_WIDTHXXXLarge",{key:"xxxlarge",text:"XXX Large"});
inSIDEPANEL_WIDTH.addItem(itemSIDEPANEL_WIDTHXXXLarge); 
 var lblAppCacheFormSettingsIMG = new sap.m.Label("lblAppCacheFormSettingsIMG",{text:"User Image (max 200kB)"});
AppCacheSettings.addContent(lblAppCacheFormSettingsIMG); 
 var boxUserImage = new sap.m.FlexBox("boxUserImage",{alignContent:"SpaceBetween",justifyContent:"SpaceBetween",renderType:"Bare"});
AppCacheSettings.addContent(boxUserImage); 
 var inAppCacheFormSettingsIMG = new sap.ui.unified.FileUploader("inAppCacheFormSettingsIMG",{uploadUrl:"https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=SAVE_USER_IMAGE&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&sap-client=910&field_id=00412&sapui5-upload",buttonOnly:true,buttonText:"Set",maximumFileSize:0.2,mimeType:["image/png","image/jpg","image/jpeg"],uploadOnChange:true,width:"100%",fileSizeExceed: function(oEvent) {
jQuery.sap.require("sap.m.MessageToast");
sap.m.MessageToast.show(AppCache_tMaxFileSize.getText());

},uploadComplete: function(oEvent) {
// Profile Photo
sap.n.Launchpad.getUserData();
}});
boxUserImage.addItem(inAppCacheFormSettingsIMG); 
 var boxUserImageSpacer = new sap.m.HBox("boxUserImageSpacer",{width:"20px"});
boxUserImage.addItem(boxUserImageSpacer); 
 var AppCacheButDeleteIMG = new sap.m.Button("AppCacheButDeleteIMG",{text:"Clear",width:"100%",press: function(oEvent) {
getOnlineDeleteImage();
}});
boxUserImage.addItem(AppCacheButDeleteIMG); 
 var lblAppCacheFormSettingsRUN = new sap.m.Label("lblAppCacheFormSettingsRUN",{text:"Most Used"});
AppCacheSettings.addContent(lblAppCacheFormSettingsRUN); 
 var AppCacheButDeleteRUN = new sap.m.Button("AppCacheButDeleteRUN",{text:"Clear",width:"100%",press: function(oEvent) {
modelAppCacheTilesRun.setData([]);
setCacheAppCacheTilesRun();
}});
AppCacheSettings.addContent(AppCacheButDeleteRUN); 
 var barSettingsUserDefault = new sap.m.IconTabFilter("barSettingsUserDefault",{key:"userDefault",text:"DEFAULTS"});
barSettings.addItem(barSettingsUserDefault); 
 var messageUserDefault = new sap.m.VBox("messageUserDefault",{});
barSettingsUserDefault.addContent(messageUserDefault); 
 var AppCacheUserDefaults = new sap.ui.layout.form.SimpleForm("AppCacheUserDefaults",{maxContainerCols:1,"layout":"ResponsiveGridLayout",labelSpanM:12,labelSpanL:12,editable:true});
barSettingsUserDefault.addContent(AppCacheUserDefaults);
var modelAppCacheUserDefaults = new sap.ui.model.json.JSONModel();
AppCacheUserDefaults.setModel(modelAppCacheUserDefaults); 
 var lblAppCacheDefaultsSPRAS = new sap.m.Label("lblAppCacheDefaultsSPRAS",{text:"Language"});
AppCacheUserDefaults.addContent(lblAppCacheDefaultsSPRAS); 
 var inAppCacheDefaultsSPRAS = new sap.m.Select("inAppCacheDefaultsSPRAS",{enabled:"{/EDIT}",selectedKey:"{/LANGU}",change: function(oEvent) {
//
sap.n.Utils.updateUserDefault("language");
}});
AppCacheUserDefaults.addContent(inAppCacheDefaultsSPRAS); 
 var lblAppCacheDefaultsDATFM = new sap.m.Label("lblAppCacheDefaultsDATFM",{text:"Date Format"});
AppCacheUserDefaults.addContent(lblAppCacheDefaultsDATFM); 
 var inAppCacheDefaultsDATFM = new sap.m.Select("inAppCacheDefaultsDATFM",{enabled:"{/EDIT}",selectedKey:"{/DATFM}",change: function(oEvent) {
//
sap.n.Utils.updateUserDefault("date");
}});
AppCacheUserDefaults.addContent(inAppCacheDefaultsDATFM); 
 var dateformat1 = new sap.ui.core.Item("dateformat1",{text:"DD.MM.YYYY (Gregorian Date)",key:1});
inAppCacheDefaultsDATFM.addItem(dateformat1); 
 var dateformat2 = new sap.ui.core.Item("dateformat2",{key:2,text:"MM/DD/YYYY (Gregorian Date)"});
inAppCacheDefaultsDATFM.addItem(dateformat2); 
 var dateformat3 = new sap.ui.core.Item("dateformat3",{key:3,text:"MM-DD-YYYY (Gregorian Date)"});
inAppCacheDefaultsDATFM.addItem(dateformat3); 
 var dateformat4 = new sap.ui.core.Item("dateformat4",{key:4,text:"YYYY.MM.DD (Gregorian Date)"});
inAppCacheDefaultsDATFM.addItem(dateformat4); 
 var dateformat5 = new sap.ui.core.Item("dateformat5",{key:5,text:"YYYY/MM/DD (Gregorian Date)"});
inAppCacheDefaultsDATFM.addItem(dateformat5); 
 var dateformat6 = new sap.ui.core.Item("dateformat6",{key:6,text:"YYYY-MM-DD (Gregorian Date)"});
inAppCacheDefaultsDATFM.addItem(dateformat6); 
 var dateformat7 = new sap.ui.core.Item("dateformat7",{text:"GYY.MM.DD (Japanese Date)",key:7});
inAppCacheDefaultsDATFM.addItem(dateformat7); 
 var dateformat8 = new sap.ui.core.Item("dateformat8",{key:8,text:"GYY/MM/DD (Japanese Date)"});
inAppCacheDefaultsDATFM.addItem(dateformat8); 
 var dateformat9 = new sap.ui.core.Item("dateformat9",{key:9,text:"GYY-MM-DD (Japanese Date)"});
inAppCacheDefaultsDATFM.addItem(dateformat9); 
 var dateformatA = new sap.ui.core.Item("dateformatA",{key:"A",text:"YYYY/MM/DD (Islamic Date 1)"});
inAppCacheDefaultsDATFM.addItem(dateformatA); 
 var dateformatB = new sap.ui.core.Item("dateformatB",{key:"B",text:"YYYY/MM/DD (Islamic Date 2)"});
inAppCacheDefaultsDATFM.addItem(dateformatB); 
 var dateformatC = new sap.ui.core.Item("dateformatC",{key:"C",text:"YYYY/MM/DD (Iranian Date)"});
inAppCacheDefaultsDATFM.addItem(dateformatC); 
 var lblAppCacheDefaultsTIMEFM = new sap.m.Label("lblAppCacheDefaultsTIMEFM",{text:"Time Format"});
AppCacheUserDefaults.addContent(lblAppCacheDefaultsTIMEFM); 
 var inAppCacheDefaultsTIMEFM = new sap.m.Select("inAppCacheDefaultsTIMEFM",{enabled:"{/EDIT}",selectedKey:"{/TIMEFM}",change: function(oEvent) {
//
sap.n.Utils.updateUserDefault("time");
}});
AppCacheUserDefaults.addContent(inAppCacheDefaultsTIMEFM); 
 var timeformat0 = new sap.ui.core.Item("timeformat0",{key:0,text:"24 Hour Format (12:05:10)"});
inAppCacheDefaultsTIMEFM.addItem(timeformat0); 
 var timeformat1 = new sap.ui.core.Item("timeformat1",{text:"12 Hour Format (12:05:10 PM)",key:1});
inAppCacheDefaultsTIMEFM.addItem(timeformat1); 
 var timeformat2 = new sap.ui.core.Item("timeformat2",{key:2,text:"12 Hour Format (12:05:10 pm)"});
inAppCacheDefaultsTIMEFM.addItem(timeformat2); 
 var timeformat3 = new sap.ui.core.Item("timeformat3",{key:3,text:"Hours from 0 - 11 (00:05:10 PM)"});
inAppCacheDefaultsTIMEFM.addItem(timeformat3); 
 var timeformat4 = new sap.ui.core.Item("timeformat4",{key:4,text:"Hours from 0 - 11 (00:05:10 pm)"});
inAppCacheDefaultsTIMEFM.addItem(timeformat4); 
 var lblAppCacheDefaultsDCPFM = new sap.m.Label("lblAppCacheDefaultsDCPFM",{text:"Decimal Notation"});
AppCacheUserDefaults.addContent(lblAppCacheDefaultsDCPFM); 
 var inAppCacheDefaultsDCPFM = new sap.m.Select("inAppCacheDefaultsDCPFM",{selectedKey:"{/DCPFM}",enabled:"{/EDIT}",change: function(oEvent) {
//
sap.n.Utils.updateUserDefault("number");
}});
AppCacheUserDefaults.addContent(inAppCacheDefaultsDCPFM); 
 var numberformat = new sap.ui.core.Item("numberformat",{text:"1.234.567,89"});
inAppCacheDefaultsDCPFM.addItem(numberformat); 
 var numberformatX = new sap.ui.core.Item("numberformatX",{key:"X",text:"1,234,567.89"});
inAppCacheDefaultsDCPFM.addItem(numberformatX); 
 var numberformatY = new sap.ui.core.Item("numberformatY",{key:"Y",text:"1 234 567,89"});
inAppCacheDefaultsDCPFM.addItem(numberformatY); 
 var lblAppCacheDefaultsTZONE = new sap.m.Label("lblAppCacheDefaultsTZONE",{text:"Time Zone"});
AppCacheUserDefaults.addContent(lblAppCacheDefaultsTZONE); 
 var inAppCacheDefaultsTZONE = new sap.m.Input("inAppCacheDefaultsTZONE",{valueHelpOnly:true,value:"{/TZONE_DESCRIPT}",showValueHelp:true,editable:"{/EDIT}",valueHelpRequest: function(oEvent) {
$.each(modelTabTimezone.oData, function(i, data) {
    if (data.TZONE === modelAppCacheUserDefaults.oData.TZONE) {
        data.SELECTED = true;
    } else {
        data.SELECTED = false;
    }
});
modelTabTimezone.refresh();
diaTimezone.open();

}});
AppCacheUserDefaults.addContent(inAppCacheDefaultsTZONE); 
 var barSettingsNotif = new sap.m.IconTabFilter("barSettingsNotif",{text:"NOTIFICATIONS"});
barSettings.addItem(barSettingsNotif); 
 var AppCacheNotifTime = new sap.ui.layout.form.SimpleForm("AppCacheNotifTime",{editable:true});
barSettingsNotif.addContent(AppCacheNotifTime);
var modelAppCacheNotifTime = new sap.ui.model.json.JSONModel();
AppCacheNotifTime.setModel(modelAppCacheNotifTime); 
 var lblAppCacheFormNotifTimeINT = new sap.m.Label("lblAppCacheFormNotifTimeINT",{text:"Interval"});
AppCacheNotifTime.addContent(lblAppCacheFormNotifTimeINT); 
 var inAppCacheFormNotifTimeINT = new sap.m.Select("inAppCacheFormNotifTimeINT",{selectedKey:"{/INTERVAL}"});
AppCacheNotifTime.addContent(inAppCacheFormNotifTimeINT); 
 var ajaxTimer0 = new sap.ui.core.Item("ajaxTimer0",{key:60000,text:"1 Min"});
inAppCacheFormNotifTimeINT.addItem(ajaxTimer0); 
 var ajaxTimer1 = new sap.ui.core.Item("ajaxTimer1",{key:300000,text:"5 Min"});
inAppCacheFormNotifTimeINT.addItem(ajaxTimer1); 
 var ajaxTimer2 = new sap.ui.core.Item("ajaxTimer2",{key:600000,text:"10 Min"});
inAppCacheFormNotifTimeINT.addItem(ajaxTimer2); 
 var ajaxTimer3 = new sap.ui.core.Item("ajaxTimer3",{key:900000,text:"15 Min"});
inAppCacheFormNotifTimeINT.addItem(ajaxTimer3); 
 var ajaxTimer4 = new sap.ui.core.Item("ajaxTimer4",{key:1800000,text:"30 Min"});
inAppCacheFormNotifTimeINT.addItem(ajaxTimer4); 
 var lblAppCacheFormNotifTimeENABLE = new sap.m.Label("lblAppCacheFormNotifTimeENABLE",{text:"Enabled"});
AppCacheNotifTime.addContent(lblAppCacheFormNotifTimeENABLE); 
 var inAppCacheFormNotifTimeENABLE = new sap.m.Switch("inAppCacheFormNotifTimeENABLE",{state:"{/ENABLED}"});
AppCacheNotifTime.addContent(inAppCacheFormNotifTimeENABLE); 
 var barSettingsSystem = new sap.m.IconTabFilter("barSettingsSystem",{text:"SYSTEM"});
barSettings.addItem(barSettingsSystem); 
 var AppCacheTabVer = new sap.m.Table("AppCacheTabVer",{fixedLayout:false,showNoData:false,showSeparators:"None"});
barSettingsSystem.addContent(AppCacheTabVer);
var modelAppCacheTabVer = new sap.ui.model.json.JSONModel();
AppCacheTabVer.setModel(modelAppCacheTabVer); 
 var AppCacheColVerKey = new sap.m.Column("AppCacheColVerKey",{});
AppCacheTabVer.addColumn(AppCacheColVerKey); 
 var AppCacheColVerValue = new sap.m.Column("AppCacheColVerValue",{hAlign:"Right"});
AppCacheTabVer.addColumn(AppCacheColVerValue); 
 var AppCacheItemVer = new sap.m.ColumnListItem("AppCacheItemVer",{});
AppCacheTabVer.bindAggregation("items", "/",AppCacheItemVer); 
 var AppCacheTxtVerKey = new sap.m.Text("AppCacheTxtVerKey",{text:"{APPLID}"});
AppCacheItemVer.addCell(AppCacheTxtVerKey); 
 var AppCacheTxtVerValue = new sap.m.Text("AppCacheTxtVerValue",{text:"{OBJECT}"});
AppCacheItemVer.addCell(AppCacheTxtVerValue); 
 var AppCacheDiaHashClose = new sap.m.Button("AppCacheDiaHashClose",{text:"OK",press: function(oEvent) {
AppCacheDiaHash.close();
}});
pageHidden.addContent(AppCacheDiaHashClose); 
 var AppCacheDiaHash = new sap.m.Dialog("AppCacheDiaHash",{icon:"sap-icon://error",state:"Error",title:"Error",type:"Message",endButton:AppCacheDiaHashClose}); 
 var AppCacheDiaHashText = new sap.m.Text("AppCacheDiaHashText",{text:"Could not open app. Try again later."});
AppCacheDiaHash.addContent(AppCacheDiaHashText); 
 var AppCache_butTwoFactorCancel = new sap.m.Button("AppCache_butTwoFactorCancel",{icon:"sap-icon://decline",text:"Cancel",type:"Reject",press: function(oEvent) {
sap.ui.core.BusyIndicator.hide();
AppCache_popTwoFactor.close();
}}); 
 var AppCache_butTwoFactorSend = new sap.m.Button("AppCache_butTwoFactorSend",{type:"Accept",text:"Send",icon:"sap-icon://accept",press: function(oEvent) {
getOnlineAppCache_popTwoFactor(AppCache_inTwoFactor.getValue());
}}); 
 var AppCache_popTwoFactor = new sap.m.Dialog("AppCache_popTwoFactor",{contentHeight:"110px",contentWidth:"400px",title:"ACTIVATION CODE",leftButton:AppCache_butTwoFactorCancel,rightButton:AppCache_butTwoFactorSend,beforeOpen: function(oEvent) {
AppCache_inTwoFactor.setValue();
AppCache_errorTwoFactor.setVisible(false);
}});
var modelAppCache_popTwoFactor = new sap.ui.model.json.JSONModel();
AppCache_popTwoFactor.setModel(modelAppCache_popTwoFactor); 
 var AppCache_formTwoFactor = new sap.m.VBox("AppCache_formTwoFactor",{});
AppCache_popTwoFactor.addContent(AppCache_formTwoFactor); 
 var AppCache_lblTwoFactor = new sap.m.Label("AppCache_lblTwoFactor",{text:"Please check eMail"});
AppCache_formTwoFactor.addItem(AppCache_lblTwoFactor); 
 var AppCache_inTwoFactor = new sap.m.Input("AppCache_inTwoFactor",{type:"Tel",value:"{/TWOFACTOR}",valueStateText:"Wrong activation code"});
AppCache_formTwoFactor.addItem(AppCache_inTwoFactor); 
 var AppCache_errorTwoFactor = new sap.m.ObjectStatus("AppCache_errorTwoFactor",{state:"Error",text:"Wrong activation code",visible:false});
AppCache_formTwoFactor.addItem(AppCache_errorTwoFactor); 
 var AppCacheDiaDocClose = new sap.m.Button("AppCacheDiaDocClose",{text:"Close",press: function(oEvent) {
AppCacheDiaDoc.close();
$("#AppCacheShellDociFrame").attr('src', "");
}});
pageHidden.addContent(AppCacheDiaDocClose); 
 var AppCacheDiaDoc = new sap.m.Dialog("AppCacheDiaDoc",{contentHeight:"80%",contentWidth:"1000px",horizontalScrolling:false,stretchOnPhone:true,title:"Documentation",verticalScrolling:false,rightButton:AppCacheDiaDocClose}); 
 var AppCacheShellDocHtml = new sap.ui.core.HTML("AppCacheShellDocHtml",{});AppCacheShellDocHtml.setDOMContent("<iframe id='AppCacheShellDociFrame' height='100%' width='100%' style='border:none;'></iframe>");
AppCacheDiaDoc.addContent(AppCacheShellDocHtml); 
 var AppCache_diaDownload = new sap.m.BusyDialog("AppCache_diaDownload",{cancelButtonText:"Cancel",showCancelButton:true,text:"Downloading new version...",title:"Please wait",close: function(oEvent) {
if (AppCache.updateMobileXHR) {
    AppCache.updateMobileXHR.abort();
}
}}); 
 var popPopDoc = new sap.m.ResponsivePopover("popPopDoc",{placement:"Auto"}); 
 var headerPopDoc = new sap.m.Bar("headerPopDoc",{});
popPopDoc.setCustomHeader(headerPopDoc); 
 var iconPopDoc = new sap.ui.core.Icon("iconPopDoc",{size:"1.5rem"});
headerPopDoc.addContentLeft(iconPopDoc); 
 var titlePopDoc = new sap.m.Title("titlePopDoc",{});
headerPopDoc.addContentMiddle(titlePopDoc); 
 var openDiaDoc = new sap.m.Button("openDiaDoc",{icon:"sap-icon://popup-window",press: function(oEvent) {
sap.n.Documentation.openDiaDoc();
}});
headerPopDoc.addContentRight(openDiaDoc); 
 var closePopDoc = new sap.m.Button("closePopDoc",{icon:"sap-icon://decline",press: function(oEvent) {
popPopDoc.close();
}});
headerPopDoc.addContentRight(closePopDoc); 
 var panPopDoc = new sap.m.Panel("panPopDoc",{backgroundDesign:"Transparent"});
popPopDoc.addContent(panPopDoc);
var modelpanPopDoc = new sap.ui.model.json.JSONModel();
panPopDoc.setModel(modelpanPopDoc); 
 var htmlPopDoc = new sap.ui.core.HTML("htmlPopDoc",{});htmlPopDoc.setDOMContent("<div id='divPopDoc' class='docReader'><div id='divPopDocData' class='docData'></div></div>");
panPopDoc.addContent(htmlPopDoc); 
 var diaDiaDoc = new sap.m.Dialog("diaDiaDoc",{draggable:true,horizontalScrolling:false,resizable:true,verticalScrolling:false,beforeClose: function(oEvent) {
var elem = document.getElementById("divDiaDocData");
try {
    elem.innerHTML = ("");
    htmlDiaDoc.setVisible(false);
} catch (e) {
    console.warn("diaDiaDoc => innerHTML: " + e.message);
}

minimizeDiaDoc.setVisible(true);
maximizeDiaDoc.setVisible(false);

diaDiaDoc.setResizable(true);
diaDiaDoc.removeStyleClass("nepMinimized");
}}); 
 var headerDiaDoc = new sap.m.Bar("headerDiaDoc",{design:"Header"});
diaDiaDoc.setCustomHeader(headerDiaDoc); 
 var minimizeDiaDoc = new sap.m.Button("minimizeDiaDoc",{icon:"sap-icon://fa-regular/window-minimize",press: function(oEvent) {
diaDiaDoc.restoreHeight = diaDiaDoc.getContentHeight();
diaDiaDoc.restoreWidth = diaDiaDoc.getContentWidth();
diaDiaDoc.setContentHeight("70px");
diaDiaDoc.setContentWidth("280px");

minimizeDiaDoc.setVisible(false);
maximizeDiaDoc.setVisible(true);

diaDiaDoc.setResizable(false);
diaDiaDoc.addStyleClass("nepMinimized");
}});
headerDiaDoc.addContentRight(minimizeDiaDoc); 
 var maximizeDiaDoc = new sap.m.Button("maximizeDiaDoc",{icon:"sap-icon://fa-regular/window-maximize",visible:false,press: function(oEvent) {
diaDiaDoc.setContentHeight(diaDiaDoc.restoreHeight);
diaDiaDoc.setContentWidth(diaDiaDoc.restoreWidth);

minimizeDiaDoc.setVisible(true);
maximizeDiaDoc.setVisible(false);

diaDiaDoc.setResizable(true);
diaDiaDoc.removeStyleClass("nepMinimized");
}});
headerDiaDoc.addContentRight(maximizeDiaDoc); 
 var closeDiaDoc = new sap.m.Button("closeDiaDoc",{icon:"sap-icon://decline",press: function(oEvent) {
this.getParent().getParent().close();
}});
headerDiaDoc.addContentRight(closeDiaDoc); 
 var objHeaderDiaDoc = new sap.m.ObjectHeader("objHeaderDiaDoc",{responsive:true});
diaDiaDoc.addContent(objHeaderDiaDoc); 
 var scrollDiaDoc = new sap.m.ScrollContainer("scrollDiaDoc",{height:"calc(100% - 52px)",horizontal:false,vertical:true});
diaDiaDoc.addContent(scrollDiaDoc); 
 var panDiaDoc = new sap.m.Panel("panDiaDoc",{backgroundDesign:"Transparent"});
scrollDiaDoc.addContent(panDiaDoc);
var modelpanDiaDoc = new sap.ui.model.json.JSONModel();
panDiaDoc.setModel(modelpanDiaDoc); 
 var htmlDiaDoc = new sap.ui.core.HTML("htmlDiaDoc",{});htmlDiaDoc.setDOMContent("<div id='divDiaDoc' class='docReader'><div id='divDiaDocData' class='docData'></div></div>");
panDiaDoc.addContent(htmlDiaDoc); 
 var popNotif = new sap.m.ResponsivePopover("popNotif",{placement:"Auto",modal:false,afterClose: function(oEvent) {
$.each(sap.n.Notif.deleteItems, function(i, data) {
    ModelData.Delete(AppCacheNotifList, "GUID", data);
});
sap.n.Notif.deleteItems = [];
setCacheAppCacheNotifList();
},beforeOpen: function(oEvent) {
sap.n.Notif.deleteItems = [];
}}); 
 var headerNotif = new sap.m.Bar("headerNotif",{});
popNotif.setCustomHeader(headerNotif); 
 var toolNotif = new sap.m.Toolbar("toolNotif",{width:"100%"});
headerNotif.addContentLeft(toolNotif); 
 var txtNotif = new sap.m.Text("txtNotif",{text:"Notifications"});
toolNotif.addContent(txtNotif); 
 var oToolbarSpacer = new sap.m.ToolbarSpacer("oToolbarSpacer",{});
toolNotif.addContent(oToolbarSpacer); 
 var btnNotifClearAll = new sap.m.Button("btnNotifClearAll",{iconFirst:false,text:"Clear",type:"Reject",press: function(oEvent) {
modelAppCacheNotifList.setData([]);
setCacheAppCacheNotifList();
getOnlineNotificationDelete();

popNotif.close();
sap.n.Notif.setIcon();
}});
toolNotif.addContent(btnNotifClearAll); 
 var AppCacheNotifList = new sap.m.List("AppCacheNotifList",{growing:true,growingScrollToLoad:true,growingThreshold:60,mode:"Delete",delete: function(oEvent) {
var deleteItem = oEvent.getParameter("listItem");
var context = deleteItem.getBindingContext();
var guid = context.getProperty("GUID");

sap.n.Notif.deleteItems.push(guid);
oEvent.getParameter("listItem").addStyleClass("nepHiddenItem");

getOnlineNotificationDelete(guid);

if (+modelAppCacheNotifList.oData.length - sap.n.Notif.deleteItems.length < 1) {
    popNotif.close();
}

sap.n.Notif.setIcon();
}});
popNotif.addContent(AppCacheNotifList);
var modelAppCacheNotifList = new sap.ui.model.json.JSONModel();
AppCacheNotifList.setModel(modelAppCacheNotifList); 
 var itemAppCacheNotifList = new sap.m.CustomListItem("itemAppCacheNotifList",{type:"Active",press: function(oEvent) {
var context = oEvent.oSource.getBindingContext();
var data = context.getObject();

var startParams = {};
try {
    startParams = JSON.parse(data.APPLID_PARAMS);
} catch (e) {
    // No message, if failing, data already parsed
}

if (data.SEMANTIC_OBJECT && data.SEMANTIC_ACTION) {

    sap.n.HashNavigation.toExternal({
        target: {
            semanticObject: data.SEMANTIC_OBJECT,
            action: data.SEMANTIC_ACTION
        },
        params: startParams
    });

} else if (data.NAV_LOAD) {

    AppCache.Load(data.APPLID, {
        load: "nav",
        navUseTileColors: data.NAV_USE_TILE_CLR,
        navTitle: data.NAV_TITLE,
        navInfo: data.NAV_INFO,
        navIconSrc: data.NAV_ICON_SRC,
        navIconImg: data.NAV_ICON_IMG,
        startParams: startParams
    });

} else if (data.APPLID) {

    AppCache.Load(data.APPLID, {
        startParams: startParams
    });
}

// Delete Notification if Pressed
ModelData.Delete(AppCacheNotifList, "GUID", data.GUID);
setCacheAppCacheNotifList();
getOnlineNotificationDelete(data.GUID);

popNotif.close();
sap.n.Notif.setIcon();
}});
AppCacheNotifList.bindAggregation("items", "/",itemAppCacheNotifList); 
 var containerNotifList = new sap.m.HBox("containerNotifList",{justifyContent:"SpaceBetween",width:"100%"});
itemAppCacheNotifList.addContent(containerNotifList); 
 var layoutNotifListIcon = new sap.m.VBox("layoutNotifListIcon",{alignContent:"Center",alignItems:"Center",justifyContent:"Center",width:"5rem"});
containerNotifList.addItem(layoutNotifListIcon); 
 var iconNotif = new sap.m.ObjectStatus("iconNotif",{visible:"{= ${ICON_IMAGE} === ''}",state:"{ICON_STATE}",icon:"{ICON}"});
layoutNotifListIcon.addItem(iconNotif); 
 var imgNotif = new sap.m.Image("imgNotif",{src:"{ICON_IMAGE}",visible:"{= ${ICON_IMAGE} !== ''}"});
layoutNotifListIcon.addItem(imgNotif); 
 var layoutNotifListText = new sap.m.HBox("layoutNotifListText",{justifyContent:"SpaceBetween",width:"100%"});
containerNotifList.addItem(layoutNotifListText); 
 var boxNotifListText = new sap.m.VBox("boxNotifListText",{});
layoutNotifListText.addItem(boxNotifListText); 
 var txtNotifListHeader = new sap.m.Text("txtNotifListHeader",{text:"{HEADER}"});
boxNotifListText.addItem(txtNotifListHeader); 
 var txtNotifListText = new sap.m.Text("txtNotifListText",{text:"{TEXT}",visible:"{= !!${TEXT}}"});
boxNotifListText.addItem(txtNotifListText); 
 var txtNotifListDate = new sap.m.Text("txtNotifListDate",{text:{parts:["DATE","TIME"]}});
boxNotifListText.addItem(txtNotifListDate); 
 var sortDebugDisplay = new sap.m.Button("sortDebugDisplay",{text:"Newest on top",icon:"sap-icon://sort-descending",press: function(oEvent) {
//
sap.n.Debug.sort(AppCache_tDebugSortAsc.getText(), AppCache_tDebugSortDec.getText());
}});
pageHidden.addContent(sortDebugDisplay); 
 var clearDebugDisplay = new sap.m.Button("clearDebugDisplay",{text:"Clear Debug Log",press: function(oEvent) {
modelTabDebugDisplay.oData = [];
modelTabDebugDisplay.refresh();

diaDebugDisplay.close();
sap.n.Debug.setIconValues();
}});
pageHidden.addContent(clearDebugDisplay); 
 var diaDebugDisplay = new sap.m.Dialog("diaDebugDisplay",{contentHeight:"90%",contentWidth:"1024px",draggable:true,horizontalScrolling:false,resizable:true,beginButton:sortDebugDisplay,endButton:clearDebugDisplay,afterOpen: function(oEvent) {
closeDebugDisplay.focus();
}}); 
 var headerDebugDisplay = new sap.m.Bar("headerDebugDisplay",{design:"Header"});
diaDebugDisplay.setCustomHeader(headerDebugDisplay); 
 var checkBoxDebugDisplayError = new sap.m.CheckBox("checkBoxDebugDisplayError",{selected:true,text:"Errors",select: function(oEvent) {
sap.n.Debug.filter();
}});
headerDebugDisplay.addContentLeft(checkBoxDebugDisplayError); 
 var checkBoxDebugDisplayWarning = new sap.m.CheckBox("checkBoxDebugDisplayWarning",{selected:true,text:"Warnings",select: function(oEvent) {
sap.n.Debug.filter();
}});
headerDebugDisplay.addContentLeft(checkBoxDebugDisplayWarning); 
 var checkBoxDebugDisplayInfo = new sap.m.CheckBox("checkBoxDebugDisplayInfo",{selected:true,text:"Information",select: function(oEvent) {
sap.n.Debug.filter();
}});
headerDebugDisplay.addContentLeft(checkBoxDebugDisplayInfo); 
 var closeDebugDisplay = new sap.m.Button("closeDebugDisplay",{icon:"sap-icon://decline",press: function(oEvent) {
this.getParent().getParent().close();
}});
headerDebugDisplay.addContentRight(closeDebugDisplay); 
 var TabDebugDisplay = new sap.m.List("TabDebugDisplay",{growing:true,growingScrollToLoad:true,growingThreshold:50,showNoData:false});
diaDebugDisplay.addContent(TabDebugDisplay);
var modelTabDebugDisplay = new sap.ui.model.json.JSONModel();
TabDebugDisplay.setModel(modelTabDebugDisplay); 
 var itemTabDebugDisplay = new sap.m.CustomListItem("itemTabDebugDisplay",{});
TabDebugDisplay.bindAggregation("items", "/",itemTabDebugDisplay); 
 var contDebugDisplay = new sap.m.HBox("contDebugDisplay",{fitContainer:true,justifyContent:"SpaceBetween",width:"100%"});
itemTabDebugDisplay.addContent(contDebugDisplay); 
 var contDebugDisplayMsg = new sap.m.HBox("contDebugDisplayMsg",{width:"calc(100% - 3rem)"});
contDebugDisplay.addItem(contDebugDisplayMsg); 
 var layoutDebugDisplayType = new sap.m.VBox("layoutDebugDisplayType",{alignItems:"Center",justifyContent:"Center",width:"3rem"});
contDebugDisplayMsg.addItem(layoutDebugDisplayType); 
 var icoTabDebugDisplayLOG_TYPE = new sap.ui.core.Icon("icoTabDebugDisplayLOG_TYPE",{src:"{LOG_TYPE}",size:"1.25rem",color:"{LOG_TYPE}"});
layoutDebugDisplayType.addItem(icoTabDebugDisplayLOG_TYPE); 
 var layoutDebugDisplayMsg = new sap.m.VBox("layoutDebugDisplayMsg",{width:"calc(100% - 3rem)"});
contDebugDisplayMsg.addItem(layoutDebugDisplayMsg); 
 var txtTabDebugDisplayLOG_MSG = new sap.m.Text("txtTabDebugDisplayLOG_MSG",{text:"{LOG_MSG}"});
layoutDebugDisplayMsg.addItem(txtTabDebugDisplayLOG_MSG); 
 var txtTabDebugDisplayLOG_TRACE = new sap.m.Text("txtTabDebugDisplayLOG_TRACE",{text:"{LOG_TRACE}",width:"calc(100% - 2.5rem)"});
layoutDebugDisplayMsg.addItem(txtTabDebugDisplayLOG_TRACE); 
 var layoutDebugDisplayBtn = new sap.m.VBox("layoutDebugDisplayBtn",{alignItems:"Center",justifyContent:"Center",width:"3rem"});
contDebugDisplay.addItem(layoutDebugDisplayBtn); 
 var btnDebugDisplay = new sap.m.Button("btnDebugDisplay",{icon:"sap-icon://detail-view",press: function(oEvent) {
var context = oEvent.oSource.getBindingContext();
var guid = context.getProperty("GUID");
var data = context.getObject();

modeldiaTraceDisplay.setData(data);
sap.n.Debug.displayTrace(guid);
}});
layoutDebugDisplayBtn.addItem(btnDebugDisplay); 
 var diaTraceDisplay = new sap.m.Dialog("diaTraceDisplay",{draggable:true,horizontalScrolling:false,afterOpen: function(oEvent) {
closeTraceDisplay.focus();
}});
var modeldiaTraceDisplay = new sap.ui.model.json.JSONModel();
diaTraceDisplay.setModel(modeldiaTraceDisplay); 
 var headerTraceDisplay = new sap.m.Bar("headerTraceDisplay",{design:"Header"});
diaTraceDisplay.setCustomHeader(headerTraceDisplay); 
 var closeTraceDisplay = new sap.m.Button("closeTraceDisplay",{icon:"sap-icon://decline",press: function(oEvent) {
this.getParent().getParent().close();
}});
headerTraceDisplay.addContentRight(closeTraceDisplay); 
 var oHBox4 = new sap.m.HBox("oHBox4",{width:"100%"});
diaTraceDisplay.addContent(oHBox4); 
 var oVBox5 = new sap.m.VBox("oVBox5",{});
oHBox4.addItem(oVBox5); 
 var iconTraceDisplay = new sap.ui.core.Icon("iconTraceDisplay",{color:"{/LOG_TYPE}",size:"1.25rem",src:"{/LOG_TYPE}"});
oVBox5.addItem(iconTraceDisplay); 
 var oVBox6 = new sap.m.VBox("oVBox6",{width:"calc(100% - 2.5rem)"});
oHBox4.addItem(oVBox6); 
 var TabTraceDisplay = new sap.m.List("TabTraceDisplay",{growing:true,growingScrollToLoad:true,growingThreshold:50,showNoData:false,showSeparators:"None"});
oVBox6.addItem(TabTraceDisplay);
var modelTabTraceDisplay = new sap.ui.model.json.JSONModel();
TabTraceDisplay.setModel(modelTabTraceDisplay); 
 var itemTabTraceDisplay = new sap.m.CustomListItem("itemTabTraceDisplay",{type:"Inactive"});
TabTraceDisplay.bindAggregation("items", "/",itemTabTraceDisplay); 
 var contTraceDisplay = new sap.m.VBox("contTraceDisplay",{});
itemTabTraceDisplay.addContent(contTraceDisplay); 
 var txtTabTraceDisplayLOG_TRACE = new sap.m.Text("txtTabTraceDisplayLOG_TRACE",{text:"{LOG_TRACE}"});
contTraceDisplay.addItem(txtTabTraceDisplayLOG_TRACE); 
 var clearTimezone = new sap.m.Button("clearTimezone",{text:"Clear",press: function(oEvent) {
modelAppCacheUserDefaults.oData.TZONE = "";
modelAppCacheUserDefaults.oData.TZONE_DESCRIPT = "";
modelAppCacheUserDefaults.refresh();
diaTimezone.close();
sap.n.Utils.updateUserDefault("timezone");
}});
pageHidden.addContent(clearTimezone); 
 var diaTimezone = new sap.m.Dialog("diaTimezone",{verticalScrolling:false,horizontalScrolling:false,draggable:true,contentWidth:"680px",contentHeight:"960px",endButton:clearTimezone}); 
 var headerTimezone = new sap.m.Bar("headerTimezone",{design:"Header"});
diaTimezone.setCustomHeader(headerTimezone); 
 var closeTimezone = new sap.m.Button("closeTimezone",{icon:"sap-icon://decline",press: function(oEvent) {
this.getParent().getParent().close();
}});
headerTimezone.addContentRight(closeTimezone); 
 var objHeaderTimezone = new sap.m.ObjectHeader("objHeaderTimezone",{title:"Timezones",responsive:true,numberUnit:"ENTRIES",intro:"Select timezone",icon:"sap-icon://globe"});
diaTimezone.addContent(objHeaderTimezone); 
 var scrollTimezone = new sap.m.ScrollContainer("scrollTimezone",{height:"calc(100% - 82px)",horizontal:false,vertical:true});
diaTimezone.addContent(scrollTimezone); 
 var TabTimezone = new sap.m.Table("TabTimezone",{mode:"SingleSelectLeft","sticky":["ColumnHeaders"],growingThreshold:2000,selectionChange: function(oEvent) {
var selectedItem = oEvent.oSource.getSelectedItem();
var path = selectedItem.getBindingContextPath();
var obj = oEvent.oSource.getModel().getObject(path);

if (obj) {
    modelAppCacheUserDefaults.oData.TZONE = obj.TZONE;
    modelAppCacheUserDefaults.oData.TZONE_DESCRIPT = obj.TZONE_DESCRIPT;
    modelAppCacheUserDefaults.refresh();
    diaTimezone.close();
    sap.n.Utils.updateUserDefault("timezone");
}
}});
scrollTimezone.addContent(TabTimezone);
var modelTabTimezone = new sap.ui.model.json.JSONModel();
TabTimezone.setModel(modelTabTimezone); 
 var colTabTimezoneTZONE_DESCRIPT = new sap.m.Column("colTabTimezoneTZONE_DESCRIPT",{header: new sap.m.Label({text:"Time Zone"})});
TabTimezone.addColumn(colTabTimezoneTZONE_DESCRIPT); 
 var colTabTimezoneTZONERULE_DESCRI = new sap.m.Column("colTabTimezoneTZONERULE_DESCRI",{width:"120px",header: new sap.m.Label({text:"UTC Difference"})});
TabTimezone.addColumn(colTabTimezoneTZONERULE_DESCRI); 
 var colTabTimezoneDSTRULE_DESCRIPT = new sap.m.Column("colTabTimezoneDSTRULE_DESCRIPT",{header: new sap.m.Label({text:"Daylight Saving Rule"})});
TabTimezone.addColumn(colTabTimezoneDSTRULE_DESCRIPT); 
 var colItemTabTimezone = new sap.m.ColumnListItem("colItemTabTimezone",{selected:"{SELECTED}"});
TabTimezone.bindAggregation("items", "/",colItemTabTimezone); 
 var txtTabTimezoneTZONE_DESCRIPT = new sap.m.Text("txtTabTimezoneTZONE_DESCRIPT",{text:"{TZONE_DESCRIPT}"});
colItemTabTimezone.addCell(txtTabTimezoneTZONE_DESCRIPT); 
 var txtTabTimezoneTZONERULE_DESCRI = new sap.m.Text("txtTabTimezoneTZONERULE_DESCRI",{text:"{TZONERULE_DESCRIPT}"});
colItemTabTimezone.addCell(txtTabTimezoneTZONERULE_DESCRI); 
 var txtTabTimezoneDSTRULE_DESCRIPT = new sap.m.Text("txtTabTimezoneDSTRULE_DESCRIPT",{text:"{DSTRULE_DESCRIPT}"});
colItemTabTimezone.addCell(txtTabTimezoneDSTRULE_DESCRIPT); 
 var acceptSplitviewCreate = new sap.m.Button("acceptSplitviewCreate",{text:"Create Splitview",press: function(oEvent) {
sap.n.Launchpad.Splitview.create({
    navTitle: inSplitviewCreateTitle.getValue().trim(),
    navInfo: inSplitviewCreateDescription.getValue().trim(),
    saveToServer: inSplitviewCreateSave.getSelected(),
    orientation: (rbgSplitviewCreateOrientation.getSelectedIndex() === 0) ? "Horizontal" : "Vertical"
});
diaSplitviewCreate.close();
}});
pageHidden.addContent(acceptSplitviewCreate); 
 var diaSplitviewCreate = new sap.m.Dialog("diaSplitviewCreate",{verticalScrolling:false,horizontalScrolling:false,draggable:true,contentWidth:"820px",endButton:acceptSplitviewCreate,beforeOpen: function(oEvent) {
inSplitviewCreateTitle.setValue();
inSplitviewCreateDescription.setValue();
acceptSplitviewCreate.setEnabled(false);
inSplitviewCreateSave.setSelected(sap.n.Launchpad.Splitview.saveCreate);
inSplitviewCreateFullscreen.setSelected(sap.n.Launchpad.Splitview.fullscreen);

var selectedIndex = (sap.n.Launchpad.Splitview.orientation === "Horizontal") ? 0 : 1;
rbgSplitviewCreateOrientation.setSelectedIndex(selectedIndex);
}}); 
 var headerSplitviewCreate = new sap.m.Bar("headerSplitviewCreate",{design:"Header"});
diaSplitviewCreate.setCustomHeader(headerSplitviewCreate); 
 var closeSplitviewCreate = new sap.m.Button("closeSplitviewCreate",{icon:"sap-icon://decline",press: function(oEvent) {
this.getParent().getParent().close();
}});
headerSplitviewCreate.addContentRight(closeSplitviewCreate); 
 var objHeaderSplitviewCreate = new sap.m.ObjectHeader("objHeaderSplitviewCreate",{icon:"sap-icon://bbyd-dashboard",intro:"Give the splitview a title & description, so that you easily can recognize it in the menu",numberUnit:"ENTRIES",responsive:true,title:"Create Splitview"});
diaSplitviewCreate.addContent(objHeaderSplitviewCreate); 
 var formSplitviewCreate = new sap.ui.layout.form.SimpleForm("formSplitviewCreate",{editable:true,labelSpanM:4,"layout":"ResponsiveGridLayout"});
diaSplitviewCreate.addContent(formSplitviewCreate); 
 var lbllSplitviewCreateTitle = new sap.m.Label("lbllSplitviewCreateTitle",{required:true,text:"Splitview Title"});
formSplitviewCreate.addContent(lbllSplitviewCreateTitle); 
 var inSplitviewCreateTitle = new sap.m.Input("inSplitviewCreateTitle",{liveChange: function(oEvent) {
acceptSplitviewCreate.setEnabled(this.getValue().trim().length > 0);
}});
formSplitviewCreate.addContent(inSplitviewCreateTitle); 
 var lbllSplitviewCreateDescription = new sap.m.Label("lbllSplitviewCreateDescription",{text:"Splitview Description"});
formSplitviewCreate.addContent(lbllSplitviewCreateDescription); 
 var inSplitviewCreateDescription = new sap.m.Input("inSplitviewCreateDescription",{});
formSplitviewCreate.addContent(inSplitviewCreateDescription); 
 var lblSplitviewCreateOrientation = new sap.m.Label("lblSplitviewCreateOrientation",{text:"Orientation"});
formSplitviewCreate.addContent(lblSplitviewCreateOrientation); 
 var rbgSplitviewCreateOrientation = new sap.m.RadioButtonGroup("rbgSplitviewCreateOrientation",{select: function(oEvent) {
var orientation = (this.getSelectedIndex() === 0) ? "Horizontal" : "Vertical";

sap.n.Launchpad.Splitview.orientation = "Vertical";
sap.n.Utils.userSetting.update({
    AREA: "LAUNCHPAD",
    GROUPING: "SPLITVIEW",
    NAME: "OPTIONS",
    KEY2: "Orientation",
    VAL2: orientation
});
}});
formSplitviewCreate.addContent(rbgSplitviewCreateOrientation); 
 var rbSplitviewCreateHorizontal = new sap.m.RadioButton("rbSplitviewCreateHorizontal",{text:"Horizontal"});
rbgSplitviewCreateOrientation.addButton(rbSplitviewCreateHorizontal); 
 var rbSplitviewCreateVertical = new sap.m.RadioButton("rbSplitviewCreateVertical",{text:"Vertical"});
rbgSplitviewCreateOrientation.addButton(rbSplitviewCreateVertical); 
 var lblSplitviewCreateFullscreen = new sap.m.Label("lblSplitviewCreateFullscreen",{});
formSplitviewCreate.addContent(lblSplitviewCreateFullscreen); 
 var inSplitviewCreateFullscreen = new sap.m.CheckBox("inSplitviewCreateFullscreen",{text:"Fullscreen splitview",select: function(oEvent) {
sap.n.Launchpad.Splitview.fullscreen = this.getSelected();
sap.n.Utils.userSetting.update({
    AREA: "LAUNCHPAD",
    GROUPING: "SPLITVIEW",
    NAME: "OPTIONS",
    KEY1: "Fullscreen",
    VAL1: sap.n.Launchpad.Splitview.fullscreen ? "yes" : "no"
});

}});
formSplitviewCreate.addContent(inSplitviewCreateFullscreen); 
 var lblSplitviewCreateSave = new sap.m.Label("lblSplitviewCreateSave",{});
formSplitviewCreate.addContent(lblSplitviewCreateSave); 
 var boxSplitviewCreateSave = new sap.m.VBox("boxSplitviewCreateSave",{});
formSplitviewCreate.addContent(boxSplitviewCreateSave); 
 var inSplitviewCreateSave = new sap.m.CheckBox("inSplitviewCreateSave",{text:"Load this splitview at launchpad start",select: function(oEvent) {
sap.n.Launchpad.Splitview.saveCreate = this.getSelected();
sap.n.Utils.userSetting.update({
    AREA: "LAUNCHPAD",
    GROUPING: "SPLITVIEW",
    NAME: "OPTIONS",
    KEY0: "Save",
    VAL0: sap.n.Launchpad.Splitview.saveCreate ? "yes" : "no"
});

// inSplitviewCreateLoad.setVisible(sap.n.Launchpad.Splitview.saveCreate);
}});
boxSplitviewCreateSave.addItem(inSplitviewCreateSave); 
 var msgSplitviewCreateSave = new sap.m.MessageStrip("msgSplitviewCreateSave",{text:"Splitview will be available when the launchpad starts up."});
boxSplitviewCreateSave.addItem(msgSplitviewCreateSave); 
 var acceptSplitviewApp = new sap.m.Button("acceptSplitviewApp",{text:"Add applications to splitview",press: function(oEvent) {
var apps = [];
var selectedItems = TabSplitviewApp.getSelectedItems();

$.each(selectedItems, function(i, item) {
    apps.push(item.getBindingContext().getObject());
});

diaSplitviewApp.appListCallback(apps);
diaSplitviewApp.close();

}});
pageHidden.addContent(acceptSplitviewApp); 
 var diaSplitviewApp = new sap.m.Dialog("diaSplitviewApp",{verticalScrolling:false,horizontalScrolling:false,draggable:true,contentWidth:"820px",contentHeight:"860px",endButton:acceptSplitviewApp,afterClose: function(oEvent) {
diaSplitviewApp.deleteSplitviewListCallback = function(){};
},beforeOpen: function(oEvent) {
var splitApps = [];
$.each(modelAppCacheTiles.oData, function(i, tile) {
    if (!!tile.APPLID) {
        splitApps.push({
            GUID: tile.GUID,
            APPLID: tile.APPLID,
            TILE_TITLE: tile.TILE_TITLE || tile.NAME,
            TILE_INFO: tile.TILE_INFO,
            TILE_ICON: tile.TILE_ICON
        });
    }
});

objHeaderSplitviewApp.setNumber(splitApps.length);
modelTabSplitviewApp.setData(splitApps);

// inlSplitviewAppTitle.setValue();
// inlSplitviewAppDescription.setValue();

TabSplitviewApp.removeSelections();
}}); 
 var headerSplitviewApp = new sap.m.Bar("headerSplitviewApp",{design:"Header"});
diaSplitviewApp.setCustomHeader(headerSplitviewApp); 
 var closeSplitviewApp = new sap.m.Button("closeSplitviewApp",{icon:"sap-icon://decline",press: function(oEvent) {
this.getParent().getParent().close();
diaSplitviewApp.deleteSplitviewListCallback();
}});
headerSplitviewApp.addContentRight(closeSplitviewApp); 
 var objHeaderSplitviewApp = new sap.m.ObjectHeader("objHeaderSplitviewApp",{icon:"sap-icon://bbyd-dashboard",intro:"Add application to Splitview",numberUnit:"APPLICATIONS",responsive:true,title:"Splitview"});
diaSplitviewApp.addContent(objHeaderSplitviewApp); 
 var scrollSplitviewApp = new sap.m.ScrollContainer("scrollSplitviewApp",{height:"calc(100% - 96px)",horizontal:false,vertical:true});
diaSplitviewApp.addContent(scrollSplitviewApp); 
 var TabSplitviewApp = new sap.m.List("TabSplitviewApp",{showNoData:false,mode:"MultiSelect",growingThreshold:100,growingScrollToLoad:true,growing:true,itemPress: function(oEvent) {
var selectedItem = oEvent.oSource.getSelectedItem();
var path = selectedItem.getBindingContextPath();
var app = oEvent.oSource.getModel().getObject(path);

diaSplitviewApp.appListCallback([app]);
diaSplitviewApp.close();

}});
scrollSplitviewApp.addContent(TabSplitviewApp);
var modelTabSplitviewApp = new sap.ui.model.json.JSONModel();
TabSplitviewApp.setModel(modelTabSplitviewApp); 
 var itemSplitviewApp = new sap.m.StandardListItem("itemSplitviewApp",{icon:"{TILE_ICON}",info:"{TILE_INFO}",title:"{TILE_TITLE}",type:"Inactive"});
TabSplitviewApp.bindAggregation("items", "/",itemSplitviewApp); 
 var acceptSplitviewList = new sap.m.Button("acceptSplitviewList",{text:"Save Changes",press: function(oEvent) {
diaSplitviewList.acceptSplitviewListCallback({
    title: inSplitviewListTitle.getValue(),
    info: inSplitviewListDescription.getValue(),
    saveToServer: inSplitviewListSave.getSelected(),
    fullscreen: inSplitviewListFullscreen.getSelected()
});
diaSplitviewList.close();

if (diaSplitviewList.isDirty) diaSplitviewList.isDirtyCallback();
}});
pageHidden.addContent(acceptSplitviewList); 
 var diaSplitviewList = new sap.m.Dialog("diaSplitviewList",{verticalScrolling:false,horizontalScrolling:false,draggable:true,contentWidth:"820px",contentHeight:"860px",endButton:acceptSplitviewList,beforeOpen: function(oEvent) {
// inlSplitviewListTitle.setValue();
// inlSplitviewListDescription.setValue();
diaSplitviewList.isDirty = false;
}}); 
 var headerSplitviewList = new sap.m.Bar("headerSplitviewList",{design:"Header"});
diaSplitviewList.setCustomHeader(headerSplitviewList); 
 var closeSplitviewList = new sap.m.Button("closeSplitviewList",{icon:"sap-icon://decline",press: function(oEvent) {
//
diaSplitviewList.close();
}});
headerSplitviewList.addContentRight(closeSplitviewList); 
 var objHeaderSplitviewList = new sap.m.ObjectHeader("objHeaderSplitviewList",{icon:"sap-icon://bbyd-dashboard",intro:"Rearrange splitview applications and change title and description",numberUnit:"ENTRIES",responsive:true,title:"Maintain Splitview"});
diaSplitviewList.addContent(objHeaderSplitviewList); 
 var formSplitviewList = new sap.ui.layout.form.SimpleForm("formSplitviewList",{editable:true,labelSpanM:4,"layout":"ResponsiveGridLayout"});
diaSplitviewList.addContent(formSplitviewList); 
 var lbllSplitviewListTitle = new sap.m.Label("lbllSplitviewListTitle",{text:"Splitview Title"});
formSplitviewList.addContent(lbllSplitviewListTitle); 
 var inSplitviewListTitle = new sap.m.Input("inSplitviewListTitle",{});
formSplitviewList.addContent(inSplitviewListTitle); 
 var lbllSplitviewListDescription = new sap.m.Label("lbllSplitviewListDescription",{text:"Splitview Description"});
formSplitviewList.addContent(lbllSplitviewListDescription); 
 var inSplitviewListDescription = new sap.m.Input("inSplitviewListDescription",{});
formSplitviewList.addContent(inSplitviewListDescription); 
 var lblSplitviewListFullscreen = new sap.m.Label("lblSplitviewListFullscreen",{});
formSplitviewList.addContent(lblSplitviewListFullscreen); 
 var inSplitviewListFullscreen = new sap.m.CheckBox("inSplitviewListFullscreen",{text:"Fullscreen splitview",select: function(oEvent) {
sap.n.Launchpad.Splitview.fullscreen = this.getSelected();
sap.n.Utils.userSetting.update({
    AREA: "LAUNCHPAD",
    GROUPING: "SPLITVIEW",
    NAME: "OPTIONS",
    KEY1: "Fullscreen",
    VAL1: sap.n.Launchpad.Splitview.fullscreen ? "yes" : "no"
});

diaSplitviewList.isDirty = true;
}});
formSplitviewList.addContent(inSplitviewListFullscreen); 
 var lblSplitviewListSave = new sap.m.Label("lblSplitviewListSave",{});
formSplitviewList.addContent(lblSplitviewListSave); 
 var boxSplitviewListSave = new sap.m.VBox("boxSplitviewListSave",{});
formSplitviewList.addContent(boxSplitviewListSave); 
 var inSplitviewListSave = new sap.m.CheckBox("inSplitviewListSave",{text:"Load this splitview at launchpad start",select: function(oEvent) {
sap.n.Launchpad.Splitview.saveCreate = this.getSelected();
sap.n.Utils.userSetting.update({
    AREA: "LAUNCHPAD",
    GROUPING: "SPLITVIEW",
    NAME: "OPTIONS",
    KEY0: "Save",
    VAL0: sap.n.Launchpad.Splitview.saveCreate ? "yes" : "no"
});

// inSplitviewListLoad.setVisible(sap.n.Launchpad.Splitview.saveCreate);
}});
boxSplitviewListSave.addItem(inSplitviewListSave); 
 var msgSplitviewListSave = new sap.m.MessageStrip("msgSplitviewListSave",{text:"Splitview will be available when the launchpad starts up."});
boxSplitviewListSave.addItem(msgSplitviewListSave); 
 var scrollSplitviewList = new sap.m.ScrollContainer("scrollSplitviewList",{height:"calc(100% - 172px)",horizontal:false,vertical:true});
diaSplitviewList.addContent(scrollSplitviewList); 
 var TabSplitviewList = new sap.m.Table("TabSplitviewList",{mode:"Delete",headerText:"Applications in splitview",growingThreshold:50,growingScrollToLoad:true,growing:true,delete: function(oEvent) {
var deleteItem = oEvent.getParameter("listItem");
var context = deleteItem.getBindingContext();

var data = modelTabSplitviewList.oData;
data.splice(+context.getPath().slice(1), 1);
modelTabSplitviewList.setData(data);
modelTabSplitviewList.refresh();
}});
scrollSplitviewList.addContent(TabSplitviewList);
var modelTabSplitviewList = new sap.ui.model.json.JSONModel();
TabSplitviewList.setModel(modelTabSplitviewList); 
 var colTabSplitviewListTILE_ICON = new sap.m.Column("colTabSplitviewListTILE_ICON",{width:"3rem"});
TabSplitviewList.addColumn(colTabSplitviewListTILE_ICON); 
 var colTabSplitviewListTILE_TITLE = new sap.m.Column("colTabSplitviewListTILE_TITLE",{width:"230px"});
TabSplitviewList.addColumn(colTabSplitviewListTILE_TITLE); 
 var colTabSplitviewListTILE_INFO = new sap.m.Column("colTabSplitviewListTILE_INFO",{});
TabSplitviewList.addColumn(colTabSplitviewListTILE_INFO); 
 var colItemTabSplitviewList = new sap.m.ColumnListItem("colItemTabSplitviewList",{});
TabSplitviewList.bindAggregation("items", "/",colItemTabSplitviewList); 
 var icoTabSplitviewListTILE_ICON = new sap.ui.core.Icon("icoTabSplitviewListTILE_ICON",{src:"{TILE_ICON}"});
colItemTabSplitviewList.addCell(icoTabSplitviewListTILE_ICON); 
 var txtTabSplitviewListTILE_TITLE = new sap.m.Text("txtTabSplitviewListTILE_TITLE",{maxLines:1,text:"{TILE_TITLE}",wrapping:false});
colItemTabSplitviewList.addCell(txtTabSplitviewListTILE_TITLE); 
 var txtTabSplitviewListTILE_INFO = new sap.m.Text("txtTabSplitviewListTILE_INFO",{maxLines:1,text:"{TILE_INFO}",wrapping:false});
colItemTabSplitviewList.addCell(txtTabSplitviewListTILE_INFO); 
 var TreeCategory = new sap.m.Tree("TreeCategory",{showNoData:false,showSeparators:"None",rememberSelections:false,mode:"SingleSelectMaster"});
var modelTreeCategory = new sap.ui.model.json.JSONModel();
TreeCategory.setModel(modelTreeCategory); 
 var TreeMenu = new sap.m.Tree("TreeMenu",{mode:"SingleSelectMaster",rememberSelections:false,showNoData:false,showSeparators:"None"});
var modelTreeMenu = new sap.ui.model.json.JSONModel();
TreeMenu.setModel(modelTreeMenu); 
 var AppCache_FaceId = new sap.m.Text("AppCache_FaceId",{visible:false,text:"Login with Face-ID"}); 
 var AppCache_Fingerprint = new sap.m.Text("AppCache_Fingerprint",{text:"Login with Fingerprint",visible:false}); 
 var AppCache_headLogon = new sap.m.Text("AppCache_headLogon",{text:"Logon"}); 
 var AppCache_headPasscode = new sap.m.Text("AppCache_headPasscode",{text:"Set Pin Code"}); 
 var AppCache_headPasscodeEntry = new sap.m.Text("AppCache_headPasscodeEntry",{text:"Enter Pin Code"}); 
 var AppCache_headPassword = new sap.m.Text("AppCache_headPassword",{text:"Enter New Password"}); 
 var AppCache_headUsers = new sap.m.Text("AppCache_headUsers",{text:"Select User"}); 
 var AppCache_txtNotLoaded = new sap.m.Text("AppCache_txtNotLoaded",{text:"Not loaded"}); 
 var AppCache_tSearchResult = new sap.m.Text("AppCache_tSearchResult",{text:"Search Result"}); 
 var AppCache_tSearchNoResult = new sap.m.Text("AppCache_tSearchNoResult",{text:"No result, refine search criteria"}); 
 var AppCache_tNoConnection = new sap.m.Text("AppCache_tNoConnection",{text:"No connection"}); 
 var AppCache_tRelogon_offline = new sap.m.Text("AppCache_tRelogon_offline",{text:"Please re-logon if you have been offline"}); 
 var AppCache_tReconnecting = new sap.m.Text("AppCache_tReconnecting",{text:"Reconnecting..."}); 
 var AppCache_tRelogon = new sap.m.Text("AppCache_tRelogon",{text:"Please logoff and logon if you want to update your pin-code"}); 
 var AppCache_tLogonTimeOut = new sap.m.Text("AppCache_tLogonTimeOut",{text:"Logon Failed - Timeout"}); 
 var AppCache_tCannotServerRedirect = new sap.m.Text("AppCache_tCannotServerRedirect",{text:"Error in Server Redirect"}); 
 var AppCache_tUserDefaultSAP = new sap.m.Text("AppCache_tUserDefaultSAP",{text:"(User default in SAP)"}); 
 var AppCache_tEnableFaceId = new sap.m.Text("AppCache_tEnableFaceId",{text:"Enable Face-ID Authentication?"}); 
 var AppCache_tEnableFingerprint = new sap.m.Text("AppCache_tEnableFingerprint",{text:"Enable Fingerprint Authentication?"}); 
 var AppCache_tUI5Version = new sap.m.Text("AppCache_tUI5Version",{text:"UI5 Version"}); 
 var AppCache_tBuildVersion = new sap.m.Text("AppCache_tBuildVersion",{text:"Build Version"}); 
 var AppCache_tNeptuneVersion = new sap.m.Text("AppCache_tNeptuneVersion",{text:"Neptune Version"}); 
 var AppCache_tCordovaVersion = new sap.m.Text("AppCache_tCordovaVersion",{text:"Cordova Version"}); 
 var AppCache_tPhoneVersion = new sap.m.Text("AppCache_tPhoneVersion",{text:"Phone Version"}); 
 var AppCache_tPhoneType = new sap.m.Text("AppCache_tPhoneType",{text:"Phone Type"}); 
 var AppCache_tPhoneModel = new sap.m.Text("AppCache_tPhoneModel",{text:"Phone Model"}); 
 var AppCache_tAndroidPackage = new sap.m.Text("AppCache_tAndroidPackage",{text:"Android Package Name"}); 
 var AppCache_tAndroidVersionName = new sap.m.Text("AppCache_tAndroidVersionName",{text:"Android Version Name"}); 
 var AppCache_tAndroidVersionCode = new sap.m.Text("AppCache_tAndroidVersionCode",{text:"Android Version Code"}); 
 var AppCache_tAppNotFound = new sap.m.Text("AppCache_tAppNotFound",{text:"App not found or no policy"}); 
 var AppCache_tMaxFileSize = new sap.m.Text("AppCache_tMaxFileSize",{text:"File is too large. Allowed max file size is 200kb"}); 
 var AppCache_tNoCurrentConfig = new sap.m.Text("AppCache_tNoCurrentConfig",{text:"No Launchpad ID selected"}); 
 var AppCache_tAppUpdated = new sap.m.Text("AppCache_tAppUpdated",{text:"App updated. New logon required"}); 
 var AppCache_tDownloading = new sap.m.Text("AppCache_tDownloading",{text:"Downloading new version"}); 
 var AppCache_tDownloadOpen = new sap.m.Text("AppCache_tDownloadOpen",{text:"Opening download..."}); 
 var AppCache_tErrorDownloading = new sap.m.Text("AppCache_tErrorDownloading",{text:"Error downloading new version"}); 
 var AppCache_tWrongUserNamePass = new sap.m.Text("AppCache_tWrongUserNamePass",{text:"Not Authorized"}); 
 var AppCache_tUserLocked = new sap.m.Text("AppCache_tUserLocked",{text:"User locked or password expired"}); 
 var AppCache_tCertLogonFailed = new sap.m.Text("AppCache_tCertLogonFailed",{text:"Failed to log on using X.509 Certificate"}); 
 var AppCache_tPwdChangeReq = new sap.m.Text("AppCache_tPwdChangeReq",{text:"Change of SAP password is required for user"}); 
 var AppCache_tWrongActivationCode = new sap.m.Text("AppCache_tWrongActivationCode",{text:"Wrong Activation Code"}); 
 var AppCache_tWrongResponse = new sap.m.Text("AppCache_tWrongResponse",{text:"No valid APPLID or other Error"}); 
 var AppCache_tPasscodeToShort = new sap.m.Text("AppCache_tPasscodeToShort",{text:"Pin code too short"}); 
 var AppCache_tNewPasswordNoMatch = new sap.m.Text("AppCache_tNewPasswordNoMatch",{text:"Passwords do not match"}); 
 var AppCache_tNoPasscodeMatch = new sap.m.Text("AppCache_tNoPasscodeMatch",{text:"Pin code do not match"}); 
 var AppCache_tEnterRepeatPasscode = new sap.m.Text("AppCache_tEnterRepeatPasscode",{text:"Repeat pin code"}); 
 var AppCache_tEnterNewPasscode = new sap.m.Text("AppCache_tEnterNewPasscode",{text:"Enter new pin code"}); 
 var AppCache_tEnterPassword = new sap.m.Text("AppCache_tEnterPassword",{text:"Enter password"}); 
 var AppCache_tEnterUsername = new sap.m.Text("AppCache_tEnterUsername",{text:"Enter username"}); 
 var AppCache_tUserLogout = new sap.m.Text("AppCache_tUserLogout",{text:"User logged out"}); 
 var AppCache_tNoUserData = new sap.m.Text("AppCache_tNoUserData",{text:"Not able to fetch user data from SAP"}); 
 var AppCache_tOpen = new sap.m.Text("AppCache_tOpen",{text:"Open"}); 
 var AppCache_tConfirmationNeeded = new sap.m.Text("AppCache_tConfirmationNeeded",{text:"Confirmation needed"}); 
 var AppCache_tConfirmRemoveTile = new sap.m.Text("AppCache_tConfirmRemoveTile",{text:"Do you want to remove this card from your favorites?"}); 
 var AppCache_tRemoveTile = new sap.m.Text("AppCache_tRemoveTile",{text:"Yes, remove card!"}); 
 var AppCache_tRemoveMostused = new sap.m.Text("AppCache_tRemoveMostused",{text:"Remove from most used"}); 
 var AppCache_tConfirmRemoveUsed = new sap.m.Text("AppCache_tConfirmRemoveUsed",{text:"Do you want to remove this card from your most used cards?"}); 
 var AppCache_tLaunchpad = new sap.m.Text("AppCache_tLaunchpad",{text:"Launchpad"}); 
 var AppCache_tSAPSystem = new sap.m.Text("AppCache_tSAPSystem",{text:"SAP System"}); 
 var AppCache_tDebugSortAsc = new sap.m.Text("AppCache_tDebugSortAsc",{text:"Oldest on top"}); 
 var AppCache_tDebugSortDec = new sap.m.Text("AppCache_tDebugSortDec",{text:"Newest on top"}); 
 var AppCache_tInstalCheckTitle = new sap.m.Text("AppCache_tInstalCheckTitle",{text:"Installation Check"}); 
 var AppCache_tInstalCheckIntro = new sap.m.Text("AppCache_tInstalCheckIntro",{text:"Missing action after upgrade"}); 
 var AppCache_tInstalCheckText1 = new sap.m.Text("AppCache_tInstalCheckText1",{text:"Please run report /NEPTUNE/INSTALLATION_CHECK! Contact system administrator."}); 
 var AppCache_tTileHelp = new sap.m.Text("AppCache_tTileHelp",{text:"Tile Help"}); 
 var AppCache_tIncompatible = new sap.m.Text("AppCache_tIncompatible",{text:"Incompatible"}); 
 var AppCache_tDNDFav = new sap.m.Text("AppCache_tDNDFav",{text:"Use drag & drop to sort favorites"}); 
 var AppCache_tDNDSplitview = new sap.m.Text("AppCache_tDNDSplitview",{text:"Use drag & drop to rearrange applications"}); 
 var AppCache_tStillOffline = new sap.m.Text("AppCache_tStillOffline",{text:"Sorry, still offline"}); 
 var AppCache_tInterrupted = new sap.m.Text("AppCache_tInterrupted",{text:"Interrupted"}); 
 var AppCache_tPreventLock = new sap.m.Text("AppCache_tPreventLock",{text:"An open app prevented locking!"}); 
 var AppCache_tPWAUpdate = new sap.m.Text("AppCache_tPWAUpdate",{text:"New version available. Reload required"}); 
 var AppCache_tPWAInfo = new sap.m.Text("AppCache_tPWAInfo",{text:"Update Available"}); 
 var AppCache_tSidepanelExpand = new sap.m.Text("AppCache_tSidepanelExpand",{text:"Expand Sidepanel"}); 
 var AppCache_tSidepanelCollapse = new sap.m.Text("AppCache_tSidepanelCollapse",{text:"Collapse Sidepanel"}); 
 var AppCacheSplitView = new sap.ui.core.Element("AppCacheSplitView",{});
var modelAppCacheSplitView = new sap.ui.model.json.JSONModel();
AppCacheSplitView.setModel(modelAppCacheSplitView); 
 var SplitViewObj = new sap.ui.core.Element("SplitViewObj",{});
var modelSplitViewObj = new sap.ui.model.json.JSONModel();
SplitViewObj.setModel(modelSplitViewObj); 
 var AppCacheSplitApp = new sap.ui.core.Element("AppCacheSplitApp",{});
var modelAppCacheSplitApp = new sap.ui.model.json.JSONModel();
AppCacheSplitApp.setModel(modelAppCacheSplitApp); 
 var CSRFToken = new sap.ui.core.Element("CSRFToken",{});
var modelCSRFToken = new sap.ui.model.json.JSONModel();
CSRFToken.setModel(modelCSRFToken); 
 var AppCacheUpdate = new sap.ui.core.Element("AppCacheUpdate",{});
var modelAppCacheUpdate = new sap.ui.model.json.JSONModel();
AppCacheUpdate.setModel(modelAppCacheUpdate); 
 var AppCacheUser = new sap.ui.core.Element("AppCacheUser",{});
var modelAppCacheUser = new sap.ui.model.json.JSONModel();
AppCacheUser.setModel(modelAppCacheUser); 
 var AppCacheClientInfo = new sap.ui.core.Element("AppCacheClientInfo",{});
var modelAppCacheClientInfo = new sap.ui.model.json.JSONModel();
AppCacheClientInfo.setModel(modelAppCacheClientInfo); 
 var AppCacheAppTimestamp = new sap.ui.core.Element("AppCacheAppTimestamp",{});
var modelAppCacheAppTimestamp = new sap.ui.model.json.JSONModel();
AppCacheAppTimestamp.setModel(modelAppCacheAppTimestamp); 
 var AppCacheCheck = new sap.ui.core.Element("AppCacheCheck",{});
var modelAppCacheCheck = new sap.ui.model.json.JSONModel();
AppCacheCheck.setModel(modelAppCacheCheck); 
 var TilePreview = new sap.ui.core.Element("TilePreview",{});
var modelTilePreview = new sap.ui.model.json.JSONModel();
TilePreview.setModel(modelTilePreview); 
 var TilegroupPreview = new sap.ui.core.Element("TilegroupPreview",{});
var modelTilegroupPreview = new sap.ui.model.json.JSONModel();
TilegroupPreview.setModel(modelTilegroupPreview); 
 var AppCacheGlobalSettings = new sap.ui.core.Element("AppCacheGlobalSettings",{});
var modelAppCacheGlobalSettings = new sap.ui.model.json.JSONModel();
AppCacheGlobalSettings.setModel(modelAppCacheGlobalSettings); 
 var AppCacheImageData = new sap.ui.core.Element("AppCacheImageData",{});
var modelAppCacheImageData = new sap.ui.model.json.JSONModel();
AppCacheImageData.setModel(modelAppCacheImageData); 
 var AppCacheImageDataId = new sap.ui.core.Element("AppCacheImageDataId",{});
var modelAppCacheImageDataId = new sap.ui.model.json.JSONModel();
AppCacheImageDataId.setModel(modelAppCacheImageDataId); 
 var AppCacheImageDataUpdate = new sap.ui.core.Element("AppCacheImageDataUpdate",{});
var modelAppCacheImageDataUpdate = new sap.ui.model.json.JSONModel();
AppCacheImageDataUpdate.setModel(modelAppCacheImageDataUpdate); 
 var AppCacheLayout = new sap.ui.core.Element("AppCacheLayout",{});
var modelAppCacheLayout = new sap.ui.model.json.JSONModel();
AppCacheLayout.setModel(modelAppCacheLayout); 
 var AppCacheDebugLog = new sap.ui.core.Element("AppCacheDebugLog",{});
var modelAppCacheDebugLog = new sap.ui.model.json.JSONModel();
AppCacheDebugLog.setModel(modelAppCacheDebugLog); 
 var AppCacheDebugTrace = new sap.ui.core.Element("AppCacheDebugTrace",{});
var modelAppCacheDebugTrace = new sap.ui.model.json.JSONModel();
AppCacheDebugTrace.setModel(modelAppCacheDebugTrace); 
 var AppCacheTiles = new sap.ui.core.Element("AppCacheTiles",{});
var modelAppCacheTiles = new sap.ui.model.json.JSONModel();
AppCacheTiles.setModel(modelAppCacheTiles); 
 var AppCacheTilesLink = new sap.ui.core.Element("AppCacheTilesLink",{});
var modelAppCacheTilesLink = new sap.ui.model.json.JSONModel();
AppCacheTilesLink.setModel(modelAppCacheTilesLink); 
 var AppCacheTilesRun = new sap.ui.core.Element("AppCacheTilesRun",{});
var modelAppCacheTilesRun = new sap.ui.model.json.JSONModel();
AppCacheTilesRun.setModel(modelAppCacheTilesRun); 
 var AppCacheTilesDynInfo = new sap.ui.core.Element("AppCacheTilesDynInfo",{});
var modelAppCacheTilesDynInfo = new sap.ui.model.json.JSONModel();
AppCacheTilesDynInfo.setModel(modelAppCacheTilesDynInfo); 
 var AppCacheTileGroup = new sap.ui.core.Element("AppCacheTileGroup",{});
var modelAppCacheTileGroup = new sap.ui.model.json.JSONModel();
AppCacheTileGroup.setModel(modelAppCacheTileGroup); 
 var AppCacheTileGroupSub = new sap.ui.core.Element("AppCacheTileGroupSub",{});
var modelAppCacheTileGroupSub = new sap.ui.model.json.JSONModel();
AppCacheTileGroupSub.setModel(modelAppCacheTileGroupSub); 
 var AppCacheTileGroupLink = new sap.ui.core.Element("AppCacheTileGroupLink",{});
var modelAppCacheTileGroupLink = new sap.ui.model.json.JSONModel();
AppCacheTileGroupLink.setModel(modelAppCacheTileGroupLink); 
 var AppCacheData = new sap.ui.core.Element("AppCacheData",{});
var modelAppCacheData = new sap.ui.model.json.JSONModel();
AppCacheData.setModel(modelAppCacheData); 
 var AppCacheTranslation = new sap.ui.core.Element("AppCacheTranslation",{});
var modelAppCacheTranslation = new sap.ui.model.json.JSONModel();
AppCacheTranslation.setModel(modelAppCacheTranslation); 
 var AppCacheNotifDelta = new sap.ui.core.Element("AppCacheNotifDelta",{});
var modelAppCacheNotifDelta = new sap.ui.model.json.JSONModel();
AppCacheNotifDelta.setModel(modelAppCacheNotifDelta); 
 var AppCacheNotifDevice = new sap.ui.core.Element("AppCacheNotifDevice",{});
var modelAppCacheNotifDevice = new sap.ui.model.json.JSONModel();
AppCacheNotifDevice.setModel(modelAppCacheNotifDevice); 
 var AppCacheCustomColorset = new sap.ui.core.Element("AppCacheCustomColorset",{});
var modelAppCacheCustomColorset = new sap.ui.model.json.JSONModel();
AppCacheCustomColorset.setModel(modelAppCacheCustomColorset); 
 var AppCacheFieldDoc = new sap.ui.core.Element("AppCacheFieldDoc",{});
var modelAppCacheFieldDoc = new sap.ui.model.json.JSONModel();
AppCacheFieldDoc.setModel(modelAppCacheFieldDoc); 
 var AppCacheUserLayout = new sap.ui.core.Element("AppCacheUserLayout",{});
var modelAppCacheUserLayout = new sap.ui.model.json.JSONModel();
AppCacheUserLayout.setModel(modelAppCacheUserLayout); 
 var DataDocumentation = new sap.ui.core.Element("DataDocumentation",{});
var modelDataDocumentation = new sap.ui.model.json.JSONModel();
DataDocumentation.setModel(modelDataDocumentation); 
 var MsgList = new sap.ui.core.Element("MsgList",{});
var modelMsgList = new sap.ui.model.json.JSONModel();
MsgList.setModel(modelMsgList); 
 var MsgObj = new sap.ui.core.Element("MsgObj",{});
var modelMsgObj = new sap.ui.model.json.JSONModel();
MsgObj.setModel(modelMsgObj); 
 var UserSetting = new sap.ui.core.Element("UserSetting",{});
var modelUserSetting = new sap.ui.model.json.JSONModel();
UserSetting.setModel(modelUserSetting);
sap.n.Layout = {

    row: {
        ONE: "One",
        FEW: "Few",
        MORE: "More",
        MANY: "Many"
    },
    tile: {
        SMALL: "Small",
        MEDIUM: "Medium",
        WIDE: "Wide",
        MAX: "Max"
    },
    style: {
        CARD: "cards",
        DEFAULT: "Default",
        FIORI: "Fiori"
    },
    color: {
        system: {
            ColorSet1: "ColorSet1",
            ColorSet2: "ColorSet2",
            ColorSet3: "ColorSet3",
            ColorSet4: "ColorSet4",
            ColorSet5: "ColorSet5",
            ColorSet6: "ColorSet6",
            ColorSet7: "ColorSet7",
            ColorSet8: "ColorSet8",
            ColorSet9: "ColorSet9",
            ColorSet10: "ColorSet10",
            ColorSet11: "ColorSet11",
        },
        custom: true,
        shade: {
            ShadeA: "ShadeA",
            ShadeB: "ShadeB",
            ShadeC: "ShadeC",
            ShadeD: "ShadeD",
        }
    },

    waitForLayout: 0,

    setHeaderPadding: function(noRebuild) {

        topMenu.removeStyleClass("nepSideCollapsed");
        topMenu.removeStyleClass("nepSideExpanded");
        topMenu.removeStyleClass("nepSideMenu");
        topMenu.removeStyleClass("nepSideMenuCollapsed");
        topMenu.removeStyleClass("nepSideMenuExpanded");

        sap.n.Launchpad.setLaunchpadContentWidth();

        if (!noRebuild && currLayout.HEADER_WIDTH !== "Full") {

            var menu = launchpadContentMenu.getWidth();
            var navBar = launchpadContentNavigator.getWidth();

            sap.n.Launchpad.setLaunchpadContentWidth();

            if (menu === "300px" && navBar === "68px") {
                topMenu.addStyleClass("nepSideMenuCollapsed");
            }
            else if (menu === "300px" && navBar === "300px") {
                topMenu.addStyleClass("nepSideMenuExpanded");
            }
            else if (menu === "300px") {
                topMenu.addStyleClass("nepSideMenu");
            }
            else if (navBar === "68px") {
                topMenu.addStyleClass("nepSideCollapsed");
            }
            else if (navBar === "300px") {
                topMenu.addStyleClass("nepSideExpanded");
            }
        }
    },

    applyCustomColorSet: function() {

        if (!Array.isArray(modelAppCacheCustomColorset.oData) || modelAppCacheCustomColorset.oData.length <= 0) {
            return;
        }
        var css = "<style>" + neptune.Style.getColorsetCss(modelAppCacheCustomColorset.oData) + "</style>";
        var customColorSetDiv = $("#NeptuneCustomColorSetDiv").html(css).trigger("create");
    }
};
sap.n.Notif = {

    deleteItems: [],
    notifInterval: null,

    // Init Notification
    Init: function() {

        if (AppCache.enableNotif && !AppCache.isMobile) {

            // Register Service
            if (navigator.serviceWorker && !sap.ui.Device.system.desktop) {
                navigator.serviceWorker.register("neptune_service_worker");
            }

            // Get Cache
            getCacheAppCacheNotifTime();

            // Set Defaults
            if (!modelAppCacheNotifTime.oData.INTERVAL) {
                modelAppCacheNotifTime.setData({
                    INTERVAL: '60000',
                    ENABLED: true
                });
                setCacheAppCacheNotifTime();
            }
        }
    },

    list: function() {

        clearInterval(sap.n.Notif.notifInterval);

        // Set Notif Timer
        if (modelAppCacheNotifTime.oData && modelAppCacheNotifTime.oData.ENABLED) {

            var device = [];
            $.each(modelAppCacheNotifList.oData, function(i, data) {
                device.push({
                    GUID: data.GUID
                });
            });
            modelAppCacheNotifDevice.setData(device);
            getOnlineNotificationList();

            sap.n.Notif.notifInterval = setInterval(function() {

                if (!AppCache.isOffline) {

                    var device = [];
                    $.each(modelAppCacheNotifList.oData, function(i, data) {
                        device.push({
                            GUID: data.GUID
                        });
                    });
                    modelAppCacheNotifDevice.setData(device);
                    getOnlineNotificationList();
                }

            }, modelAppCacheNotifTime.oData.INTERVAL);
        }
    },

    notify: function() {

        dataNotif = modelAppCacheNotifList.oData;

        var Notification = window.Notification || navigator.mozNotification;

        // Support
        if (Notification && Array.isArray(dataNotif) && dataNotif.length > 0) {

            // Permission
            if (Notification.permission === 'granted') {
                $.each(dataNotif, function(i, data) {
                    if (+data.NOTIFIED) {
                        return true;
                    }
                    if (i < 4) {
                        sap.n.Notif.showAlertDialog(data);
                    }
                    data.NOTIFIED = new Date().getTime();
                    getOnlineNotificationNotified(data.GUID);
                });
                setCacheAppCacheNotifList();
            }
            else {
                Notification.requestPermission(function(permission) {
                    if (permission === "granted") {
                        $.each(dataNotif, function(i, data) {
                            if (+data.NOTIFIED) {
                                return true;
                            }
                            if (i < 4) {
                                sap.n.Notif.showAlertDialog(data);
                            }
                            data.NOTIFIED = new Date().getTime();
                            getOnlineNotificationNotified(data.GUID);
                        });
                        setCacheAppCacheNotifList();
                    }
                });
            }
            sap.n.Notif.setIcon();
        }
    },

    // Show Notification
    showAlertDialog: function(dataNotif) {

        var options = {
            body: dataNotif.NAME + " - " + dataNotif.DATE_F,
            icon: AppCache.Url + "/neptune/public/images/mail32.png"
        };

        // Create Notification
        if (navigator.serviceWorker && !sap.ui.Device.system.desktop) {

            navigator.serviceWorker.ready.then(function(registration) {
                registration.showNotification(dataNotif.HEADER, {
                    body: options.body,
                    icon: options.icon,
                    data: dataNotif,
                    tag: dataNotif.HEADER
                });
            });

        } else {

            var notif;

            if ("Notification" in window) {
                notif = new Notification(dataNotif.HEADER, options);
            } else if ("mozNotification" in navigator) {
                notif = navigator.mozNotification.createNotification(title, options.body, options.icon).show();
            }

            // Auto Close
            setTimeout(notif.close.bind(notif), 5000);

            // Handle Click Event
            notif.onclick = function(e) {

                window.focus();

                var startParams = {};
                try {
                    startParams = JSON.parse(dataNotif.APPLID_PARAMS);
                } catch (e) {
                    console.warn("sap.n.Notif.showAlertDialog => JSON parse startParams: " + e.message);
                }

                if (dataNotif.SEMANTIC_OBJECT && dataNotif.SEMANTIC_ACTION) {

                    sap.n.HashNavigation.toExternal({
                        target: {
                            semanticObject: dataNotif.SEMANTIC_OBJECT,
                            action: dataNotif.SEMANTIC_ACTION
                        },
                        params: startParams
                    });

                } else if (dataNotif.APPLID) {

                    AppCache.Load(dataNotif.APPLID, {
                        startParams: startParams
                    });
                }

                // Delete Notification if Pressed
                ModelData.Delete(AppCacheNotifList, "GUID", dataNotif.GUID);
                setCacheAppCacheNotifList();
                getOnlineNotificationDelete(dataNotif.GUID);

                sap.n.Notif.setIcon();
            };
        }
    },

    setIcon: function() {

        var iconVisible = AppCacheShellNotif.getVisible();

        var count = +modelAppCacheNotifList.oData.length - sap.n.Notif.deleteItems.length;
        AppCacheShellNotif.setText(count);
        AppCacheShellNotif.setVisible(count > 0);
    }
};
// Enable NameSpace
sap.n.Push = {};
sap.n.Push.PushWoosh = {};
sap.n.Push.SMP = {};
sap.n.Push.Firebase = {};

// Common
sap.n.Push.Subscribe = function() {

    // Activated ?
    if (!AppCache.enablePush) return;
    if (typeof device === "undefined") return;

    setTimeout(function() {
        if (AppCache.pushProvider === 'PushWoosh') sap.n.Push.PushWoosh.Init();
        if (AppCache.pushProvider === 'SMP') sap.n.Push.SMP.Init();
        if (AppCache.pushProvider === 'Firebase') sap.n.Push.Firebase.Init();
    }, 7000);

};

sap.n.Push.Firebase.Init = function() {

    if (typeof PushNotification === "undefined") {
        console.log("PushNotification plugin not installed");
        return;
    }

    var push = PushNotification.init({
        "android": {
            "senderID": AppCache.GoogleID
        },
        "browser": {},
        "ios": {
            "sound": true,
            "vibration": true,
            "badge": true
        },
        "windows": {}
    });

    push.on('registration', function(data) {
        AppCache.PhoneID = data.registrationId;
        sap.n.Push.PushWoosh.RegisterDevice();
    });

    push.on('error', function(e) {
        console.error("push error = " + e.message);
    });

    push.on('notification', function(data) {

        // Custom PushHandler
        if (typeof customPushHandler === "function") {
            customPushHandler(data);
            return;
        }

        // data.message,
        // data.title,
        // data.count,
        // data.sound,
        // data.image,
        // data.additionalData

        navigator.notification.alert(
            data.message, // message
            null, // callback
            data.title, // title
            'OK' // buttonName
        );

        if (sap.ui.Device.os.name === 'iOS') {
            push.setApplicationIconBadgeNumber(function() {
                console.log('Badge: success');
            }, function() {
                console.log('Badge: error');
            }, data.count);
        }
    });

}

// PushWoosh
sap.n.Push.PushWoosh.Init = function() {

    var pushNotification = cordova.require("pushwoosh-cordova-plugin.PushNotification");

    // Handler - When a push is received in foreground
    document.addEventListener('push-receive', function(event) {

        // Custom PushHandler
        if (typeof customPushHandler === "function") {
            customPushHandler(event);
            return;
        }

        if (event.notification.foreground) {
            navigator.notification.alert(event.notification.message);
        }

        pushNotification.setApplicationIconBadgeNumber(0);
    });

    // Handler - When this notification is opened
    document.addEventListener('push-notification', function(event) {

        // Custom PushHandler
        if (typeof customPushHandler === "function") {
            customPushHandler(event);
            return;
        }

        pushNotification.setApplicationIconBadgeNumber(0);
    });

    // OnDeviceReady
    pushNotification.onDeviceReady({
        appid: AppCache.PushWooshID,
        projectid: AppCache.GoogleID
    });

    // Register Device
    pushNotification.registerDevice(
        function(status) {
            AppCache.PhoneID = status.pushToken;
            sap.n.Push.PushWoosh.RegisterDevice();
        },
        function(error) {
            jQuery.sap.require("sap.m.MessageToast");
            sap.m.MessageToast.show("PushWoosh - failed to register: " + error);
            console.error("PushWoosh - failed to register: " + error);
        }
    );

    pushNotification.setApplicationIconBadgeNumber(0);
};

sap.n.Push.PushWoosh.RegisterDevice = function() {

    var urlPath = "";
    if (AppCache.allowIcfNode) {
        urlPath = "/" + AppCache.allowIcfNode.toLowerCase();
    }

    PushUrl = AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html";
    formData = 'phone-os=' + sap.ui.Device.os.name + '&phone-id=' + AppCache.PhoneID + '&key=' + AppCache.CurrentConfig + '&phone-provider=' + AppCache.pushProvider;

    $.ajax({
        type: "POST",
        url: PushUrl,
        data: formData,
        success: function(data, status, request) {},
        error: function(xhr, status, error) {
            console.error("sap.n.Push.PushWoosh.RegisterDevice: AJAX error posting " + PushUrl);
        }
    });
};

// SMP Push
sap.n.Push.SMP.Init = function() {

    var push = PushNotification.init({
        "android": {
            "senderID": AppCache.GoogleID
        },
        "ios": {
            "alert": "true",
            "badge": "true",
            "sound": "true"
        },
        "windows": {}
    });

    push.on('registration', function(data) {

        //Register SAP
        sap.n.Push.SMP.RegisterDevice();
        //Android
        if (sap.ui.Device.os.name === sap.ui.Device.os.OS.ANDROID) {
            sap.n.Push.SMP.RegisterAndroid(data.registrationId);
        }

        // iOS
        if (sap.ui.Device.os.name === sap.ui.Device.os.OS.IOS) {
            sap.n.Push.SMP.RegisteriOS(data.registrationId);
        }

    });

    push.on('notification', function(data) {

        // Custom PushHandler
        if (typeof customPushHandler === "function") {
            customPushHandler(data);
            return;
        }

        navigator.notification.alert(data.message);
        if (sap.ui.Device.os.name === 'iOS') {
            push.setApplicationIconBadgeNumber(function() {
                // console.log('success');
            }, function() {
                console.error('sap.n.Push.SMP.Init: Error');
            }, data.count);
        }

        push.finish(function() {
            // console.log('finish successfully called');
        });
    });

    push.on('error', function(e) {
        console.error("sap.n.Push.SMP.Init: Error");
    });
};

sap.n.Push.SMP.RegisterDevice = function() {

    var urlPath = "";
    if (AppCache.allowIcfNode) {
        urlPath = "/" + AppCache.allowIcfNode.toLowerCase();
    }

    PushUrl = AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html";
    formData = 'phone-os=' + sap.ui.Device.os.name + '&phone-id=' + AppCache.deviceID + '&key=' + AppCache.CurrentConfig + '&phone-provider=' + AppCache.pushProvider;

    $.ajax({
        type: "POST",
        url: PushUrl,
        data: formData,
        success: function(data, status, request) {},
        error: function(xhr, status, error) {
            console.error("sap.n.Push.SMP.RegisterDevice: AJAX error posting " + PushUrl);
        }
    });
};

// SMP - Android - Register
sap.n.Push.SMP.RegisterAndroid = function(phoneID) {

    var formData = '<?xml version="1.0" encoding="UTF-8"?><entry xmlns="http://www.w3.org/2005/Atom" xmlns:m="http://schemas.microsoft.' +
        'com/ado/2007/08/dataservices/metadata" xmlns:d="http://schemas.microsoft.com/ado/2007/08/dataservices">' +
        '<content type="application/xml"><m:properties><d:AndroidGcmRegistrationId>' +
        phoneID +
        '</d:AndroidGcmRegistrationId ></m:properties></content></entry>';

    var pushUrl = AppCache.Url + "/odata/applications/latest/" + AppCache.smpApplication + "/Connections('" + AppCache.deviceID + "')";

    $.ajax({
        type: "POST",
        headers: {
            "X-HTTP-METHOD": "MERGE",
            "Content-Type": "application/atom+xml"
        },
        url: pushUrl,
        data: formData,
        success: function(data, status, request) {},
        error: function(xhr, status, error) {
            console.error("sap.n.Push.SMP.RegisterAndroid: AJAX error posting " + PushUrl);
        }
    });
};

// SMP - iOS - Register
sap.n.Push.SMP.RegisteriOS = function(phoneID) {

    var formData =
        '<?xml version="1.0" encoding="UTF-8"?> <entry xmlns="http://www.w3.org/2005/Atom" xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" xmlns:d="http://schemas.microsoft.com/ado/2007/08/dataservices">' +
        '<content type="application/xml"><m:properties><d:ApnsDeviceToken>' + phoneID + '</d:ApnsDeviceToken></m:properties></content></entry>';

    var pushUrl = AppCache.Url + "/odata/applications/latest/" + AppCache.smpApplication + "/Connections('" + AppCache.deviceID + "')";

    $.ajax({
        type: "POST",
        headers: {
            "X-HTTP-METHOD": "MERGE",
            "Content-Type": "application/atom+xml"
        },
        url: pushUrl,
        data: formData,
        success: function(data, status, request) {},
        error: function(xhr, status, error) {
            console.error("sap.n.Push.SMP.RegisteriOS: AJAX error posting " + PushUrl);
        }
    });
};
sap.n.Shell.splitOpen = function(param1, param2, param3, param4, param5) {

    if (!param1) return;

    var config;
    var splitapps = [];

    if (typeof param1 === "object") {
        config = param1;
    } else {
        config = {
            splitapps: [param1]
        };
        if (param2) config.splitapps.push(param2);
        if (param3) config.splitapps.push(param3);
        if (param4) config.splitapps.push(param4);
        if (param5) config.splitapps.push(param5);
    }

    $.each(config.splitapps, function(i, app) {

        var card = ModelData.Find(AppCacheTiles, "APPLID", app)[0];
        if (card) {
            splitapps.push({
                APPLID: card.APPLID,
                GUID: card.GUID,
                TILE_ICON: card.TILE_ICON,
                TILE_INFO: card.TILE_INFO,
                TILE_TITLE: card.TILE_TITLE
            });
        }
    });

    var splitview;

    config.id = config.id || "SPLITVIEW" + new Date().getTime();
    config.navTitle = config.navTitle || "Splitview";
    config.navInfo = config.navInfo || "Applications";
    config.orientation = config.orientation || "Horizontal";
    config.saveToServer = config.saveToServer || false;
    config.fullscreen = config.fullscreen || true;
    config.splitapps = splitapps;
    config.loadInBackground = config.loadInBackground || false;
    config.codeLoad = true;
    config.callback = function() {
        $.each(splitapps, function(i, app) {
            splitview.add(app);
        });
    };

    splitview = sap.n.Launchpad.Splitview.load(config);
};

sap.n.Shell.setUserText = function(txt) {
    AppCacheUserActionText.setText(txt);
};

sap.n.getObjectByID = function(id) {
    var object;
    object = sap.ui.getCore().byId(sap.n.currentView.createId(id));
    return object;
};

sap.n.setNavigation = function(data) {
    if (sap.n.Launchpad.currentTile.GUID) {
        location.hash = sap.n.Launchpad.currentTile.GUID + "&" + data;
    } else {
        location.hash = "";
    }
};

// Event - attachInit
sap.n.Shell.attachInit = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].init) sap.n.Apps[applid].init = [];

    sap.n.Apps[applid].init.push(func);
};

// Event - attachBeforeDisplay
sap.n.Shell.attachBeforeDisplay = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].beforeDisplay) sap.n.Apps[applid].beforeDisplay = [];

    sap.n.Apps[applid].beforeDisplay.push(func);
};

// Event - beforeBack
sap.n.Shell.attachBeforeSuspend = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].beforeSuspend) sap.n.Apps[applid].beforeSuspend = [];

    sap.n.Apps[applid].beforeSuspend.push(func);
};

// Event - beforeBack
sap.n.Shell.attachBeforeBack = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].beforeBack) sap.n.Apps[applid].beforeBack = [];

    sap.n.Apps[applid].beforeBack.push(func);
};

// Event - beforeHome
sap.n.Shell.attachBeforeHome = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].beforeHome) sap.n.Apps[applid].beforeHome = [];

    sap.n.Apps[applid].beforeHome.push(func);
};

// Event - beforeMenuNavigation
sap.n.Shell.attachBeforeMenuNavigation = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].beforeMenuNavigation) sap.n.Apps[applid].beforeMenuNavigation = [];

    sap.n.Apps[applid].beforeMenuNavigation.push(func);
};

// Event - beforeOpenAppNavigation
sap.n.Shell.attachBeforeOpenAppNavigation = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].beforeOpenAppNavigation) sap.n.Apps[applid].beforeOpenAppNavigation = [];

    sap.n.Apps[applid].beforeOpenAppNavigation.push(func);
};

// Event - beforeClose
sap.n.Shell.attachBeforeClose = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].beforeClose) sap.n.Apps[applid].beforeClose = [];

    sap.n.Apps[applid].beforeClose.push(func);
};

sap.n.Shell.attachAfterClose = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].afterClose) sap.n.Apps[applid].afterClose = [];

    sap.n.Apps[applid].afterClose.push(func);
};

// Event - attachOnNavigation
sap.n.Shell.attachOnNavigation = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].onNavigation) sap.n.Apps[applid].onNavigation = [];

    sap.n.Apps[applid].onNavigation.push(func);
};

// Event - attachCacheLoaded
sap.n.Shell.attachCacheLoaded = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].cacheLoaded) sap.n.Apps[applid].cacheLoaded = [];

    sap.n.Apps[applid].cacheLoaded.push(func);
};

// Event - attachAppTitle
sap.n.Shell.attachAppTitle = function(func) {

    var applid = sap.n.Shell.getAppsObject();

    if (!applid || !sap.n.Apps[applid]) return;
    if (!sap.n.Apps[applid].appTitle) sap.n.Apps[applid].appTitle = [];

    sap.n.Apps[applid].appTitle.push(func);
};

sap.n.Shell.getAppsObject = function(id) {

    var applid = "";
    var appId = id || localAppID;
    if (AppCache.LoadOptions && AppCache.LoadOptions.applid) {
        applid = AppCache.LoadOptions.applid;
    } else {
        applid = appId;
    }

    if (AppCache.LoadOptions && AppCache.LoadOptions.appGUID) {
        applid = AppCache.LoadOptions.appGUID;
        if (!sap.n.Apps[applid]) {
            sap.n.Apps[applid] = {
                app: applid,
                initialized: false
            };
        }
    }
    return applid;
};

sap.n.Shell.loadSidepanel = function(tabApplid, tabTitle) {

    AppCacheUserActionSidepanel.setVisible(true);
    AppCachePageSideTab.setVisible(true);

    // Open Sidepanel
    sap.n.Launchpad.sidepanelOpen();

    // Check for existing
    var tabKey = tabApplid;
    var tabCreated = false;

    $.each(AppCachePageSideTab.getItems(), function(i, tab) {
        if (tab.getKey() === "/neptune/documentation") {
            AppCachePageSideTab.removeItem(tab);
            tab.destroy();
            return false;
        }
    });

    $.each(AppCachePageSideTab.getItems(), function(i, tab) {
        if (tab.getKey() === tabKey) {
            AppCachePageSideTab.setSelectedItem(tab);
            tabCreated = true;
            return false;
        }
    });

    // Stop if tab exits
    if (tabCreated) return;

    var oTabContainerItem = new sap.m.TabContainerItem({
        key: tabKey,
        modified: false,
        name: tabTitle
    });

    AppCachePageSideTab.addItem(oTabContainerItem);
    AppCachePageSideTab.setSelectedItem(oTabContainerItem);

    AppCache.Load(tabApplid, {
        parentObject: oTabContainerItem,
        sidePanel: true
    });

    // Trigger scrollTo
    setTimeout(function() {
        AppCachePageSideTab.setSelectedItem(oTabContainerItem);
    }, 200);
};

// Close Tile
sap.n.Shell.closeTile = function(tileData, config) {

    config = config || {};

    // Return check
    if (typeof tileData !== 'object') {
        console.warn("sap.n.Shell.closeTile: Tile data not an object!");
        return;
    } else if (tileData === null) {
        console.warn("sap.n.Shell.closeTile: Tile data = null!");
        return;
    } else if (!tileData.hasOwnProperty("GUID")) {
        console.warn("sap.n.Shell.closeTile: No GUID in tile data!");
        return;
    }

    var _handle = function() {

        // Destroy current App or URL
        if (tileData.URL_LONG || tileData.SAP_TRANS) {
            var iframe = $("#iFrame" + tileData.GUID);
            if (iframe && iframe[0] && iframe[0].parentNode) {
                iframe[0].parentNode.removeChild(iframe[0]);
            }

            //Current tile properly not set for transactions?
            if (sap.n.Launchpad.currentTile.GUID === tileData.GUID) {
                sap.n.Launchpad.currentTile = {};
            }
            if (tileData.APPLID_SIDEPANEL) sap.n.Shell.closeSidepanel();

            // Navigate Back
            AppCache.Back();

        } else {

            AppCacheShellAppTitle.setVisible(false);
            AppCacheShellAppTitle.setText("");
            AppCacheShellAppTitle.setIcon("");
            AppCacheShellAppTitle.setType("Default");

            // Navigate Back
            if (sap.n.Launchpad.currentTile.GUID === tileData.GUID) {

                if (tileData.NAV_ACTION && tileData.NAV_OBJECT) {
                    if (AppCacheNav.getPreviousPage() === AppCachePageMenu) {
                        location.hash = "#Home";
                    } else {
                        location.hash = "";
                    }
                }
                sap.n.Launchpad.currentTile = {};

                // set currentTile and set active menu
                if (AppCacheNav.getPreviousPage().getId().indexOf("__jsview") === 0) {

                    for (var key in AppCache.View) {
                        var view = AppCache.View[key];

                        if (AppCacheNav.getPreviousPage().getId() === view.getId()) {

                            var tile = $.grep(modelAppCacheTiles.oData, function(data, i) {
                                return (data.GUID === key);
                            })[0];
                            if (tile) {
                                sap.n.Launchpad.currentTile = tile;
                            } else {
                                sap.n.Launchpad.currentTile = {
                                    GUID: key
                                };
                            }
                            if (sap.ui.getCore().byId("but" + key)) {
                                sap.n.Launchpad.setActiveIcon("but" + key);
                            }
                        }
                    }
                }

                if (tileData.APPLID_SIDEPANEL) {
                    sap.n.Shell.closeSidepanel();
                }
            }

            if (AppCache.View[tileData.GUID]) {
                AppCache.View[tileData.GUID].setVisible(false);
            }

            if (AppCache.ViewChild[tileData.GUID]) {
                sap.n.Shell.deleteViewChild(tileData.GUID);
            }

            // setTimeout(function() {
            // afterClose - Memory Cleanup
            if (sap.n.Apps[tileData.GUID] && sap.n.Apps[tileData.GUID].afterClose) {
                $.each(sap.n.Apps[tileData.GUID].afterClose, function(i, data) {
                    data();
                    // var oEvent = new sap.ui.base.Event('afterClose', new sap.ui.base.EventProvider());
                    // data(oEvent);
                    // oEvent = null;
                });
            }

            var viewId;

            // Clear View
            if (AppCache.View[tileData.GUID]) {
                viewId = AppCache.View[tileData.GUID].sId;
                AppCache.View[tileData.GUID].destroy();
                AppCache.View[tileData.GUID] = null;
                delete AppCache.View[tileData.GUID];
            }

            // Clear All Events
            delete sap.n.Apps[tileData.GUID];

            if (viewId) {
                sap.n.Shell.clearObjects(viewId);
            }

            // if (AppCache.ViewChild[tileData.GUID]) {
            //     sap.n.Shell.deleteViewChild(tileData.GUID);
            // }
            // }, 0);

            // Close Objects
            AppCacheShellHelp.setVisible(false);
            AppCacheShellDebug.setVisible(false);

            // var viewId;

            // // Clear View
            // if (AppCache.View[tileData.GUID]) {
            //     viewId = AppCache.View[tileData.GUID].sId;
            //     AppCache.View[tileData.GUID].destroy();
            //     AppCache.View[tileData.GUID] = null;
            //     delete AppCache.View[tileData.GUID];
            // }

            // // Clear All Events
            // delete sap.n.Apps[tileData.GUID];

            // if (viewId) {
            //     sap.n.Shell.clearObjects(viewId);
            // }

            // rare case: Open multiple apps => navigate to the first opened app. Close all the other apps and then the first opened app => current = previous => go back
            if (AppCacheNav.getPreviousPage() && AppCacheNav.getCurrentPage().sId === AppCacheNav.getPreviousPage().sId) {
                AppCacheNav.back();
            }
        }

        // Clear onBackButtonCustom event handler
        sap.n.Phonegap.onBackButtonCustom = null;

        // Destroy overflow button
        var but = sap.ui.getCore().byId("but" + tileData.GUID);
        if (but) but.destroy();

        // Destroy open apps button
        var containerOpenApp = sap.ui.getCore().byId("__nepOpenAppContainer" + tileData.GUID);
        if (containerOpenApp) {
            sap.n.Launchpad.openApps.removeItem(containerOpenApp);
            containerOpenApp.destroy();
            if (sap.n.Launchpad.openApps.getItems().length <= 0) {
                openAppMaster.setVisible(false);
            }
        }

        var popup = sap.ui.getCore().byId("but" + tileData.GUID + "-popup");
        if (popup) popup.destroy();

        delete sap.n.Launchpad.openAppPops["but" + tileData.GUID + "-overflow"];

        // SideBar
        var items = blockRunningRow.getItems();
        if (!sap.n.Launchpad.showNavBar() || !items.length) {
            navBarClosedJustNow = true;
            launchpadContentNavigator.setWidth("0px");
            sap.n.Layout.setHeaderPadding();
        }

        // if (AppCache.ViewChild[tileData.GUID]) {
        //     sap.n.Shell.deleteViewChild(tileData.GUID);
        // }

        sap.n.Launchpad.setShellWidth();

        var navId = AppCacheNav.getCurrentPage().getId();
        if (AppCacheNav.getCurrentPage().getId().indexOf("page") === 0) {
            sap.n.Launchpad.setAppWidthLimited(!AppCache.isFullWidth);
        }
        if (AppCacheNav.views[navId]) {
            sap.n.Launchpad.setAppWidthLimited(AppCacheNav.views[navId].appWidthLimited);
        }

        if (sap.n.Launchpad.openApps.getItems().length <= 0) {
            sap.n.Launchpad.overflowMenuClose();
        }
    };

    if (!config.forceClose && sap.n.Application.beforeClose({
        eventId: tileData.GUID,
        defaultAction: _handle,
        restrictedEnable: config.restrictedEnable,
        closeType: config.restrictedType || "close"
    })) return true;

    _handle();
};

sap.n.Shell.deleteViewChild = function(viewId) {

    // Close Objects Loaded into the App
    $.each(AppCache.ViewChild[viewId], function(id, view) {

        // sap.n.Shell.clearObjects(view.sId);

        if (AppCache.ViewChild[id]) {
            sap.n.Shell.deleteViewChild(id);
        }

        // afterClose - Memory Cleanup
        if (sap.n.Apps[id] && sap.n.Apps[id].afterClose) {
            $.each(sap.n.Apps[id].afterClose, function(i, data) {
                data();
                // var oEvent = new sap.ui.base.Event('afterClose', new sap.ui.base.EventProvider());
                // data(oEvent);
                // oEvent = null;
            });
        }

        // var viewId;

        // Clear View
        // if (AppCache.View[tileData.GUID]) {
        var viewId = view.sId;
        view.destroy();
        view = null;
        // delete AppCache.View[tileData.GUID];
        // }

        delete sap.n.Apps[id];

        if (viewId) {
            sap.n.Shell.clearObjects(viewId);
        }
    });

    delete AppCache.ViewChild[viewId];

};

sap.n.Shell.clearObjects = function(view) {

    var removedObjects = 0;

    $.each(sap.ui.getCore().byFieldGroupId(""), function(i, data) {
        var id = data.getId().split("--");
        if (id[0] === view) {
            if (data.getDomRef()) {
                $(data.getDomRef()).remove();
            }

            try {
                if (typeof data.destroy === "function") data.destroy();
            } catch (e) {
                console.warn("sap.n.Shell.clearObjects: " + e.message);
            }
            data = null;
        }
    });
    delete AppCacheNav.views[view];

    // App HTML & Style
    $("#" + view.replace("view", "html")).remove();
    $("#" + view.replace("view", "style")).remove();
};

sap.n.Shell.clearAllObjects = function() {

    var removedViews = 0;
    var removedObjects = 0;

    // JS Views
    $.each(sap.ui.getCore().byFieldGroupId(""), function(i, data) {
        var id = data.getId().split("--");
        if (id[0].indexOf("__jsview") > -1) {
            if (data.getDomRef()) {
                ++removedViews;
                $(data.getDomRef()).remove();
            }
            try {
                if (typeof data.destroy === "function") data.destroy();
            } catch (e) {
                console.warn("sap.n.Shell.clearAllObjects => JS Views: " + e.message);
            }
            data = null;
        }
    });

    // JS Objects
    $.each(sap.ui.getCore().byFieldGroupId(""), function(i, data) {
        if (data.getId().indexOf("__jsview") === -1 && data.getId().indexOf("__nep") > -1) {
            if (data.getDomRef()) {
                ++removedObjects;
                $(data.getDomRef()).remove();
            }

            try {
                if (typeof data.destroy === "function") data.destroy();
            } catch (e) {
                console.warn("sap.n.Shell.clearAllObjects => JS Objects: " + e.message);
            }
            data = null;
        }
    });

    delete neptune.app;
    AppCacheNav.views = {};
};

sap.n.Shell.viewExists = function(view) {
    var found = false;
    $.each(sap.ui.getCore().byFieldGroupId(""), function(i, data) {
        var id = data.getId().split("--");
        if (id[0] === view.sId) found = true;
    });
    return found;
};

sap.n.Shell.listObjects = function() {

    $.each(sap.ui.getCore().byFieldGroupId(""), function(i, data) {
        var id = data.getId().split("--");
        if (id[0].indexOf("__jsview") > -1) console.log(data.getId());
    });
};

sap.n.Shell.closeAllAppTiles = function() {

    // Apps
    for (var key in AppCache.View) {
        var tile = ModelData.FindFirst(AppCacheTiles, "GUID", key);
        if (tile.GUID !== undefined) {
            sap.n.Shell.closeTile(tile);
        }
    }

    // Dialog Buttons
    $.each(AppCacheUserDialog.getButtons(), function(i, data) {
        if (data.getId() !== "AppCacheUserDialogCloseAll") data.destroy();
    });

    // Dialogs
    $.each(AppCache.Dialogs, function(i, data) {
        var dia = sap.ui.getCore().byId(data);
        if (dia) dia.close();
    });

    AppCacheShellDialog.setVisible(false);
    AppCache.Dialogs = [];
};

sap.n.Shell.closeSidepanel = function() {
    sap.n.Launchpad.sidepanelClose();
};

sap.n.Shell.getSapLanguage = function(language, checkForEmpty) {

    if (checkForEmpty && !language) {
        return language;
    }

    var languageSAP = 'en';

    switch (language) {

        case 'A':
            languageSAP = "ar";
            break;
        case 'B':
            languageSAP = "he";
            break;
        case "C":
            languageSAP = "cs";
            break;
        case "D":
            languageSAP = "de";
            break;
        case 'E':
            languageSAP = "en";
            break;
        case "F":
            languageSAP = "fr";
            break;
        case "G":
            languageSAP = "el";
            break;
        case "H":
            languageSAP = "hu";
            break;
        case "I":
            languageSAP = "it";
            break;
        case "J":
            languageSAP = "ja";
            break;
        case "K":
            languageSAP = "da";
            break;
        case "L":
            languageSAP = "pl";
            break;
        case "M":
            languageSAP = "zf"; //"zh-TW";
            break;
        case "N":
            languageSAP = "nl";
            break;
        case "O":
            languageSAP = "no";
            break;
        case "P":
            languageSAP = "pt";
            break;
        case "Q":
            languageSAP = "sk";
            break;
        case "R":
            languageSAP = "ru";
            break;
        case "S":
            languageSAP = "es";
            break;
        case "T":
            languageSAP = "tr";
            break;
        case "U":
            languageSAP = "fi";
            break;
        case "V":
            languageSAP = "sv";
            break;
        case "W":
            languageSAP = "bg";
            break;
        case "X":
            languageSAP = "lt";
            break;
        case "Y":
            languageSAP = "lv";
            break;
        case "a":
            languageSAP = "af";
            break;
        case "b":
            languageSAP = "is";
            break;
        case "c":
            languageSAP = "ca";
            break;
        case "d":
            languageSAP = "sh";
            break;
        case "i":
            languageSAP = "id";
            break;
        case "0":
            languageSAP = "sr";
            break;
        case "1":
            languageSAP = "zh"; //"zh-CN";
            break;
        case "2":
            languageSAP = "th";
            break;
        case "3":
            languageSAP = "ko";
            break;
        case "4":
            languageSAP = "ro";
            break;
        case "5":
            languageSAP = "sl";
            break;
        case "6":
            languageSAP = "hr";
            break;
        case "7":
            languageSAP = "ms";
            break;
        case "8":
            languageSAP = "uk";
            break;
        case "9":
            languageSAP = "et";
            break;
        default:
            languageSAP = "en";
    }

    return languageSAP;
};


sap.n.Shell.getSapLaiso = function(language) {

    var laiso = '';

    switch (language) {

        case 'A':
            laiso = "AR";
            break;
        case 'B':
            laiso = "HE";
            break;
        case "C":
            laiso = "CS";
            break;
        case "D":
            laiso = "DE";
            break;
        case 'E':
            laiso = "EN";
            break;
        case "F":
            laiso = "FR";
            break;
        case "G":
            laiso = "EL";
            break;
        case "H":
            laiso = "HU";
            break;
        case "I":
            laiso = "IT";
            break;
        case "J":
            laiso = "JA";
            break;
        case "K":
            laiso = "DA";
            break;
        case "L":
            laiso = "PL";
            break;
        case "M":
            laiso = "ZF";
            break;
        case "N":
            laiso = "NL";
            break;
        case "O":
            laiso = "NO";
            break;
        case "P":
            laiso = "PT";
            break;
        case "Q":
            laiso = "SK";
            break;
        case "R":
            laiso = "RU";
            break;
        case "S":
            laiso = "ES";
            break;
        case "T":
            laiso = "TR";
            break;
        case "U":
            laiso = "FI";
            break;
        case "V":
            laiso = "SV";
            break;
        case "W":
            laiso = "BG";
            break;
        case "X":
            laiso = "LT";
            break;
        case "Y":
            laiso = "LV";
            break;
        case "a":
            laiso = "AF";
            break;
        case "b":
            laiso = "IS";
            break;
        case "c":
            laiso = "CA";
            break;
        case "d":
            laiso = "SH";
            break;
        case "i":
            laiso = "ID";
            break;
        case "0":
            laiso = "SR";
            break;
        case "1":
            laiso = "ZH";
            break;
        case "2":
            laiso = "TH";
            break;
        case "3":
            laiso = "KO";
            break;
        case "4":
            laiso = "RO";
            break;
        case "5":
            laiso = "SL";
            break;
        case "6":
            laiso = "HR";
            break;
        case "7":
            laiso = "MS";
            break;
        case "8":
            laiso = "UK";
            break;
        case "9":
            laiso = "ET";
            break;
        default:
            laiso = "EN";
    }

    return laiso;
};
// Dialog Constructor
if (!sap.n.Dialog) {
    sap.m.Dialog.extend("sap.n.Dialog", {

        metadata: {

            properties: {
                "hideMinimize": {
                    type: "boolean",
                    defaultValue: false
                },
                "hideMosaic": {
                    type: "boolean",
                    defaultValue: false
                },
                "hideMaximize": {
                    type: "boolean",
                    defaultValue: false
                },
                "contentIsURL": {
                    type: "boolean",
                    defaultValue: false
                },
                "_origWidth": {
                    type: "sap.ui.core.CSSSize"
                },
                "_origHeight": {
                    type: "sap.ui.core.CSSSize"
                },
                "_origTop": {
                    type: "sap.ui.core.CSSSize"
                },
                "_origLeft": {
                    type: "sap.ui.core.CSSSize"
                },
                "_headerIcon": {
                    type: "sap.ui.core.Icon"
                },
                "_headerTitle": {
                    type: "sap.m.Title"
                },
                "_butMaximize": {
                    type: "sap.m.Button"
                },
                "_butMinimize": {
                    type: "sap.m.Button"
                },
                "_butRestore": {
                    type: "sap.m.Button"
                },
                "_butMosaic": {
                    type: "sap.m.Button"
                },
                "_butClose": {
                    type: "sap.m.Button"
                },
                "_viewContent": {
                    type: "string"
                }
            },
        },

        init: function() {
            sap.m.Dialog.prototype.init.call(this);

            var dia = this;
            dia._viewContent = AppCache.diaView;

            // Dialog Header
            var diaHeader = new sap.m.Bar();
            dia.setCustomHeader(diaHeader);

            this._headerIcon = new sap.ui.core.Icon({
                width: "30px"
            });
            diaHeader.addContentLeft(this._headerIcon);

            // Dialog Icon
            if (sap.n.Launchpad.contextType === "Tile" && sap.n.Launchpad.contextTile.TILE_ICON.indexOf("sap-icon://") === 0) {
                this._headerIcon.setSrc(sap.n.Launchpad.contextTile.TILE_ICON);
            } else {
                this._headerIcon.setSrc('sap-icon://document-text');
            }

            // Dialog Title
            this._headerTitle = new sap.m.Title({
                titleStyle: "H6"
            });
            diaHeader.addContentLeft(this._headerTitle);

            // Minimize button
            this._butMinimize = new sap.m.Button({
                icon: "sap-icon://minimize",
                press: function(oEvent) {
                    dia.minimize(dia);
                }
            });
            this._butMinimize.setTooltip(" ");
            diaHeader.addContentRight(this._butMinimize);

            // Mosaic button
            this._butMosaic = new sap.m.Button({
                icon: "sap-icon://grid",
                press: function(oEvent) {
                    dia.mosaic();
                }
            });
            this._butMosaic.setTooltip(" ");
            diaHeader.addContentRight(this._butMosaic);


            // Maximize button
            this._butMaximize = new sap.m.Button({
                icon: "sap-icon://full-screen",
                press: function(oEvent) {
                    dia.maximize();
                }
            });
            this._butMaximize.setTooltip(" ");
            diaHeader.addContentRight(this._butMaximize);

            this._butRestore = new sap.m.Button({ // Restore button
                icon: "sap-icon://exit-full-screen",
                visible: false,
                press: function(oEvent) {
                    dia.restore();
                }
            });
            this._butRestore.setTooltip(" ");
            diaHeader.addContentRight(this._butRestore);


            // Close button
            this._butClose = new sap.m.Button({
                icon: "sap-icon://decline",
                press: function(oEvent) {
                    dia.close();
                }
            });
            this._butClose.setTooltip(" ");
            diaHeader.addContentRight(this._butClose);

            setTimeout(function() {
                dia._headerTitle.setText(dia.getTitle());
            }, 50);

            // Dialog Styling
            dia.addStyleClass("nepAppDialog sapUiNoContentPadding");
            dia.oPopup.setModal(AppCache.LoadOptions.dialogModal);
        },

        onBeforeRendering: function() {

            this._butMinimize.setVisible(!this.getHideMinimize());
            this._butMosaic.setVisible(!this.getHideMosaic());
            this._butMaximize.setVisible(!this.getHideMaximize());

        },

        // trigger beforeClose & afterClose event before closing
        close: function() {
            var applid, viewId;

            if (this.getContent()[0].sViewName) {
                applid = this.getContent()[0].sViewName.replace(/\//g, ""); // Format ID
                viewId = this.getContent()[0].sId;
                if (!applid) return;
            }
            var that = this;

            var _handle = function() {
                sap.m.Dialog.prototype.close.call(that);
                return that;
            };

            if (sap.n.Application.beforeClose({
                eventId: applid,
                defaultAction: _handle,
                closeType: "close"
            })) return;

            return _handle();
        },

        ondblclick: function(oEvent) {},

        onfocusin: function(oEvent) {
            try {
                if (typeof this._viewContent !== "undefined" && AppCache.diaView.sId !== this._viewContent.sId) {
                    AppCache.diaView = this._viewContent;
                }
            } catch (e) {
                console.warn("sap.n.Dialog => onfocusin: " + e.message);
            }
        },

        _getCSS: function(cssprop) {
            return $('#' + this.sId).css(cssprop);
        },

        _setCSS: function(cssprop, value) {
            $('#' + this.sId).css(cssprop, value);
        },

        maximize: function(event) {
            if (this.getContentIsURL()) {

                var oDomRef = this.getDomRef();

                // Store original values
                this._origLeft = oDomRef.style.left;
                this._origTop = oDomRef.style.top;
                this._origWidth = oDomRef.style.width;
                this._origHeight = oDomRef.style.height;

                // Maximize
                oDomRef.style.width = "100%";
                oDomRef.style.height = "99%";

                if (oDomRef.style.top.indexOf("%") > -1)
                    oDomRef.style.top = "50%";
                else
                    oDomRef.style.top = "1px";

                if (oDomRef.style.left.indexOf("%") > -1)
                    oDomRef.style.left = "50%";
                else
                    oDomRef.style.left = "1px";

                oDomRef.style['max-height'] = "94%";
                oDomRef.style['max-width'] = "100%";

            } else {
                this.setStretch(true);
            }

            this.$('cont').height('');

            if (this.getContentIsURL()) {
                var dia = this;
                this._butMaximize.mEventRegistry.press = [];
                this._butMaximize.attachPress(function(oEvent) {
                    dia.restore();
                });
            } else {
                this._butMaximize.setVisible(false);
                this.setHideMaximize(true);
                this._butRestore.setVisible(true);
            }
        },

        unminimize: function(oControl) {

            AppCacheShellDialog.focus(); // IE11 looses focus
            oControl.destroy(); // Destroy toolbar button

            if (this.getContentIsURL()) {
                this._setCSS('visibility', 'visible');
            } else {
                this.setVisible(true);
            }

            if (AppCacheUserDialog.getButtons().length === 1) {
                AppCacheShellDialog.setVisible(false);
            }
        },

        onAfterRendering: function() {

            sap.m.Dialog.prototype.onAfterRendering.call(this);

            if (!this.getContentIsURL()) { // override CSS after rerender
                this._setCSS('max-height', '95%');
                this._setCSS('max-width', '98%');
                this._setCSS('min-height', 'initial');
                this._setCSS('min-width', 'initial');
                this._setCSS('transform', '');
            }
        },

        minimize: function() {

            var dia = this;

            AppCacheShellDialog.setVisible(true);
            // Add button to Top Shell Bar
            AppCacheUserDialog.addButton(new sap.m.Button({
                icon: dia._headerIcon.getSrc(),
                text: dia._headerTitle.getText(),
                press: function() {
                    dia.unminimize(this);
                }

            }));

            if (this.getContentIsURL()) {
                this._setCSS('visibility', 'hidden');
            } else {
                this.setVisible(false);
            }
        },

        restore: function(event) {

            if (this.getContentIsURL()) {

                this._setCSS('left', this._origLeft);
                this._setCSS('top', this._origTop);
                this._setCSS('width', this._origWidth);
                this._setCSS('height', this._origHeight);

            } else {
                this.setStretch(false);
            }
            this.$('cont').height('');

            if (this.getContentIsURL()) {
                var dia = this;
                this._butMaximize.mEventRegistry.press = [];
                this._butMaximize.attachPress(function(oEvent) {
                    dia.maximize();
                });
            } else {
                this._butMaximize.setVisible(true);
                this.setHideMaximize(false);
                this._butRestore.setVisible(false);
            }
        },

        _isPrime: function(num) {
            for (var i = 2; i < num; i++) {
                if (num % i === 0) {
                    return false;
                }
            }
            return true;
        },

        _buildPrimesArray: function(max) {
            var arr = [2];
            for (var i = 3; i <= max; i += 2) {
                if (this._isPrime(i)) {
                    arr.push(i);
                }
            }
            return arr;
        },

        mosaic: function() {

            var diaArray = [];

            $.each(AppCache.Dialogs, function(i, data) {

                var dia = sap.ui.getCore().byId(data);

                if (dia.getVisible() && dia._getCSS('visibility') !== "hidden") {
                    diaArray.push(data);
                }
            });

            if (diaArray.length <= 1) {
                return;
            }

            // Calculate sections needed (prime numbers)
            var primesArray = this._buildPrimesArray(diaArray.length);
            var hsecs, vsecs;

            for (i = 0; i < primesArray.length; i++) {
                var r = diaArray.length % primesArray[i];
                if (r === 0) {
                    var div = diaArray.length / primesArray[i];

                    if (div >= primesArray[i]) {
                        hsecs = div;
                        vsecs = primesArray[i];
                    } else {
                        hsecs = primesArray[i];
                        vsecs = div;
                    }
                    i = primesArray.length + 1;
                }
            }

            var eachSecWidth = Math.floor((window.innerWidth - 10) / hsecs);
            var eachSecHeight = Math.floor((window.innerHeight - 10) / vsecs) - 48;
            var eachSecWidthCSS = eachSecWidth + 'px';
            var eachSecHeightCSS = eachSecHeight + 'px';

            var currHsec = 1;
            var currVsec = 1;
            for (i = 0; i < diaArray.length; i++) {

                var newTop = ((currVsec - 1) * eachSecHeight) + 4;
                var newLeft = ((currHsec - 1) * eachSecWidth) + 5;

                if (currVsec > 1)
                    newTop = newTop + 48;

                var d = sap.ui.getCore().byId(diaArray[i]);

                //remove the transform translate
                d._bDisableRepositioning = true;
                d._$dialog.addClass('sapDialogDisableTransition');
                d._$dialog.addClass('sapMDialogTouched');

                d._oManuallySetPosition = {
                    x: newLeft,
                    y: newTop
                };

                d._oManuallySetSize = {
                    height: eachSecHeightCSS,
                    width: eachSecWidthCSS
                };

                d._setCSS('top', newTop);
                d._setCSS('left', newLeft);
                d._setCSS('width', eachSecWidthCSS);
                d._setCSS('height', eachSecHeightCSS);

                d._setCSS('max-height', '95%');
                d._setCSS('max-width', '98%');
                d._setCSS('min-height', 'initial');
                d._setCSS('min-width', 'initial');
                d._setCSS('transform', '');

                if (currHsec == hsecs) {
                    currVsec++;
                    currHsec = 1;
                } else {
                    currHsec++;
                }
            }
        },

        rerender: function() {
            if (!this.getContentIsURL()) {
                sap.m.Dialog.prototype.rerender.call(this);
            }
        },

        renderer: {}
    });

    // Shell OpenUrl
    sap.n.Shell.openUrl = function(url, options) {

        // Load Defaults
        options = options || {};
        LoadOptions = {};
        LoadOptions.dialogHeight = options.dialogHeight || "90%";
        LoadOptions.dialogWidth = options.dialogWidth || "1200px";
        LoadOptions.dialogTitle = options.dialogTitle || "";
        LoadOptions.dialogModal = options.dialogModal || false;

        AppCache.LoadOptions = LoadOptions;

        var contHeight = LoadOptions.dialogHeight;
        var contWidth = LoadOptions.dialogWidth;
        var diaTitle = LoadOptions.dialogTitle;
        var screenWidth = $(window).width();

        // Less Than 1200px
        if (screenWidth < 1200) {
            contWidth = (screenWidth * 0.8) + "px";
        }

        // On Mobile
        if (!sap.ui.Device.system.desktop) {
            contWidth = "100%";
            contHeight = "100%";
        }

        // Create Dialog
        var dia = new sap.n.Dialog({
            contentWidth: contWidth,
            contentHeight: contHeight,
            type: "Message",
            resizable: !sap.ui.Device.system.phone,
            draggable: !sap.ui.Device.system.phone,
            stretchOnPhone: true,
            title: diaTitle,
            contentIsURL: true,
            afterClose: function(oEvent) {

                // Delete From Array
                for (var i = 0; i < AppCache.Dialogs.length; i++) {
                    if (AppCache.Dialogs[i] === this.getId()) {
                        AppCache.Dialogs.splice(i, 1);
                        break;
                    }
                }

                if (AppCache.Dialogs.length === 0) {
                    AppCacheShellDialog.setVisible(false);
                }

                this.destroyContent();
                dia = null;
            }
        });

        // Add Dialog to Array
        AppCache.Dialogs.push(dia.getId());

        dia.addContent(new sap.ui.core.HTML({
            content: "<iframe frameborder='0' height='100%' width='100%' src='" + url + "'></iframe>",
            visible: true,
            sanitizeContent: false,
            preferDOM: false
        }));

        dia.open();
    };
}
sap.n.Launchpad = {

    action: {
        NOACTION: "noaction",
        APPLICATION: "application",
        ABAP: "abap",
        STORE: "store",
        URL: "url",
        TILEGROUP: "tilegroup",
        TRANSACTION: "transaction"
    },
    tiletype: {
        APPLICATION: "application",
        SLIDETILE: "SlideTile",
        DYNAMIC: "Dynamic",
        NEWSCONTENT: "NewsContent",
        INTEGRATION: "Integration"
    },
    cachedTiles: [],
    cachedTileGroup: [],
    cachedTileGroupSub: [],
    cachedTilesLink: [],
    cachedTileGroupLink: [],
    initSideBar: false,
    initMenu: false,
    Timers: [],
    setShellBackground: true,
    backgroundShade: "",
    profileImages: [],
    favButton: {},
    includeFavorites: false,
    currentTileGroupPage: "",
    tileGroupsInPage: {},
    tileContent: {},
    overflowTimeout: null,
    menu: [],
    slickAction: {},
    openApps: openApps,
    AppTitleFn: function() {},
    verticalMenuLimit: 1024,
    openAppExpanded: false,
    openAppsSideMenuSize: "68px",
    openAppPops: {},
    currentTile: {},
    cardsAvailable: (+sap.ui.version.slice(0, 4).replace(".", "") >= 164),
    currentParent: ""
};

sap.n.Launchpad.getPersonalization = function() {

    if (AppCache.verticalMenu && !AppCache.hideMainMenu && sap.ui.Device.resize.width >= sap.n.Launchpad.verticalMenuLimit) {

        sap.n.Utils.userSetting.read({
            AREA: "LAUNCHPAD",
            GROUPING: "VERTICAL_MENU",
            NAME: "SIZE"
        }, function(obj) {
            var size = (obj.VAL0 === "0px") ? "0px" : "300px";
            launchpadContentMenu.setWidth(size);
            sap.n.Launchpad.setLaunchpadContentWidth();
            sap.n.Layout.setHeaderPadding();
        });
    }

    if (!AppCache.openAppsHeader && !AppCache.hideSideMenu) {

        sap.n.Utils.userSetting.read({
            AREA: "LAUNCHPAD",
            GROUPING: "OPEN_APPS",
            NAME: "SIDE_MENU"
        }, function(obj) {
            var size = (obj.VAL0 === "300px") ? "300px" : "68px";
            sap.n.Launchpad.openAppsSideMenuSize = size;
        });
    }

    sap.n.Utils.userSetting.read({
        AREA: "LAUNCHPAD",
        GROUPING: "LAYOUT",
        NAME: "SIDEPANEL"
    }, function(obj) {
        modelAppCacheSettings.oData.SIDEPANEL_WIDTH = obj.VAL0 || "small";
        setCacheAppCacheSettings();
        modelAppCacheSettings.refresh();
    });

    sap.n.Utils.userSetting.read({
        AREA: "LAUNCHPAD",
        GROUPING: "SPLITVIEW",
        NAME: "OPTIONS"
    }, function(obj) {
        if(!obj.VAL0) obj.VAL0 = "yes";
        sap.n.Launchpad.Splitview.saveCreate = (obj.VAL0 === "yes");

        if(!obj.VAL1) obj.VAL1 = "yes";
        sap.n.Launchpad.Splitview.fullscreen = (obj.VAL1 === "yes");

        if(!obj.VAL2) obj.VAL2 = "Horizontal";
        sap.n.Launchpad.Splitview.orientation = obj.VAL2;
    });

};

sap.n.Launchpad.overflowMenuClose = function() {

    launchpadOverflow.removeStyleClass("nepLaunchpadMenuOverflowOpen");

    $('#launchpadOverflowContainer').css({
        'width': "0"
    });
    $('#launchpadOverflowClickArea').css({
        'display': "none"
    });
};
sap.n.Launchpad.settingsMenuOpen = function() {

    $('#launchpadSettings').css({
        "display": "flex"
    });
    $('#launchpadSettingsContainer').css({
        'width': "100%"
    });
    $('#launchpadSettingsClickArea').css({
        'display': "block"
    });
    setTimeout(function() {

        launchpadSettings.addStyleClass("nepLaunchpadMenuSettingsOpen");
        launchpadSettingsBtn.focus();
    }, 10);
};
sap.n.Launchpad.settingsMenuClose = function() {

    launchpadSettings.removeStyleClass("nepLaunchpadMenuSettingsOpen");

    $('#launchpadSettingsContainer').css({
        'width': "0"
    });
    $('#launchpadSettingsClickArea').css({
        'display': "none"
    });
    $('#launchpadSettings').css({
        "display": "none"
    });
};
sap.n.Launchpad.sidepanelWidth = {
    xsmall: "230px",
    small: "300px",
    medium: "370px",
    large: "440px",
    xlarge: "510px",
    xxlarge: "580px",
    xxxlarge: "650px",
};
sap.n.Launchpad.sidepanelOpen = function() {

    if (launchpadContentSideApp.getWidth() === "0px") {

        var sidePanelWidth = sap.n.Launchpad.sidepanelWidth[modelAppCacheSettings.oData.SIDEPANEL_WIDTH || "small"];

        $('#launchpadContentSideApp').css({
            "display": "flex"
        });
        launchpadContentSideApp.setWidth(sidePanelWidth);
        sap.n.Launchpad.setLaunchpadContentWidth();
        AppCacheUserActionSidepanel.setTitle(AppCache_tSidepanelCollapse.getText());
        AppCacheUserActionSidepanel.setIcon("sap-icon://collapse");
    }
};
sap.n.Launchpad.sidepanelClose = function() {

    if (launchpadContentSideApp.getWidth() !== "0px") {
        $('#launchpadContentSideApp').css({
            "display": "none"
        });
        launchpadContentSideApp.setWidth("0px");
        sap.n.Launchpad.setLaunchpadContentWidth();
        AppCacheUserActionSidepanel.setTitle(AppCache_tSidepanelExpand.getText());
        AppCacheUserActionSidepanel.setIcon("sap-icon://expand");
    }
};
sap.n.Launchpad.setLaunchpadContentWidth = function() {
    var canvas = $('#launchpadContent').width();
    var menuWidth = +launchpadContentMenu.getWidth().replace("px", "");
    var navWidth = +launchpadContentNavigator.getWidth().replace("px", "");
    var sideAppWidth = +launchpadContentSideApp.getWidth().replace("px", "");
    var contentWidth = canvas - menuWidth - navWidth - sideAppWidth;

    var left = (menuWidth + navWidth) + "px";
    var right = launchpadContentSideApp.getWidth();

    if ($("html").attr("dir") === "rtl") {
        var l = left;
        left = right;
        right = l;
    }
    $('#launchpadContentMain').css({
        'left': left,
        'right': right,
        'width': "auto" //revert init 100% width, which was only set to persuade already existing 100%...
    });
};
sap.n.Launchpad.getShellAppTitle = function() {
    return AppCacheShellAppTitle.getText();
};
sap.n.Launchpad.setShellAppTitle = function(text) {
    AppCacheShellAppTitle.setText(text);
};
sap.n.Launchpad.setOpenAppsExpanded = function() {

    openApps.setVisible(sap.n.Launchpad.openAppExpanded);
    openAppMaster.setIcon((sap.n.Launchpad.openAppExpanded) ? "sap-icon://fa-solid/caret-down" : "sap-icon://fa-solid/caret-right");
};
sap.n.Launchpad.applyGlobalSettings = function() {
    var globalStyle = modelAppCacheGlobalSettings.oData.GLOBAL_STYLE || "";
    var css = "<style>\n" + globalStyle + "\n</style>";
    var customColorSetDiv = $("#NeptuneGlobaleStyle").html(css).trigger("create");
};
sap.n.Launchpad.applyCustomCSSGrid = function() {
    var customCssGrid = "";
    if (AppCache.cssGridBreakpoints.xxxlarge !== 2360) customCssGrid += "--xxxlarge:" + AppCache.cssGridBreakpoints.xxxlarge + "px;";
    if (AppCache.cssGridBreakpoints.xxlarge !== 1880) customCssGrid += "--xxlarge:" + AppCache.cssGridBreakpoints.xxlarge + "px;";
    if (AppCache.cssGridBreakpoints.xlarge !== 1580) customCssGrid += "--xlarge:" + AppCache.cssGridBreakpoints.xlarge + "px;";
    if (AppCache.cssGridBreakpoints.large !== 1280) customCssGrid += "--large:" + AppCache.cssGridBreakpoints.large + "px;";
    if (AppCache.cssGridBreakpoints.medium !== 980) customCssGrid += "--medium:" + AppCache.cssGridBreakpoints.medium + "px;";
    if (AppCache.cssGridBreakpoints.small !== 680) customCssGrid += "--small:" + AppCache.cssGridBreakpoints.small + "px;";
    if (AppCache.cssGridBreakpoints.xsmall !== 380) customCssGrid += "--xsmall:" + AppCache.cssGridBreakpoints.xsmall + "px;";

    if (!!customCssGrid) {
        var css = "<style>:root{" + customCssGrid + "}</style>";
        var customCssGridObj = $("#NeptuneCSSGridDiv").html(css).trigger("create");
    }
};

sap.n.Launchpad.onAjaxError = function(code, reason, responseText) {
    sap.ui.core.BusyIndicator.hide();
};

sap.n.Launchpad.updateNeptuneUserDefault = function() {

    var userData = modelAppCacheUser.oData;
    if (!userData) {
        return;
    }

    if (userData && userData.NUMBER_GROUPING) {
        if (userData.NUMBER_GROUPING === "_") {
            userData.NUMBER_GROUPING = " ";
        }
    }

    var cachedUserDefault = localStorage.getItem(userData.UNAME + ".default");
    if (cachedUserDefault && cachedUserDefault !== "undefined") {
        neptune.UserDefault = JSON.parse(cachedUserDefault);
    } else {
        neptune.UserDefault = {};
    }
    sapUname = userData.UNAME || "";

    neptune.UserDefault.uname = userData.UNAME;
    neptune.UserDefault.language = userData.LANGU_SAP || "";
    neptune.UserDefault.date = userData.DATE_FORMAT || "1";
    neptune.UserDefault.tzone = userData.TZONE || "";
    neptune.UserDefault.tzoneDescription = userData.TZONE_DESCRIPT || "";
    neptune.UserDefault.time = userData.TIME_FORMAT || "HH:mm";
    neptune.UserDefault.numberGrouping = userData.NUMBER_GROUPING || " ";
    neptune.UserDefault.numberDecimal = userData.NUMBER_DECIMAL || ",";
    neptune.UserDefault.debugEnable = userData.DEBUG_ENABLED || false;
    neptune.UserDefault.debugHidePop = userData.DEBUG_HIDE_POP || false;

    localStorage.setItem(neptune.UserDefault.uname + ".default", JSON.stringify(neptune.UserDefault));
};

sap.n.Launchpad.AfterGetTiles = function() {

    var delRun = [];
    var delFav = [];
    var rebuild = false;

    // Check for Most Run
    $.each(modelAppCacheTilesRun.oData, function(i, data) {
        var rec = ModelData.Find(AppCacheTiles, "GUID", data.GUID)[0];
        if (!rec) {
            delRun.push(data);
        } else {
            ModelData.Update(AppCacheTilesRun, "GUID", rec.GUID, rec);
        }
    });

    $.each(delRun, function(i, data) {
        ModelData.Delete(AppCacheTilesRun, "GUID", data.GUID);
    });

    // Check for Favorites
    $.each(modelAppCacheTilesFav.oData, function(i, data) {
        var rec = ModelData.Find(AppCacheTiles, "GUID", data.GUID)[0];
        if (!rec) delFav.push(data);
    });

    $.each(delFav, function(i, data) {
        ModelData.Delete(AppCacheTilesFav, "GUID", data.GUID);
    });

    // Save Run/Fav
    setCacheAppCacheTilesRun();
    setCacheAppCacheTilesFav();

    if (delFav.length) {
        sap.n.Launchpad.saveFav();
    }

    // New Objects
    if (typeof sap.n.Launchpad.cachedTiles !== "undefined" && modelAppCacheTiles.oData.length !== sap.n.Launchpad.cachedTiles.length) {
        rebuild = true;
    }
    if (typeof sap.n.Launchpad.cachedTilesLink !== "undefined" && modelAppCacheTilesLink.oData.length !== sap.n.Launchpad.cachedTilesLink.length) {
        rebuild = true;
    }
    if (typeof sap.n.Launchpad.cachedTileGroup !== "undefined" && modelAppCacheTileGroup.oData.length !== sap.n.Launchpad.cachedTileGroup.length) {
        rebuild = true;
    }
    if (typeof sap.n.Launchpad.cachedTileGroupSub !== "undefined" && modelAppCacheTileGroupSub.oData.length !== sap.n.Launchpad.cachedTileGroupSub.length) {
        rebuild = true;
    }
    if (typeof sap.n.Launchpad.cachedTileGroupLink !== "undefined" && modelAppCacheTileGroupLink.oData.length !== sap.n.Launchpad.cachedTileGroupLink.length) {
        rebuild = true;
    }

    // Order of Top Menu
    $.each(sap.n.Launchpad.cachedTileGroup, function(i, cachedData) {
        if (modelAppCacheTileGroup.oData[i] && modelAppCacheTileGroup.oData[i].NAME !== cachedData.NAME) {
            rebuild = true;
        }
    });

    // Modified Objects
    $.each(sap.n.Launchpad.cachedTiles, function(i, data) {
        var rec = ModelData.Find(AppCacheTiles, "GUID", data.GUID)[0];
        if (rec) {
            if ((data.UPDDAT + data.UPDTIM) !== (rec.UPDDAT + rec.UPDTIM)) rebuild = true;
            if (data.MANIFEST !== rec.MANIFEST) rebuild = true;
        } else {
            rebuild = true;
        }
    });

    $.each(sap.n.Launchpad.cachedTileGroup, function(i, data) {
        var rec = ModelData.Find(AppCacheTileGroup, "GUID", data.GUID)[0];
        if (rec) {
            if ((data.UPDDAT + data.UPDTIM) !== (rec.UPDDAT + rec.UPDTIM)) rebuild = true;
        } else {
            rebuild = true;
        }
    });

    // sub cardgroups gets a new GUID each time the are selcted in the backend, cannot be used to compare!
    $.each(sap.n.Launchpad.cachedTileGroupSub, function(i, data) {
        var rec = ModelData.Find(AppCacheTileGroupSub, "GUID", data.GUID)[0];
        if (rec) {
            if ((data.UPDDAT + data.UPDTIM) !== (rec.UPDDAT + rec.UPDTIM)) rebuild = true;
        } else {
            rebuild = true;
        }
    });

    if (AppCache.preview) {
        rebuild = true;
        AppCache.preview = false;
    }

    // Rebuild
    if (rebuild) {

        //
        sap.n.Launchpad.DeleteTimers();

        // Top Menu
        sap.n.Launchpad.BuildMenu();

        var currentPage = AppCacheNav.getCurrentPage();

        $.each(AppCacheNav.getPages(), function(i, page) {

            // Only for Tile Group + Childs
            if (page.sId && page.sId.indexOf("page") > -1) {

                // Remove page from Nav & destroy
                var pageId = page.sId;
                AppCacheNav.removePage(page);
                page.destroy();
                page = null;

                // Rebuild current page
                if (currentPage.sId === pageId) {
                    var cat = currentPage.sId;
                    cat = cat.split("page")[1];
                    var dataCat = ModelData.Find(AppCacheTileGroup, "GUID", cat)[0];
                    if (!dataCat) dataCat = ModelData.Find(AppCacheTileGroupSub, "GUID", cat)[0];
                    if (!dataCat) {
                        AppCache.Home();
                    } else {
                        sap.n.Launchpad.BuildTiles(dataCat);
                    }
                }
            }
        });
    }
    else {

        // dynamic info can already be collected async, write dynamic data to tile data, so that dynamic cards not yet created in other gardgroups have fresh dynamic data when they are built
        $.each(modelAppCacheTilesDynInfo.oData, function(i, dynTileData) {
            ModelData.Update(AppCacheTiles, "GUID", dynTileData.GUID, dynTileData);
        });
        setCacheAppCacheTiles();
        modelAppCacheTilesDynInfo.setData([]);
    }

    // Cleanup
    sap.n.Launchpad.cachedTiles = [];
    sap.n.Launchpad.cachedTilesLink = [];
    sap.n.Launchpad.cachedTileGroup = [];
    sap.n.Launchpad.cachedTileGroupSub = [];
    sap.n.Launchpad.cachedTileGroupLink = [];

    // Tags
    AppCacheShellSearchTags.destroyItems();
    var tags = {};
    $.each(modelAppCacheTiles.oData, function(i, tile) {
        if (!tile.TAGS) return;
        var tileTags = tile.TAGS.split(",");
        $.each(tileTags, function(i, tag) {
            tag = tag.toUpperCase();
            if (tags[tag]) return;
            tags[tag] = tag;
        });
    });

    var tagsArr = [];

    $.each(tags, function(i, elem) {
        tagsArr.push({
            tag: elem
        });
    });

    tagsArr.sort(sort_by("tag"));

    $.each(tagsArr, function(i, tag) {
        AppCacheShellSearchTags.addItem(new sap.ui.core.ListItem({
            key: tag.tag,
            text: tag.tag
        }));
    });

    toolVerticalMenuTags.setVisible((tagsArr.length > 0));
};

sap.n.Launchpad.clearContent = function() {};

sap.n.Launchpad.setTileContentObject = function(guid) {
    if (!sap.n.Launchpad.tileContent[guid]) {
        sap.n.Launchpad.tileContent[guid] = {
            title: [],
            info: [],
            footer: [],
            icon: [],
            chart: [],
            integrationCard: [],
            cardHeader: [],
            cardNumericHeader: [],
            cardFooter: []
        };
    }
};

sap.n.Launchpad.BuildMenu = function(cardgroup) {

    // var start = new Date().getTime();

    var menu = [];
    var menuSub = {};

    sap.n.Launchpad.favButton = {};

    $.each(modelAppCacheTiles.oData, function(i, dataTile) {
        sap.n.Launchpad.setTileContentObject(dataTile.GUID);
    });

    $.each(modelAppCacheTileGroup.oData, function(i, dataCat) {
        if (dataCat.INCL_FAV) {
            sap.n.Launchpad.includeFavorites = true;
            return false;
        }
    });

    $.each(modelAppCacheTileGroupLink.oData, function(i, link) {

        if (!menuSub[link.GUID]) {
            menuSub[link.GUID] = [];
        }
        var subMenu = {
            GUID: link.GUID_TILEGROUP,
            cards: []
        };
        $.each(modelAppCacheTileGroupSub.oData, function(i, sub) {
            if (sub.GUID === link.GUID_TILEGROUP) {

                if (sub.INCL_FAV) {
                    sap.n.Launchpad.includeFavorites = true;
                }
                if (!link.HIDE_MENU) {
                    subMenu.TILE_TITLE = sub.NAME;
                }
                subMenu.showGardgroup = sap.n.Launchpad.showGardgroup(sub, []);

                $.each(modelAppCacheTilesLink.oData, function(i, tileLink) {

                    if (tileLink.GUID !== subMenu.GUID) {
                        return true;
                    }

                    var dataTile = $.grep(modelAppCacheTiles.oData, function(tile, i) {
                        return (tile.GUID === tileLink.GUID_TILE);
                    })[0];
                    if (dataTile) {
                        subMenu.cards.push({
                            GUID: dataTile.GUID,
                            TILE_TITLE: dataTile.TILE_TITLE || dataTile.NAME,
                            TILE_INFO: dataTile.TILE_INFO,
                            TILE_FOOTER: dataTile.TILE_FOOTER,
                            TILE_ICON: dataTile.TILE_ICON || "sap-icon://sys-monitor",
                            TITLE_FOOTER: dataTile.TILE_FOOTER,
                            TAGS: dataTile.TAGS
                        });
                    }
                });
                if (sub.INCL_FAV) {
                    $.each(modelAppCacheTilesFav.oData, function(i, fav) {

                        var dataTile = $.grep(modelAppCacheTiles.oData, function(tile, i) {
                            return (tile.GUID === fav.GUID);
                        })[0];
                        if (dataTile) {
                            subMenu.cards.push({
                                GUID: dataTile.GUID,
                                TILE_TITLE: dataTile.TILE_TITLE || dataTile.NAME,
                                TILE_INFO: dataTile.TILE_INFO,
                                TILE_FOOTER: dataTile.TILE_FOOTER,
                                TILE_ICON: dataTile.TILE_ICON || "sap-icon://sys-monitor",
                                TITLE_FOOTER: dataTile.TILE_FOOTER,
                                TAGS: dataTile.TAGS
                            });
                        }
                    });
                }
                if (sub.INCL_MOSTUSED) {
                    $.each(modelAppCacheTilesRun.oData, function(i, mostused) {

                        var dataTile = $.grep(modelAppCacheTiles.oData, function(tile, i) {
                            return (tile.GUID === mostused.GUID);
                        })[0];
                        if (dataTile) {
                            if (!sub.INCL_FAV || $.grep(modelAppCacheTilesFav.oData, function(fav, i) {
                                return (dataTile.GUID === fav.GUID);
                            }).length === 0) {

                                subMenu.cards.push({
                                    GUID: dataTile.GUID,
                                    TILE_TITLE: dataTile.TILE_TITLE || dataTile.NAME,
                                    TILE_INFO: dataTile.TILE_INFO,
                                    TILE_FOOTER: dataTile.TILE_FOOTER,
                                    TILE_ICON: dataTile.TILE_ICON || "sap-icon://sys-monitor",
                                    TITLE_FOOTER: dataTile.TILE_FOOTER,
                                    TAGS: dataTile.TAGS
                                });
                            }
                        }
                    });
                }

                return false;
            }
        });

        menuSub[link.GUID].push(subMenu);
    });

    $.each(modelAppCacheTileGroup.oData, function(i, dataCat) {

        if (dataCat.HIDE_MENU) {
            return true; //continue
        }
        var menuFn = {
            popOverEntered: false,
            btnEntered: false
        };

        var menuText = (dataCat.MENU_TEXT) ? "MENU_TEXT" : "NAME";
        var menuItem = new sap.m.Button("__nepTopMenu" + dataCat.GUID, {

            text: sap.n.Launchpad.translateTile(menuText, dataCat),
            press: function(oEvent) {
                sap.n.Launchpad.HandleTilegroupPress(dataCat);
            }
        }).addStyleClass("nepTopMenuBtn");

        // add sub tilegroups if any
        if (!dataCat.HIDE_SUB_MENU && menuSub[dataCat.GUID]) {

            var popSubMenu = new sap.m.Popover("__nep" + ModelData.genID(), {
                placement: "Bottom",
                resizable: false,
                showArrow: false,
                showHeader: false,
                beforeOpen: function(e) {
                    var width = $("#" + menuItem.getId()).width();
                    this.setContentMinWidth(width + "px");
                }

            }).addStyleClass("nepSubMenu nepOverflowMenu");

            var layoutSubMenu = new sap.m.VBox("__nep" + ModelData.genID(), {
                alignItems: "Stretch",
                width: "100%"
            });
            popSubMenu.addContent(layoutSubMenu);

            popSubMenu.attachBrowserEvent("mouseenter", function(e) {
                menuFn.popOverEntered = true;
                menuItem.addStyleClass("nepTopMenuActiveHover");
            });
            popSubMenu.attachBrowserEvent("mouseleave", function(e) {
                menuFn.popOverEntered = false;
                menuItem.removeStyleClass("nepTopMenuActiveHover");

                setTimeout(function() {
                    if (!menuFn.btnEntered) {
                        popSubMenu.close();
                    }
                }, 10);
            });

            $.each(menuSub[dataCat.GUID], function(i, subMenu) {

                if (subMenu.showGardgroup) {

                    subMenu.fn = function(e) {

                        menuFn.popOverEntered = false;
                        menuFn.btnEntered = false;
                        popSubMenu.close();

                        sap.n.Launchpad.HandleTilegroupSubPress(dataCat, subMenu.GUID);
                    };

                    var navBtn = new sap.m.Button("__nep" + ModelData.genID(), {
                        text: subMenu.TILE_TITLE,
                        width: "100%",
                        press: subMenu.fn
                    });

                    layoutSubMenu.addItem(navBtn);
                }
            });
            menuItem.attachBrowserEvent("mouseenter", function(e) {
                popSubMenu.openBy(menuItem);
                menuFn.btnEntered = true;
            });
            menuItem.attachBrowserEvent("mouseleave", function(e) {
                menuFn.btnEntered = false;

                setTimeout(function() {
                    if (!menuFn.popOverEntered) {
                        popSubMenu.close();
                    }
                }, 10);
            });
        }

        var menuCards = [];

        $.each(modelAppCacheTilesLink.oData, function(i, tileLink) {

            if (tileLink.GUID !== dataCat.GUID) {
                return true;
            }

            var dataTile = $.grep(modelAppCacheTiles.oData, function(tile, i) {
                return (tile.GUID === tileLink.GUID_TILE);
            })[0];
            if (dataTile) {
                menuCards.push({
                    GUID: dataTile.GUID,
                    TILE_TITLE: dataTile.TILE_TITLE || dataTile.NAME,
                    TILE_INFO: dataTile.TILE_INFO,
                    TILE_FOOTER: dataTile.TILE_FOOTER,
                    TILE_ICON: dataTile.TILE_ICON || "sap-icon://sys-monitor",
                    TITLE_FOOTER: dataTile.TILE_FOOTER,
                    TAGS: dataTile.TAGS
                });
            }
        });
        if (dataCat.INCL_FAV) {
            $.each(modelAppCacheTilesFav.oData, function(i, fav) {

                var dataTile = $.grep(modelAppCacheTiles.oData, function(tile, i) {
                    return (tile.GUID === fav.GUID);
                })[0];
                if (dataTile) {

                    var cardInMenu = $.grep(menuCards, function(data, i) {
                        return (data.GUID === dataTile.GUID);
                    });
                    if (cardInMenu.length === 0) {
                        menuCards.push({
                            GUID: dataTile.GUID,
                            TILE_TITLE: dataTile.TILE_TITLE || dataTile.NAME,
                            TILE_INFO: dataTile.TILE_INFO,
                            TILE_FOOTER: dataTile.TILE_FOOTER,
                            TILE_ICON: dataTile.TILE_ICON || "sap-icon://sys-monitor",
                            TITLE_FOOTER: dataTile.TILE_FOOTER,
                            TAGS: dataTile.TAGS
                        });
                    }
                }
            });
        }
        if (dataCat.INCL_MOSTUSED) {
            $.each(modelAppCacheTilesRun.oData, function(i, mostused) {

                var dataTile = $.grep(modelAppCacheTiles.oData, function(tile, i) {
                    return (tile.GUID === mostused.GUID);
                })[0];
                if (dataTile) {

                    var cardInMenu = $.grep(menuCards, function(data, i) {
                        return (data.GUID === dataTile.GUID);
                    });
                    if (cardInMenu.length === 0) {
                        menuCards.push({
                            GUID: dataTile.GUID,
                            TILE_TITLE: dataTile.TILE_TITLE || dataTile.NAME,
                            TILE_INFO: dataTile.TILE_INFO,
                            TILE_FOOTER: dataTile.TILE_FOOTER,
                            TILE_ICON: dataTile.TILE_ICON || "sap-icon://sys-monitor",
                            TITLE_FOOTER: dataTile.TILE_FOOTER,
                            TAGS: dataTile.TAGS
                        });
                    }
                }
            });
        }

        menu.push({
            element: menuItem,
            GUID: dataCat.GUID,
            TILE_TITLE: dataCat.MENU_TEXT || dataCat.NAME,
            showGardgroup: sap.n.Launchpad.showGardgroup(dataCat, menuSub),
            cards: menuCards
        });
    });

    sap.n.Launchpad.menu = menu;
    sap.n.Launchpad.menuSub = menuSub;

    if (!AppCache.verticalMenu && !AppCache.hideMainMenu) {
        sap.n.Launchpad.buildHeaderMenu();
    }
    sap.n.Launchpad.buildSideMenu();

    sap.n.Launchpad.applyUserTheme(true);


    if (cardgroup) {

        if ($.grep(sap.n.Launchpad.menu, function(menu, i) {
            return (menu.GUID === cardgroup.GUID && menu.showGardgroup);
        }).length > 0) {

            sap.ui.getCore().byId("__nepTopMenu" + cardgroup.GUID).addStyleClass("nepTopMenuActive");
            sap.n.Launchpad.BuildTiles(cardgroup, null, true);
            return false;
        }
    }

    $.each(modelAppCacheTileGroup.oData, function(i, dataCat) {

        if ($.grep(sap.n.Launchpad.menu, function(menu, i) {
            return (menu.GUID === dataCat.GUID && menu.showGardgroup);
        }).length > 0) {

            sap.ui.getCore().byId("__nepTopMenu" + dataCat.GUID).addStyleClass("nepTopMenuActive");
            sap.n.Launchpad.BuildTiles(dataCat, null, true);
            return false;
        }
    });

    neptune.Splash.hide();
    // var diff = new Date().getTime() - start;
};

sap.n.Launchpad.buildSideMenu = function() {

    var flatData = [];

    $.each(sap.n.Launchpad.menu, function(i, menu) {
        if (menu.showGardgroup) {
            flatData.push({
                ID: menu.GUID,
                PARENT: "",
                GUID: menu.GUID,
                TILE_TITLE: menu.TILE_TITLE,
                TILE_INFO: "",
                TILE_FOOTER: "",
                TILE_ICON: "",
                TAGS: ""
            });
            $.each(menu.cards, function(i, card) {
                flatData.push({
                    ID: card.GUID,
                    PARENT: menu.GUID,
                    GUID: card.GUID,
                    TILE_TITLE: card.TILE_TITLE,
                    TILE_INFO: card.TILE_INFO,
                    TILE_FOOTER: card.TILE_FOOTER,
                    TILE_ICON: card.TILE_ICON,
                    TAGS: card.TAGS
                });
            });

            $.each(sap.n.Launchpad.menuSub[menu.GUID], function(i, sub) {
                if (sub.showGardgroup) {
                    flatData.push({
                        ID: menu.GUID + sub.GUID,
                        PARENT: menu.GUID,
                        GUID: sub.GUID,
                        TILE_TITLE: sub.TILE_TITLE,
                        TILE_INFO: "",
                        TILE_FOOTER: "",
                        TILE_ICON: "",
                        TAGS: ""
                    });
                    $.each(sub.cards, function(i, card) {
                        flatData.push({
                            ID: card.GUID,
                            PARENT: menu.GUID + sub.GUID,
                            GUID: card.GUID,
                            TILE_TITLE: card.TILE_TITLE,
                            TILE_INFO: card.TILE_INFO,
                            TILE_FOOTER: card.TILE_FOOTER,
                            TILE_ICON: card.TILE_ICON,
                            TAGS: card.TAGS
                        });
                    });
                }
            });
        }
    });
    modelContentMenu.setData(ModelData.ConvertFlatToNested(flatData, "ID", "PARENT"));
    sap.n.Launchpad.setMenuActiveState();
};

sap.n.Launchpad.buildHeaderMenu = function() {

    AppCacheAppButton.removeAllItems();
    $.each(sap.n.Launchpad.menu, function(i, menu) {
        if (menu.showGardgroup) {
            AppCacheAppButton.addItem(menu.element);
        }
    });
};

sap.n.Launchpad.showGardgroup = function(dataCat, menuSub) {

    //default setting is to hide a cardgroup when there are no cards. This can be overridden to always show the cardgroup
    if (dataCat.DISPLAY_NO_CARDS) {
        return true;
    }

    // check if the cardgroup has any tiles added. If so, show cardgroup
    var anyCards = false;
    $.each(modelAppCacheTilesLink.oData, function(i, tileLink) {

        if (dataCat.GUID === tileLink.GUID && $.grep(modelAppCacheTiles.oData, function(tile, i) {
            return (tile.GUID === tileLink.GUID_TILE);
        }).length > 0) {

            anyCards = true;
            return false;
        }
    });

    //each subcardgroups have been checked in this method already. See if any of the subcardgroups have tiles
    $.each(menuSub[dataCat.GUID], function(i, subMenu) {
        if (subMenu.showGardgroup) {
            anyCards = true;
            return false;
        }
    });

    //does the cardgroup show favorites. If the user has added favorites, show cardgroup
    if (dataCat.INCL_FAV && modelAppCacheTilesFav.oData.length > 0) {
        anyCards = true;
    }

    //does the cardgroup show most used. If the user has used any cards, show cardgroup
    if (dataCat.INCL_MOSTUSED && modelAppCacheTilesRun.oData.length > 0) {
        anyCards = true;
    }
    return anyCards;
};

sap.n.Launchpad.BuildTiles = function(dataCat, subCatId, init, navObjEventHandler) {

    var anyTiles = false;
    var pageCatID = "page" + dataCat.GUID;
    var subTilegroupFavorite = false;

    // first build, called from BuildMenu
    if (init) {

        // Parse Hash
        var parts = location.hash.substring(1).split('&');
        if (parts[0].indexOf("-") > -1) {
            var hashObject = parts[0].split('-')[0];
            var hashAction = parts[0].split('-')[1];

            return;
        }
    }

    //does the master tile group include favorites
    var addManageFavBtn = dataCat.INCL_FAV;

    //does any of the sub tile groups include favorites
    $.each(modelAppCacheTileGroupLink.oData, function(i, link) {
        if (dataCat.GUID === link.GUID) {
            $.each(modelAppCacheTileGroupSub.oData, function(i, sub) {
                if (sub.GUID === link.GUID_TILEGROUP && sub.INCL_FAV) {

                    //yes sub tile group include favorites
                    addManageFavBtn = true;
                }
            });
        }
    });

    sap.n.Launchpad.currentTileGroupPage = pageCatID;

    // Create Page Per Tile Group
    var pageCat = sap.ui.getCore().byId(pageCatID);

    // Pages with Fav, always create. Also if the page was build using a different layout than the current
    if (pageCat) {

        if (addManageFavBtn || pageCat.buildLayout !== currLayout.GUID) {
            sap.n.Launchpad.removeFavButtons(pageCatID);
            AppCacheNav.removePage(pageCat);
            pageCat.destroy();
            pageCat = null;
        }
    }

    if (!pageCat) {

        sap.n.Launchpad.tileGroupsInPage[pageCatID] = {
            tileGroups: []
        };

        pageCat = new sap.m.Page(pageCatID, {
            showHeader: false,
            showFooter: false,
            backgroundDesign: "Transparent"

        }).addStyleClass("__nepPage" + dataCat.GUID);

        pageCat.buildLayout = currLayout.GUID;

        pageCat.addStyleClass("nepPage");
        AppCacheNav.addPage(pageCat);

        if (dataCat.APPLID) {
            AppCache.Load(dataCat.APPLID, {
                load: "card",
                parentObject: pageCat,
                startParams: dataCat.APPLID_PARAMS || {}, // added in hash navigation, only hash params supported
                navObjEventHandler: navObjEventHandler
            });

        } else {

            //Grid containerOpenApp
            var gridContainer = new sap.m.FlexBox("__nepSection" + dataCat.GUID, {}).addStyleClass("nepGridContainer");
            sap.n.Launchpad.tileGroupsInPage[pageCatID].tileGroups.push("__nepSection" + dataCat.GUID);

            // Grid Parent
            var AppCacheObjectTiles = new sap.m.FlexBox("__nep" + ModelData.genID(), {}).addStyleClass("nepGrid");

            sap.n.Launchpad.setInitialGridWidth(AppCacheObjectTiles);

            // use Neptune Element Query to determine dynamic page width
            neptune.ElementQuery.register(AppCacheObjectTiles, {
                prefix: "nepGrid",
                isolate: true,
                width: AppCache.cssGridBreakpoints
            });

            gridContainer.addItem(AppCacheObjectTiles);

            // Build Group Header
            if (!dataCat.HIDE_HEADER) {

                var groupHeader = sap.n.Launchpad.buildGroupHeader(dataCat);

                var oHeaderCell = new sap.m.VBox("__nep" + ModelData.genID(), {});
                oHeaderCell.addStyleClass("nepTileMax");
                oHeaderCell.addItem(groupHeader);

                AppCacheObjectTiles.addItem(oHeaderCell);
            }

            // if no background type is set on tile group, get type from layout, else set CARD
            if (!dataCat.BACK_TYPE && currLayout.BACK_TYPE) {
                dataCat.BACK_TYPE = currLayout.BACK_TYPE;
            } else if (!dataCat.BACK_TYPE) {
                dataCat.BACK_TYPE = sap.n.Layout.style.CARD;
            }

            // Card & Fiori Type
            if (dataCat.BACK_TYPE === sap.n.Layout.style.CARD) {
                dataCat.BACK_TYPE = sap.n.Layout.style.DEFAULT;
                dataCat.enableCards = true;
            } else if (dataCat.BACK_TYPE === sap.n.Layout.style.FIORI) {
                dataCat.BACK_TYPE = sap.n.Layout.style.DEFAULT;
                dataCat.enableFiori = true;
            }

            if (dataCat.CANVAS_WIDTH) {
                AppCacheObjectTiles.addStyleClass("nepGroup" + dataCat.CANVAS_WIDTH);
            }
            if (dataCat.CANVAS_ALIGN) {
                AppCacheObjectTiles.addStyleClass("nepGridAlign" + dataCat.CANVAS_ALIGN);
            }
            if (dataCat.enableCards) {
                gridContainer.addStyleClass("nepCridCards");
            }
            if (dataCat.enableFiori) {
                AppCacheObjectTiles.addStyleClass("nepFioriStyle nepGridFiori");
            }
            if (dataCat.STYLECLASS) {
                AppCacheObjectTiles.addStyleClass(dataCat.STYLECLASS);
            }

            // Fav
            if (dataCat.INCL_FAV) {
                sap.n.Launchpad.BuildTileContent({
                    pageID: pageCatID,
                    dataCat: dataCat,
                    tileBlock: AppCacheObjectTiles,
                    isFav: true
                });
            }

            // Tiles
            sap.n.Launchpad.BuildTileContent({
                pageID: pageCatID,
                dataCat: dataCat,
                tileBlock: AppCacheObjectTiles
            });

            // Add Grid to Page
            pageCat.addContent(gridContainer);

            // Child Tile Groups
            $.each(modelAppCacheTileGroupLink.oData, function(i, data) {

                if (data.GUID !== dataCat.GUID) return;

                var dataCatChild = ModelData.Find(AppCacheTileGroupSub, "GUID", data.GUID_TILEGROUP)[0];

                var showGardgroup = false;
                $.each(sap.n.Launchpad.menuSub[data.GUID], function(i, sub) {
                    if (sub.GUID === dataCatChild.GUID) {
                        showGardgroup = sub.showGardgroup;
                        return false;
                    }
                });
                if (!showGardgroup) {
                    return true;
                }

                // Block Parent
                var gridId = "__nep" + ModelData.genID();

                //Grid containerOpenApp
                var gridContainer = new sap.m.FlexBox("__nepSection" + dataCat.GUID + dataCatChild.GUID, {}).addStyleClass("nepGridContainer");
                sap.n.Launchpad.tileGroupsInPage[pageCatID].tileGroups.push("__nepSection" + dataCat.GUID + dataCatChild.GUID);

                var AppCacheObjectTiles = new sap.m.FlexBox(gridId, {}).addStyleClass("nepGrid");
                sap.n.Launchpad.setInitialGridWidth(AppCacheObjectTiles);

                // use Neptune Element Query to determine dynamic page width
                neptune.ElementQuery.register(AppCacheObjectTiles, {
                    prefix: "nepGrid",
                    isolate: true,
                    width: AppCache.cssGridBreakpoints
                });

                gridContainer.addItem(AppCacheObjectTiles);

                if (!dataCatChild.BACK_TYPE && currLayout.BACK_TYPE) {
                    dataCatChild.BACK_TYPE = currLayout.BACK_TYPE;
                } else if (!dataCatChild.BACK_TYPE) {
                    dataCatChild.BACK_TYPE = sap.n.Layout.style.CARD;
                }

                // Card or Fiori Type
                if (dataCatChild.BACK_TYPE === sap.n.Layout.style.CARD) {
                    dataCatChild.BACK_TYPE = sap.n.Layout.style.DEFAULT;
                    dataCatChild.enableCards = true;
                } else if (dataCatChild.BACK_TYPE === sap.n.Layout.style.FIORI) {
                    dataCatChild.BACK_TYPE = sap.n.Layout.style.DEFAULT;
                    dataCatChild.enableFiori = true;
                }

                // Build Group Header
                if (!dataCatChild.HIDE_HEADER) {

                    var groupHeader = sap.n.Launchpad.buildGroupHeader(dataCatChild);

                    var oHeaderCell = new sap.m.VBox("__nep" + ModelData.genID(), {});
                    oHeaderCell.addStyleClass("nepTileMax");
                    oHeaderCell.addItem(groupHeader);

                    AppCacheObjectTiles.addItem(oHeaderCell);
                }

                if (dataCatChild.CANVAS_WIDTH) {
                    AppCacheObjectTiles.addStyleClass("nepGroup" + dataCatChild.CANVAS_WIDTH);
                }
                if (dataCatChild.CANVAS_ALIGN) {
                    AppCacheObjectTiles.addStyleClass("nepGridAlign" + dataCatChild.CANVAS_ALIGN);
                }
                if (dataCatChild.enableCards) {
                    gridContainer.addStyleClass("nepCridCards");
                }
                if (dataCatChild.enableFiori) {
                    AppCacheObjectTiles.addStyleClass("nepFioriStyle nepGridFiori");
                }
                if (dataCatChild.STYLECLASS) {
                    AppCacheObjectTiles.addStyleClass(dataCatChild.STYLECLASS);
                }

                // Fav
                if (dataCatChild.INCL_FAV) {
                    sap.n.Launchpad.BuildTileContent({
                        pageID: pageCatID,
                        dataCat: dataCatChild,
                        tileBlock: AppCacheObjectTiles,
                        isFav: true
                    });
                }

                // Tiles
                sap.n.Launchpad.BuildTileContent({
                    pageID: pageCatID,
                    dataCat: dataCatChild,
                    tileBlock: AppCacheObjectTiles
                });

                // Add Block to Page
                pageCat.addContent(gridContainer);
            });

            sap.n.Launchpad.tileGroupsInPage[pageCatID].emptyTileGroupId = "__nep" + ModelData.genID();
            pageCat.addContent(new sap.m.HBox(sap.n.Launchpad.tileGroupsInPage[pageCatID].emptyTileGroupId, {}));
        }

        // css created once and then added to pageCat._headerCSS
        pageCat._headerCSS = sap.n.Launchpad.buildContentCss(sap.n.Launchpad.currentTileGroupPage);
    }

    if (dataCat.APPLID) {

        AppCacheNav.to(pageCat);

        pageCat.setEnableScrolling(false);

        // Custom beforeDisplay
        if (sap.n.Apps[dataCat.APPLID] && sap.n.Apps[dataCat.APPLID].beforeDisplay) {
            $.each(sap.n.Apps[dataCat.APPLID].beforeDisplay, function(i, data) {
                data(dataCat.APPLID_PARAMS);
            });
        }
        if (dataCat.NAV_USE_MENU) {
            sap.n.Launchpad.setActiveIcon("but" + dataCat.GUID);
        }
        return;
    }

    sap.n.Launchpad.backApp = pageCat;
    sap.n.Launchpad.setMenuPage(dataCat);

    AppCacheShellFavorites.setVisible(false);
    if (addManageFavBtn && modelAppCacheTilesFav.oData.length > 0) {
        AppCacheShellFavorites.setVisible(true);
    }

    $("#NeptuneTileGroupHeaderDiv").html("<style>" + pageCat._headerCSS + "</style>").trigger("create");

    AppCacheNav.to(pageCat);

    if (subCatId) {
        setTimeout(function() {
            sap.n.Launchpad.scrollToTileGroup("__nepSection" + dataCat.GUID + subCatId);
        }, 500);
    } else {
        setTimeout(function() {
            pageCat.scrollTo(0);
        }, 100);
    }
};

sap.n.Launchpad.setInitialGridWidth = function(grid) {

    var navWidth = $("#AppCacheNav").width();

    if (navWidth < 380) {
        grid.addStyleClass("nepGridXSmall");
    } else if (navWidth < 680) {
        grid.addStyleClass("nepGridSmall");
    } else if (navWidth < 980) {
        grid.addStyleClass("nepGridMedium");
    } else if (navWidth < 1280) {
        grid.addStyleClass("nepGridLarge");
    } else if (navWidth < 1580) {
        grid.addStyleClass("nepGridXLarge");
    } else if (navWidth < 1880) {
        grid.addStyleClass("nepGridXXLarge");
    } else if (navWidth < 2360) {
        grid.addStyleClass("nepGridXXXLarge");
    }
};

sap.n.Launchpad.BuildTileContent = function(config) {

    var pageID = config.pageID;
    var dataCat = config.dataCat;
    var tileBlock = config.tileBlock;
    var isFav = config.isFav || false;

    var oBlockRowTiles = "";
    var tiles = [];

    if (isFav) {
        tiles = modelAppCacheTilesFav.oData;
    } else {

        $.each(modelAppCacheTilesLink.oData, function(i, data) {
            if (data.GUID === dataCat.GUID) {
                var tileData = ModelData.Find(AppCacheTiles, "GUID", data.GUID_TILE)[0];
                if (tileData) {
                    var includedInFavorites = false;
                    if (dataCat.INCL_FAV) {
                        includedInFavorites = ModelData.Find(AppCacheTilesFav, "GUID", tileData.GUID)[0];
                    }
                    var includedInMostused = false;
                    if (dataCat.INCL_MOSTUSED) {
                        includedInMostuseds = ModelData.Find(AppCacheTilesRun, "GUID", tileData.GUID)[0];
                    }
                    if (!includedInFavorites && !includedInMostused) {
                        tiles.push(tileData);
                    }
                }
            }
        });
    }
    if (!isFav && dataCat.INCL_MOSTUSED) {
        $.each(modelAppCacheTilesRun.oData, function(i, tileData) {
            var includedInFavorites = false;
            if (dataCat.INCL_FAV) {
                includedInFavorites = ModelData.Find(AppCacheTilesFav, "GUID", tileData.GUID)[0];
            }
            if (!includedInFavorites) {
                tileData.mostused = true;
                tiles.splice(0, 0, tileData);
            }
        });
    }

    sap.n.Launchpad.backgroundShade = "";

    var rowId = "__nepCat" + dataCat.GUID;
    if (isFav) {
        rowId = "__nepCatFav" + dataCat.GUID;
    }
    var tilesPrRow = dataCat.TILES_PR_ROW || sap.n.Layout.row.MORE;
    tileBlock.addStyleClass("nepBlockLayoutTileRow " + rowId + " nepGrid" + tilesPrRow);

    $.each(tiles, function(i, dataTile) {

        // Fav settings override
        if (isFav) {
            var tile = dataTile;
            var favTile = ModelData.FindFirst(AppCacheTiles, "GUID", dataTile.GUID);

            if (favTile) {
                dataTile = JSON.parse(JSON.stringify(favTile));
            }
            if (tile.BACK_WIDTH) {
                dataTile.BACK_WIDTH = tile.BACK_WIDTH;
            }
        }

        if (sap.ui.Device.system.desktop && dataTile.HIDE_ON_DESKTOP) {
            return;
        }
        if (sap.ui.Device.system.tablet && dataTile.HIDE_ON_TABLET) {
            return;
        }
        if (sap.ui.Device.system.phone && dataTile.HIDE_ON_MOBILE) {
            return;
        }

        // Tile Content
        switch (dataTile.TILE_TYPE) {

            case sap.n.Launchpad.tiletype.INTEGRATION:
                if (sap.n.Launchpad.cardsAvailable && !dataCat.enableFiori) {

                    var integrationCardContainer = new sap.m.FlexBox("__nep" + ModelData.genID(), {
                        width: "100%",
                        fitContainer: true,
                        direction: "Column"
                    }).addStyleClass("nepFCardContainer nepICCardContainer nepTile" + dataTile.BACK_WIDTH);

                    if (!dataCat.enableCards && !dataCat.enableFiori) {
                        integrationCardContainer.addStyleClass("nepFCardPlain");
                    }

                    if (dataTile.STYLECLASS) {
                        integrationCardContainer.addStyleClass(dataTile.STYLECLASS);
                    }
                    if (dataTile.TILE_HEIGHT) {
                        integrationCardContainer.addStyleClass("nepTile" + dataTile.TILE_HEIGHT);
                    }
                    tileBlock.addItem(integrationCardContainer);

                    sap.n.Card.buildCardIntegration({
                        pageID: pageID,
                        dataTile: dataTile,
                        dataCat: dataCat,
                        cardICContainer: integrationCardContainer
                    });
                }
                break;

            case sap.n.Launchpad.tiletype.APPLICATION:
                if (sap.n.Launchpad.cardsAvailable && !dataCat.enableFiori) {
                    tileBlock.addItem(sap.n.Card.buildCardApplication({
                        pageID: pageID,
                        dataTile: dataTile,
                        tileWidth: dataTile.BACK_WIDTH,
                        tileHeight: dataTile.TILE_HEIGHT,
                        dataCat: dataCat,
                    }));
                } else if (!dataCat.enableFiori) {
                    tileBlock.addItem(sap.n.Launchpad.buildTileApplication({
                        pageID: pageID,
                        dataTile: dataTile,
                        tileWidth: dataTile.BACK_WIDTH,
                        tileHeight: dataTile.TILE_HEIGHT,
                        dataCat: dataCat,
                    }));
                }
                break;

            case sap.n.Launchpad.tiletype.SLIDETILE:

                var slideContainer = new sap.m.VBox("__nep" + ModelData.genID(), {}).addStyleClass("nepTileContainer");
                slideContainer.addStyleClass("nepTile" + dataTile.BACK_WIDTH);

                if (!dataCat.enableCards && !dataCat.enableFiori) {
                    slideContainer.addStyleClass("nepTilePlain");
                }

                if (AppCache.internetNotAllowed) {

                    dataTile.TILE_TYPE = sap.n.Launchpad.tiletype.NEWSCONTENT;
                    dataTile.TILE_CONTENT = "No public access, support for local RSS feed reading coming in future Planet 8 release...";

                    if (sap.n.Launchpad.cardsAvailable && !dataCat.enableFiori) {

                        slideContainer = sap.n.Card.buildCardDefault({
                            pageID: pageID,
                            dataTile: dataTile,
                            tileWidth: dataTile.BACK_WIDTH,
                            tileHeight: dataTile.TILE_HEIGHT,
                            dataCat: dataCat
                        });
                    } else {

                        slideContainer.addItem(sap.n.Launchpad.buildTileDefault({
                            pageID: pageID,
                            dataTile: dataTile,
                            tileWidth: dataTile.BACK_WIDTH,
                            tileHeight: dataTile.TILE_HEIGHT,
                            dataCat: dataCat,
                        }));
                    }
                } else {

                    // build tile shell, the content will be build in sap.n.Launchpad.buildSlideTile
                    var slideBlockCell;

                    if (sap.n.Launchpad.cardsAvailable && !dataCat.enableFiori) {

                        slideContainer = sap.n.Card.buildCardRSS({
                            pageID: pageID,
                            dataTile: dataTile,
                            tileWidth: dataTile.BACK_WIDTH,
                            tileHeight: dataTile.TILE_HEIGHT,
                            dataCat: dataCat
                        });

                    } else {

                        if (dataTile.TILE_FRAMETYPE === "TwoByOne") {
                            slideContainer.addStyleClass("nepFioriStyleTwoByOne");
                        }
                        slideBlockCell = sap.n.Launchpad.buildTileDefault({
                            pageID: pageID,
                            dataTile: dataTile,
                            tileWidth: dataTile.BACK_WIDTH,
                            tileHeight: dataTile.TILE_HEIGHT,
                            dataCat: dataCat,
                        });
                        slideContainer.addItem(slideBlockCell);

                        sap.n.Launchpad.buildSlideTile({
                            pageID: pageID,
                            dataTile: dataTile,
                            oBlockCell: slideBlockCell,
                            dataCat: dataCat
                        });
                    }

                    tileBlock.addItem(slideContainer);
                }

                break;

            default:

                if (sap.n.Launchpad.cardsAvailable && !dataCat.enableFiori) {

                    var cardContainer = sap.n.Card.buildCardDefault({
                        pageID: pageID,
                        dataTile: dataTile,
                        tileWidth: dataTile.BACK_WIDTH,
                        tileHeight: dataTile.TILE_HEIGHT,
                        dataCat: dataCat,
                        isFav: isFav
                    });
                    tileBlock.addItem(cardContainer);

                } else {

                    var tileContainer = sap.n.Launchpad.buildTileDefault({
                        pageID: pageID,
                        dataTile: dataTile,
                        tileWidth: dataTile.BACK_WIDTH,
                        tileHeight: dataTile.TILE_HEIGHT,
                        dataCat: dataCat,
                        isFav: isFav
                    });
                    tileBlock.addItem(tileContainer);
                }
                break;
        }
    });
};

sap.n.Launchpad.buildTileDefault = function(config) {

    var pageID = config.pageID;
    var dataTile = config.dataTile;
    var tileWidth = config.tileWidth || sap.n.Layout.tile.SMALL;
    var tileHeight = dataTile.TILE_HEIGHT || false;
    var dataCat = config.dataCat;

    var oBlockIcon, oBlockDescription, oBlockTitle, imageUrl;

    // Fiori style tiles
    var tileClickable = dataCat.enableFiori || dataTile.FIORI_STYLE;

    var tileContainer = new sap.m.VBox("__nep" + ModelData.genID(), {}).addStyleClass("nepTileContainer");
    tileContainer.addStyleClass("nepTile" + tileWidth);

    if (!dataCat.enableCards && !dataCat.enableFiori) {
        tileContainer.addStyleClass("nepTilePlain");
    }

    if (dataTile.STYLECLASS) {
        tileContainer.addStyleClass(dataTile.STYLECLASS);
    }
    if (tileHeight) {
        tileContainer.addStyleClass("nepTile" + tileHeight);
    }

    var oBlockCell = new sap.m.VBox("__nep" + ModelData.genID(), {
        backgroundDesign: "Translucent"
    }).addStyleClass("tile" + dataTile.GUID);

    tileContainer.addItem(oBlockCell);

    if (dataCat.enableCards) {
        oBlockCell.addStyleClass("nepTileCards");
    } else {
        oBlockCell.addStyleClass("nepTile");
    }
    if (dataCat.FIT_TILE_CONTENT || dataTile.FIT_TILE_CONTENT) {
        oBlockCell.addStyleClass("nepFitTileContent");
    }
    if (dataTile.TILE_FRAMETYPE === "TwoByOne") {
        oBlockCell.addStyleClass("nepFioriStyleTwoByOne");
        tileContainer.addStyleClass("nepFioriStyleTwoByOne");
    }

    sap.n.Launchpad.setBackgroundShade(dataTile, dataCat, oBlockCell);

    if (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.SLIDETILE) {
        oBlockCell.addStyleClass("nepSlideTile");
        return oBlockCell;
    }

    var oBlockContentParent = new sap.m.VBox("__nep" + ModelData.genID(), {
        justifyContent: "SpaceBetween",
        width: "100%",
        height: "100%"
    }).addStyleClass("nepTileContentContainer");

    var oBlockContentTop = new sap.m.VBox("__nep" + ModelData.genID()).addStyleClass("nepTileContentTop");

    oBlockCell.addItem(oBlockContentParent);
    oBlockContentParent.addItem(oBlockContentTop);

    // Title - Box
    var oBlockContentTitle = new sap.m.HBox("__nep" + ModelData.genID(), {
        width: "100%"
    }).addStyleClass("nepTileTitle");
    oBlockContentTop.addItem(oBlockContentTitle);

    // Title
    oBlockTitle = new sap.m.Text("__nep" + ModelData.genID(), {
        text: sap.n.Launchpad.translateTile("TILE_TITLE", dataTile)
    });
    if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].title.push(oBlockTitle);

    oBlockContentTitle.addItem(oBlockTitle);

    // SubTitle - Box
    var oBlockContent = new sap.m.HBox("__nep" + ModelData.genID(), {
        width: "100%",
    }).addStyleClass("nepTileSubTitle");

    // Reverse if title at End
    if (dataTile.TITLE_ALIGN === "End") oBlockContent.setDirection("RowReverse");

    oBlockContentTop.addItem(oBlockContent);

    // SubTitle
    var oBlockInfo = new sap.m.Text("__nep" + ModelData.genID(), {
        text: sap.n.Launchpad.translateTile("TILE_INFO", dataTile)
    });
    if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].info.push(oBlockInfo);
    oBlockContent.addItem(oBlockInfo);

    // SubTitle - Box
    var oIconContent = new sap.m.HBox("__nep" + ModelData.genID(), {
        width: "100%",
        justifyContent: "End"
    }).addStyleClass("nepTileIcon");
    oBlockContentParent.addItem(oIconContent);

    // News Content
    if (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.NEWSCONTENT) {

        var oBlockNews = new sap.m.VBox("__nep" + ModelData.genID(), {
            width: "100%"
        }).addStyleClass("nepTileNewsContent");

        oBlockNews.addItem(new sap.m.Text("__nep" + ModelData.genID(), {
            text: sap.n.Launchpad.translateTile("TILE_CONTENT", dataTile)
        }));

        oIconContent.addItem(oBlockNews);

    }

    // Icon, but not for microcharts
    else if (dataTile.TILE_TYPE !== sap.n.Launchpad.tiletype.DYNAMIC) {

        if (!!dataTile.TILE_ICON_IMAGE) {

            imageUrl = AppCache.mediaUrl + dataTile.TILE_ICON_IMAGE;
            if (AppCache.isMobile || AppCache.isHCP) {
                imageUrl = AppCache.imageData[dataTile.TILE_ICON_IMAGE] || imageUrl;
            }

            oBlockIcon = new sap.m.Image("__nep" + ModelData.genID(), {
                src: imageUrl,
                densityAware: false,
            }).addStyleClass("nepTileImage");

        } else if (dataTile.TILE_ICON && dataTile.TILE_ICON.indexOf("sap-icon") > -1) {
            oBlockIcon = new sap.ui.core.Icon("__nep" + ModelData.genID(), {
                src: dataTile.TILE_ICON,
                size: "2rem",
                useIconTooltip: false
            });
        }
        if (oBlockIcon) {
            if (dataTile.TITLE_ALIGN === "End") {
                oBlockIcon.addStyleClass("nepTileIconLeft");
            } else {
                oBlockIcon.addStyleClass("nepTileIconRight");
            }
            if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].icon.push(oBlockIcon);
            oIconContent.addItem(oBlockIcon);
        }
    }

    if (tileClickable) {

        oBlockCell.addStyleClass("nepTileClickable");
        oBlockTitle.addStyleClass("nepTileClickable");
        oBlockInfo.addStyleClass("nepTileClickable");

        // make icon clickable, but not for microcharts
        if (oBlockIcon && dataTile.TILE_ICON && dataTile.TILE_TYPE !== sap.n.Launchpad.tiletype.DYNAMIC) {
            oBlockIcon.addStyleClass("nepTileClickable");
        }
    }

    // MicroCharts
    if (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.DYNAMIC) {

        sap.n.Launchpad.buildDynamicContent({
            dataTile: dataTile,
            parent: oBlockContentParent,
            fioriStyle: dataCat.enableFiori
        });
    }

    // Actions
    if (dataTile.TILE_TYPE !== sap.n.Launchpad.tiletype.SLIDETILE) {
        sap.n.Launchpad.buildTileAction({
            pageID: pageID,
            dataTile: dataTile,
            parent: oBlockContentParent,
            oBlockCell: oBlockCell,
            dataCat: dataCat
        });
    }
    return tileContainer;
};

sap.n.Launchpad.buildGroupHeader = function(dataCat) {

    // unique CSS class for this header
    var id = "__nepGroupHeader" + dataCat.GUID;

    var panel = new sap.m.Panel("__nep" + ModelData.genID(), {
        backgroundDesign: "Transparent",
        width: "100%"
    }).addStyleClass("nepCatPanel " + id + " sapUiNoContentPadding");

    if (dataCat.CANVAS_WIDTH) {
        panel.addStyleClass("nepHeader" + dataCat.CANVAS_WIDTH);
    }
    if (dataCat.CANVAS_ALIGN) {
        panel.addStyleClass("nepHeaderAlign" + dataCat.CANVAS_ALIGN);
    }
    if (dataCat.STYLECLASS) {
        panel.addStyleClass(dataCat.STYLECLASS);
    }

    var vbox = new sap.m.VBox("__nep" + ModelData.genID(), {
        alignItems: dataCat.TITLE_ALIGN || "Start",
    }).addStyleClass("nepCatTitleLayout");
    panel.addContent(vbox);

    vbox.addItem(new sap.m.Title("__nep" + ModelData.genID(), {
        level: "H1",
        text: sap.n.Launchpad.translateTile("NAME", dataCat)
    }).addStyleClass("nepCatTitle"));
    panel.addStyleClass("nepCatTitleLayoutTitle");

    if (dataCat.SUBTITLE) {

        vbox.addItem(new sap.m.Title("__nep" + ModelData.genID(), {
            level: "H3",
            text: sap.n.Launchpad.translateTile("SUBTITLE", dataCat)
        }).addStyleClass("nepCatSubTitle"));
        panel.addStyleClass("nepCatTitleLayoutSubTitle");
    }

    return panel;
};

sap.n.Launchpad.buildHeaderCss = function(dataCat) {

    var imageUrl;
    var id = "__nepGroupHeader" + dataCat.GUID;
    var css = "";

    if (dataCat.HEAD_COLOR) {
        css += "." + id + " {background-color: " + dataCat.HEAD_COLOR + ";}";
    }
    if (dataCat.HEAD_TEXT_CLR) {
        css += "." + id + " .nepCatTitle.sapMTitle {color: " + dataCat.HEAD_TEXT_CLR + ";}";
    }
    if (dataCat.SUBHEAD_TEXT_CLR) {
        css += "." + id + " .nepCatSubTitle.sapMTitle {color: " + dataCat.SUBHEAD_TEXT_CLR + ";}";
    }

    var borderWidth = dataCat.HEAD_BORDER_WDT || "3px";
    if (dataCat.HEAD_BORDER_CLR) {
        css += "." + id + " {border-bottom: " + borderWidth + " solid " + dataCat.HEAD_BORDER_CLR + ";}";
    }

    var backgroundHeight, backroundPosition, backroundSize, backgroundRepeat;

    if (dataCat.BACK_IMAGE) {

        imageUrl = AppCache.mediaUrl + dataCat.BACK_IMAGE;
        if (AppCache.isMobile || AppCache.isHCP) {
            imageUrl = AppCache.imageData[dataCat.BACK_IMAGE] || imageUrl;
        }

        backroundPosition = "center center";
        backroundSize = "cover";
        backgroundRepeat = "no-repeat";

        if (dataCat.BACK_IMG_PLA) {
            backroundPosition = dataCat.BACK_IMG_PLA;
        }
        if (dataCat.BACK_IMG_REP) {
            backgroundRepeat = dataCat.BACK_IMG_REP;
        }
        if (dataCat.BACK_IMG_SIZ) {
            backroundSize = dataCat.BACK_IMG_SIZ;
        }
        if (dataCat.HEAD_HGT) {
            backgroundHeight = dataCat.HEAD_HGT;
        } else if (dataCat.BACK_IMG_HGT) {
            backgroundHeight = dataCat.BACK_IMG_HGT + 'px';
        } else {
            backgroundHeight = '82px';
        }

        css += "." + id + " .sapMPanelContent {background: url('" + imageUrl + "');";
        css += "background-repeat: " + backgroundRepeat + ";";
        css += "background-position: " + backroundPosition + ";";
        css += "background-size: " + backroundSize + ";";
        css += "height: " + backgroundHeight + " ;";
        css += "}";
    }

    if (dataCat.BACK_IMAGE_TAB) {

        imageUrl = AppCache.mediaUrl + dataCat.BACK_IMAGE_TAB;
        if (AppCache.isMobile || AppCache.isHCP) {
            imageUrl = AppCache.imageData[dataCat.BACK_IMAGE_TAB] || imageUrl;
        }

        backroundPosition = "center center";
        backroundSize = "cover";
        backgroundRepeat = "no-repeat";

        if (dataCat.BACK_IMG_TAB_PLA) {
            backroundPosition = dataCat.BACK_IMG_TAB_PLA;
        }
        if (dataCat.BACK_IMG_TAB_REP) {
            backgroundRepeat = dataCat.BACK_IMG_TAB_REP;
        }
        if (dataCat.BACK_IMG_TAB_SIZ) {
            backroundSize = dataCat.BACK_IMG_TAB_SIZ;
        }
        if (dataCat.HEAD_TAB_HGT) {
            backgroundHeight = dataCat.HEAD_TAB_HGT;
        } else if (dataCat.BACK_IMG_TAB_HGT) {
            backgroundHeight = dataCat.BACK_IMG_TAB_HGT + 'px';
        } else {
            backgroundHeight = '82px';
        }

        css += ".nepGridMedium ." + id + " .sapMPanelContent {background: url('" + imageUrl + "');";
        css += "background-repeat: no-repeat;";
        css += "background-position: " + backroundPosition + ";";
        css += "background-size: " + backroundSize + ";";
        css += "height: " + backgroundHeight + ";";
        css += "}";
    }

    if (dataCat.BACK_IMAGE_MOB) {

        imageUrl = AppCache.mediaUrl + dataCat.BACK_IMAGE_MOB;
        if (AppCache.isMobile || AppCache.isHCP) {
            imageUrl = AppCache.imageData[dataCat.BACK_IMAGE_MOB] || imageUrl;
        }

        backroundPosition = "center center";
        backroundSize = "cover";
        backgroundRepeat = "no-repeat";

        if (dataCat.BACK_IMG_MOB_PLA) {
            backroundPosition = dataCat.BACK_IMG_MOB_PLA;
        }
        if (dataCat.BACK_IMG_MOB_REP) {
            backgroundRepeat = dataCat.BACK_IMG_MOB_REP;
        }
        if (dataCat.BACK_IMG_MOB_SIZ) {
            backroundSize = dataCat.BACK_IMG_MOB_SIZ;
        }
        if (dataCat.HEAD_MOB_HGT) {
            backgroundHeight = dataCat.HEAD_MOB_HGT;
        } else if (dataCat.BACK_IMG_MOB_HGT) {
            backgroundHeight = dataCat.BACK_IMG_MOB_HGT + 'px';
        } else {
            backgroundHeight = '82px';
        }

        css += ".nepGridSmall ." + id + " .sapMPanelContent{background: url('" + imageUrl + "');";
        css += "background-repeat: no-repeat;";
        css += "background-position: " + backroundPosition + ";";
        css += "background-size: " + backroundSize + ";";
        css += "height: " + backgroundHeight + ";";
        css += "}";
        css += ".nepGridXSmall ." + id + " .sapMPanelContent{background: url('" + imageUrl + "');";
        css += "background-repeat: no-repeat;";
        css += "background-position: " + backroundPosition + ";";
        css += "background-size: " + backroundSize + ";";
        css += "height: " + backgroundHeight + ";";
        css += "}";
    }

    return css;
};

sap.n.Launchpad.buildTileCss = function(dataCat) {

    var css = neptune.Style.getTileButtonCss({
        layout: dataCat,
        rowId: "__nepCat" + dataCat.GUID
    });

    var isFav = dataCat.INCL_FAV || false;
    var favTiles = [];
    var tiles = [];

    $.each(modelAppCacheTilesFav.oData, function(i, data) {
        var tileData = ModelData.Find(AppCacheTiles, "GUID", data.GUID)[0];
        if (tileData) tiles.push(tileData);
    });
    $.each(modelAppCacheTilesRun.oData, function(i, data) {
        var tileData = ModelData.Find(AppCacheTiles, "GUID", data.GUID)[0];
        if (tileData) tiles.push(tileData);
    });

    $.each(modelAppCacheTilesLink.oData, function(i, data) {
        if (data.GUID === dataCat.GUID) {
            var tileData = ModelData.Find(AppCacheTiles, "GUID", data.GUID_TILE)[0];
            if (tileData) {
                var isFav = false;
                if (dataCat.INCL_FAV) {
                    isFav = ModelData.Find(AppCacheTilesFav, "GUID", tileData.GUID)[0];
                }
                if (!isFav) {
                    tiles.push(tileData);
                }
            }
        }
    });

    $.each(tiles, function(i, dataTile) {

        css += neptune.Style.getTileButtonCss({
            layout: dataTile,
            tileId: "tile" + dataTile.GUID
        });

        if (dataTile.TILE_BACKIMAGE) {

            imageUrl = AppCache.mediaUrl + dataTile.TILE_BACKIMAGE;
            if (AppCache.isMobile || AppCache.isHCP) {
                imageUrl = AppCache.imageData[dataTile.TILE_BACKIMAGE] || imageUrl;
            }

            var repeat = (!!dataTile.TILE_BACK_REPEAT) ? dataTile.TILE_BACK_REPEAT : "no-repeat";
            var size = (!!dataTile.TILE_BACK_SIZE) ? dataTile.TILE_BACK_SIZE : "cover";
            var position = (!!dataTile.TILE_BACK_PLACE) ? dataTile.TILE_BACK_PLACE : "center";

            css += ".tile" + dataTile.GUID + "{";
            css += "background-image: url(" + imageUrl + ");";
            css += "background-repeat: " + repeat + ";";
            css += "background-size: " + size + ";";
            css += "background-position: " + position + ";";
            css += "}";
        }
    });

    return css;
};

sap.n.Launchpad.buildContentCss = function(pageCatID) {

    if (!pageCatID) {
        return;
    }

    var cat = pageCatID.split("page")[1];

    var dataCat = ModelData.Find(AppCacheTileGroup, "GUID", cat)[0];
    if (!dataCat) dataCat = ModelData.Find(AppCacheTileGroupSub, "GUID", cat)[0];
    if (!dataCat) return "";

    var css = neptune.Style.getTileButtonCss({
        layout: dataCat,
        rowId: "__nepCat" + dataCat.GUID
    });
    css += sap.n.Launchpad.buildHeaderCss(dataCat);
    css += sap.n.Launchpad.buildTileCss(dataCat);

    if (dataCat.PAGE_BACKCOLOR) {
        css += ".__nepPage" + cat + " {background-color: " + dataCat.HEAD_COLOR + ";}";
    }

    $.each(modelAppCacheTileGroupLink.oData, function(i, data) {

        if (data.GUID !== dataCat.GUID) return;
        var dataCatChild = ModelData.Find(AppCacheTileGroupSub, "GUID", data.GUID_TILEGROUP)[0];

        css += neptune.Style.getTileButtonCss({
            layout: dataCatChild,
            rowId: "__nepCat" + dataCat.GUID
        });
        css += sap.n.Launchpad.buildHeaderCss(dataCatChild);
        css += sap.n.Launchpad.buildTileCss(dataCatChild);
    });
    return css;
};

sap.n.Launchpad.setBackgroundShade = function(dataTile, dataCat, oBlockCell, isIcon) {

    var backgroundColor, backgroundShade, styleClass;
    var enableCalculation = false;
    var customColorset = false;
    var neptuneColorset = false;

    if (typeof dataCat === "undefined") {
        try {
            var catLink = ModelData.FindFirst(AppCacheTilesLink, "GUID_TILE", dataTile.GUID);
            dataCat = ModelData.FindFirst(AppCacheTileGroup, "GUID", catLink.GUID);
            if (!dataCat.BACK_TYPE) dataCat.BACK_TYPE = sap.n.Layout.style.DEFAULT;
        } catch (e) {}
    }
    if (typeof dataCat === "undefined") dataCat = {};

    if (dataTile.BACK_COLOR) {

        backgroundColor = dataTile.BACK_COLOR;
        backgroundShade = dataTile.BACK_SHADE;
        customColorset = dataTile.CUSTOM_COLORSET;
        neptuneColorset = dataTile.NEPTUNE_COLORSET;

    } else if (dataCat.BACK_COLOR) {

        backgroundColor = dataCat.BACK_COLOR;
        backgroundShade = dataCat.BACK_SHADE;
        customColorset = dataCat.CUSTOM_COLORSET;
        neptuneColorset = dataCat.NEPTUNE_COLORSET;

        if (dataCat.BACK_TYPE === sap.n.Layout.style.DEFAULT || dataCat.BACK_TYPE === sap.n.Layout.style.CARD) {
            enableCalculation = dataCat.ENABLE_CALC;
        }
    } else if (currLayout.BACK_COLOR) {

        backgroundColor = currLayout.BACK_COLOR;
        backgroundShade = currLayout.BACK_SHADE;
        customColorset = currLayout.CUSTOM_COLORSET;
        neptuneColorset = currLayout.NEPTUNE_COLORSET;

        if (currLayout.BACK_TYPE === sap.n.Layout.style.DEFAULT || currLayout.BACK_TYPE === sap.n.Layout.style.CARD || currLayout.BACK_TYPE === "") {
            enableCalculation = currLayout.ENABLE_CALC;
        }
    }

    if (!backgroundColor) {
        return;
    }

    if (enableCalculation) {
        switch (sap.n.Launchpad.backgroundShade) {

            case "ShadeA":
                sap.n.Launchpad.backgroundShade = "ShadeB";
                break;

            case "ShadeB":
                sap.n.Launchpad.backgroundShade = "ShadeC";
                break;

            case "ShadeC":
                sap.n.Launchpad.backgroundShade = "ShadeD";
                break;

            default:
                sap.n.Launchpad.backgroundShade = "ShadeA";
                break;
        }

        backgroundShade = sap.n.Launchpad.backgroundShade;
    }

    backgroundShade = backgroundShade.slice(backgroundShade.length - 1);

    if (customColorset) {
        styleClass = "cus" + backgroundColor + backgroundShade;
    } else if (neptuneColorset) {
        styleClass = "nep" + backgroundColor + backgroundShade;
    } else {
        styleClass = "sap" + backgroundColor + backgroundShade;
    }
    oBlockCell.addStyleClass(styleClass);

    setTimeout(function() {
        // UI5 framework won't remove the styleclass! So jQuery to the rescue
        $("#" + oBlockCell.getId()).removeClass("sapMFlexBoxBGTransparent");
        $("#" + oBlockCell.getId()).removeClass("sapMFlexBoxBGTranslucent");
    }, 1);

    return styleClass;
};

sap.n.Launchpad.scrollToTileGroup = function(tileGroupId) {

    var startCount = false;
    var remainingHeight = 0;
    var canvasHeight = $("#" + sap.n.Launchpad.currentTileGroupPage).height();

    $("#" + sap.n.Launchpad.tileGroupsInPage[sap.n.Launchpad.currentTileGroupPage].emptyTileGroupId).height(0);

    $.each(sap.n.Launchpad.tileGroupsInPage[sap.n.Launchpad.currentTileGroupPage].tileGroups, function(i, content) {
        if (content === tileGroupId) {
            startCount = true;
        }
        if (startCount) {
            var height = $("#" + content).outerHeight();
            remainingHeight += height;
        }
    });
    var extraHeight = canvasHeight - remainingHeight;
    if (extraHeight > 0) {
        $("#" + sap.n.Launchpad.tileGroupsInPage[sap.n.Launchpad.currentTileGroupPage].emptyTileGroupId).height(extraHeight);
    }

    setTimeout(function() {
        var pageCat = sap.ui.getCore().byId(sap.n.Launchpad.currentTileGroupPage);
        try {
            var element = document.querySelector("#" + tileGroupId);
            element.scrollIntoView();

        } catch (e) {}
    }, 50);
};

sap.n.Launchpad.buildTileApplication = function(config) {

    var pageID = config.pageID;
    var dataTile = config.dataTile;
    var tileWidth = config.tileWidth;
    var tileHeight = config.tileHeight;
    var dataCat = config.dataCat;

    var oBlockIcon;
    var appFill = (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.APPLICATION && dataTile.APP_FILL);

    // Fiori style tiles
    var tileClickable = dataCat.enableFiori || dataTile.FIORI_STYLE;

    var tileContainer = new sap.m.VBox("__nep" + ModelData.genID(), {}).addStyleClass("nepTileContainer");
    tileContainer.addStyleClass("nepTile" + tileWidth);

    if (!dataCat.enableCards && !dataCat.enableFiori) {
        tileContainer.addStyleClass("nepTilePlain");
    }

    if (dataTile.STYLECLASS) {
        tileContainer.addStyleClass(dataTile.STYLECLASS);
    }

    var oBlockCell = new sap.m.VBox("__nep" + ModelData.genID(), {
        backgroundDesign: "Translucent"
    }).addStyleClass("tile" + dataTile.GUID);

    tileContainer.addItem(oBlockCell);

    if (dataCat.enableCards) {
        oBlockCell.addStyleClass("nepTileCards");
    } else {
        oBlockCell.addStyleClass("nepTile");
    }
    if (tileHeight) {
        oBlockCell.addStyleClass("nepTile" + tileHeight);
    }
    if (dataTile.TILE_FRAMETYPE === "TwoByOne") {
        oBlockCell.addStyleClass("nepFioriStyleTwoByOne");
        tileContainer.addStyleClass("nepFioriStyleTwoByOne");
    }

    sap.n.Launchpad.setBackgroundShade(dataTile, dataCat, oBlockCell);

    var oBlockContentParent = new sap.m.VBox("__nep" + ModelData.genID(), {
        justifyContent: "SpaceBetween"
    }).addStyleClass("nepTileContentContainer");

    var oBlockContentTop = new sap.m.VBox("__nep" + ModelData.genID(), {}).addStyleClass("nepTileContentTop");

    oBlockCell.addItem(oBlockContentParent);
    oBlockContentParent.addItem(oBlockContentTop);

    if (appFill) {
        oBlockCell.addStyleClass("nepTileApplicationFill");
    } else {

        if (dataTile.TILE_TITLE) {

            // Title - Box
            var oBlockContentTitle = new sap.m.HBox("__nep" + ModelData.genID(), {
                width: "100%"
            }).addStyleClass("nepTileTitle");
            oBlockContentTop.addItem(oBlockContentTitle);

            // Title
            oBlockTitle = new sap.m.Text("__nep" + ModelData.genID(), {
                text: sap.n.Launchpad.translateTile("TILE_TITLE", dataTile)
            });
            if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].title.push(oBlockTitle);

            oBlockContentTitle.addItem(oBlockTitle);

            // Reverse if title at End
            if (dataTile.TITLE_ALIGN === "End") oBlockContentTop.setDirection("RowReverse");
        }

        if (dataTile.TILE_INFO) {

            // SubTitle - Box
            var oBlockContent = new sap.m.HBox("__nep" + ModelData.genID(), {
                width: "100%",
            }).addStyleClass("nepTileSubTitle");

            // Reverse if title at End
            if (dataTile.TITLE_ALIGN === "End") oBlockContent.setDirection("RowReverse");

            oBlockContentTop.addItem(oBlockContent);

            // SubTitle
            var oBlockInfo = new sap.m.Text("__nep" + ModelData.genID(), {
                text: sap.n.Launchpad.translateTile("TILE_INFO", dataTile)
            });
            if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].info.push(oBlockInfo);
            oBlockContent.addItem(oBlockInfo);
        }
    }

    var oBlockContentApp = new sap.m.Panel("__nep" + ModelData.genID(), {
        backgroundDesign: "Transparent"
    }).addStyleClass("sapUiNoContentPadding nepTileApplicationPanel");


    if (!appFill && (dataTile.TILE_TITLE || dataTile.TILE_INFO)) {
        oBlockContentApp.addStyleClass("sapUiTinyMarginTop");
    }

    oBlockContentTop.addItem(oBlockContentApp);

    // Load Application
    if (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.APPLICATION) {

        var startParams = {};
        try {
            startParams = JSON.parse(dataTile.APPLID_TILE_PARA);
        } catch (e) {}

        AppCache.Load(dataTile.APPLID_TILE, {
            load: "card",
            parentObject: oBlockContentApp,
            startParams: startParams,
        });
    }

    // Actions
    sap.n.Launchpad.buildTileAction({
        pageID: pageID,
        dataTile: dataTile,
        parent: oBlockContentParent,
        oBlockCell: oBlockCell,
        dataCat: dataCat
    });
    return tileContainer;
};

sap.n.Launchpad.buildEmptyContent = function() {

    var blockCell = new sap.ui.layout.BlockLayoutCell("__nep" + ModelData.genID(), {}).addStyleClass("tileEmpty");
    return blockCell;
};

sap.n.Launchpad.showNavBar = function() {
    return ((!sap.ui.Device.support.touch || sap.ui.Device.system.desktop) && !AppCache.hideSideMenu);
};

sap.n.Launchpad.getUserData = function(ajaxValue) {

    if (!ajaxValue) {
        ajaxValue = AppCache.CurrentConfig;
    }
    getOnlineGetUserData(ajaxValue);
};

sap.n.Launchpad.search = function(config) {

    var searchValue = config.searchValue || "";
    var filters = config.filters || [];
    var filterArr = [];

    var binding = ContentMenu.getBinding("items");

    // add filters if they were not created in the enhancement
    if (!Array.isArray(filters) || filters.length === 0) {

        // Use UI5 Filter to get results
        if (!!searchValue) {
            filterArr.push(new sap.ui.model.Filter({
                filters: [
                    new sap.ui.model.Filter("TILE_TITLE", "Contains", searchValue),
                    new sap.ui.model.Filter("TILE_INFO", "Contains", searchValue),
                    new sap.ui.model.Filter("TILE_FOOTER", "Contains", searchValue),
                    new sap.ui.model.Filter("TAGS", "Contains", searchValue)
                ],
                and: false
            }));
        }

        $.each(AppCacheShellSearchTags.getSelectedItems(), function(i, item) {
            filters.push(new sap.ui.model.Filter("TAGS", "Contains", item.getText()));
        });
    }

    if (Array.isArray(filters) && filters.length > 0) {
        filterArr.push(new sap.ui.model.Filter({
            filters: filters,
            and: true
        }));
    }

    binding.filter(filterArr);

    ContentMenu.expandToLevel(99);
    sap.n.Launchpad.setMenuActiveState();
};

sap.n.Launchpad.setStatusBarTextColor = function(clr) {
    if (clr === "Light") {
        StatusBar.styleLightContent();
    } else {
        StatusBar.styleDefault();
    }
};

sap.n.Launchpad.setStatusBarColors = function(layout) {

    if (typeof StatusBar !== "undefined") {

        try {
            StatusBar.overlaysWebView(false);

            var textColor = layout.STATUSBAR_COLOR || "Dark";

            if (layout.STATUSBAR_BACK) {

                if (layout.STATUSBAR_BACK && layout.STATUSBAR_BACK.indexOf("#") > -1) {
                    StatusBar.backgroundColorByHexString(layout.STATUSBAR_BACK);
                    sap.n.Launchpad.setStatusBarTextColor(textColor);

                } else {
                    StatusBar.backgroundColorByName(layout.STATUSBAR_BACK);
                    sap.n.Launchpad.setStatusBarTextColor(textColor);
                }
            } else {
                StatusBar.backgroundColorByHexString("#fff");
                sap.n.Launchpad.setStatusBarTextColor("Dark");
            }
        } catch (e) {
            console.error("Error @ sap.n.Launchpad.setStatusBarColors: " + layout.STATUSBAR_BACK + ", " + layout.STATUSBAR_COLOR);
        }
    }
};

sap.n.Launchpad.setAppWidthLimited = function(limit) {
    if (AppCache.isRestricted) {
        limit = false;
    }
    AppCacheShellUI.setAppWidthLimited(limit || false);
};

sap.n.Launchpad.setHeaderWidth = function(layout) {

    toolTopMenu.removeStyleClass("nepHeaderXXXLarge");
    toolTopMenu.removeStyleClass("nepHeaderXXLarge");
    toolTopMenu.removeStyleClass("nepHeaderXLarge");
    toolTopMenu.removeStyleClass("nepHeaderLarge");
    toolTopMenu.removeStyleClass("nepHeaderMedium");
    toolTopMenu.removeStyleClass("nepHeaderSmall");
    toolTopMenu.removeStyleClass("nepHeaderXSmall");

    if (!layout.HEADER_WIDTH) {
        toolTopMenu.addStyleClass("nepHeaderLarge");
    } else {
        toolTopMenu.addStyleClass("nepHeader" + layout.HEADER_WIDTH);
    }
};

sap.n.Launchpad.setShellWidth = function() {

    if (!currLayout) return;

    AppCacheShellUI.removeStyleClass("nepShellFull");
    AppCacheShellUI.removeStyleClass("nepShellXXXLarge");
    AppCacheShellUI.removeStyleClass("nepShellXXLarge");
    AppCacheShellUI.removeStyleClass("nepShellXLarge");
    AppCacheShellUI.removeStyleClass("nepShellLarge");
    AppCacheShellUI.removeStyleClass("nepShellMedium");
    AppCacheShellUI.removeStyleClass("nepShellSmall");
    AppCacheShellUI.removeStyleClass("nepShellXSmall");

    if (AppCacheNav.getCurrentPage().getId().indexOf("page") < 0 && !currLayout.SHELL_WIDTH_APP) {
        AppCacheShellUI.addStyleClass("nepShellLarge");
    } else if (currLayout.SHELL_WIDTH) {
        AppCacheShellUI.addStyleClass("nepShell" + currLayout.SHELL_WIDTH);
    }
};

sap.n.Launchpad.applyLayout = function(layout, init, preview, splash) {

    if (!layout) return;
    if (preview) {
        currLayout = null;
    }
    if (splash) {
        neptune.Splash.show();
        setTimeout(function() {
            neptune.Splash.hide();
        }, 2000);
    }

    // Statusbar
    sap.n.Launchpad.setStatusBarColors(layout);

    if (currLayout && currLayout.GUID === layout.GUID && $("#NeptuneStyleDiv").html() !== "") {
        return;
    }

    var style = neptune.Style.getLayoutCss({
        layout: layout,
        mediaUrl: AppCache.mediaUrl,
        isMobile: AppCache.isMobile,
        imageData: AppCache.imageData,
        isHCP: AppCache.isHCP
    });

    currLayout = layout;

    sap.n.Launchpad.setHeaderWidth(layout);
    sap.n.Launchpad.setShellWidth();

    AppCache.isFullWidth = (layout.SHELL_WIDTH === "Full");
    sap.n.Launchpad.setAppWidthLimited(!AppCache.isFullWidth);

    AppCacheShellLogoDesktop.setSrc(style.logoDesktop);
    AppCacheShellLogoMobile.setSrc(style.logoMobile);

    $("#NeptuneStyleDiv").html(style.css).trigger("create");

    // Rebuild current page
    if (!init) {
        cat = sap.n.Launchpad.currentTileGroupPage.split("page")[1];
        var dataCat = ModelData.Find(AppCacheTileGroup, "GUID", cat)[0];
        if (!dataCat) dataCat = ModelData.Find(AppCacheTileGroupSub, "GUID", cat)[0];
        if (dataCat) {
            sap.n.Launchpad.BuildTiles(dataCat);
        }
    }

    sap.n.Layout.setHeaderPadding();

    //Splash design
    if (layout.SPLASH_DESIGN) {
        neptune.Splash.setLayout({
            logo: layout.SPLASH_LOGO,
            spinnerType: layout.SPINNER_TYPE,
            spinnerMessage: layout.SPINNER_MESSAGE,
            backgroundColor: layout.SPLASH_BACKGROUND_COLOR,
            spinnerColor: layout.SPINNER_COLOR,
            spinnerSize: layout.SPINNER_SIZE,
        });
    } else {
        neptune.Splash.setLayout(AppCache.defaultSplash);
    }

    var baseTheme = AppCache.baseTheme;
    var theme = AppCache.defaultTheme;
    var themeRoot = AppCache.defaultThemeRoot;
    var themeBrightness = AppCache.themeBrightness;

    if (layout.THEME) {
        baseTheme = layout.BASE_THEME;
        theme = layout.THEME;
        themeRoot = layout.THEME_ROOT;
        themeBrightness = layout.THEME_BRIGHTNESS;
    }

    $("html").removeClass("nepBaseTheme-sap_bluecrystal");
    $("html").removeClass("nepBaseTheme-sap_belize");
    $("html").removeClass("nepBaseTheme-sap_belize_plus");
    $("html").removeClass("nepBaseTheme-sap_fiori_3");
    $("html").removeClass("nepBaseTheme-sap_fiori_3_dark");
    $("html").addClass("nepBaseTheme-" + baseTheme);

    $("html").removeClass("nepThemeLight");
    $("html").removeClass("nepThemeDark");
    $("html").removeClass("nepTheme");
    $("html").addClass("nepTheme" + themeBrightness);

    try {
        if (typeof themeRoot !== "undefined" && !!themeRoot) {
            themeRoot = cordova.file.applicationDirectory + "www" + themeRoot;
        }
    } catch (e) {}

    theme = theme.toLowerCase();

    if (theme !== sap.ui.getCore().getConfiguration().getTheme()) {

        if (typeof themeRoot !== "undefined" && !!themeRoot) {

            var themeUrl = themeRoot + "/sap/ui/core/themes/" + theme + "/library-parameters.json";

            $.ajax({
                type: "GET",
                url: themeUrl,
                success: function() {
                    sap.ui.getCore().applyTheme(theme, themeRoot);
                },
                error: function(code, reason, responseText) {

                    console.warn("Custom UI5 theme " + themeRoot + "/" + theme + " not found");
                    neptune.Splash.hide();
                    sap.n.Utils.MessageToast("Theme " + theme + " not found");
                }
            });

        } else {
            sap.ui.getCore().applyTheme(theme);
        }
    }
};

sap.n.Launchpad.getDefaultUserLayout = function() {

    if (!Array.isArray(modelAppCacheUserLayout.oData) || modelAppCacheUserLayout.oData.length === 0) {
        if (!Array.isArray(modelAppCacheUserLayout.oData) || modelAppCacheUserLayout.oData.length === 0) {
            try {
                var firstLayout = AppCache.layout[0];
                return firstLayout;
            } catch (e) {
                return {};
            }
        } else {
            return {};
        }
    }
    var resultArray = $.grep(AppCache.layout, function(layout, i) {
        return (layout.GUID === modelAppCacheUserLayout.oData[0].GUID);
    });
    if (resultArray.length > 0) {

        return resultArray[0];
    } else if (AppCache.layout.length > 0) {

        // user has access to no layout => take the top one
        return {
            GUID: AppCache.layout[0].GUID,
            NAME: AppCache.layout[0].NAME,
            SORT: 0
        };
    } else {
        return {};
    }
};

sap.n.Launchpad.applyUserTheme = function(init) {

    var themeLayout = null;

    if (Array.isArray(AppCache.layout) && AppCache.layout.length > 0) {

        var layout = JSON.parse(JSON.stringify(sap.n.Launchpad.getDefaultUserLayout()));

        if (modelAppCacheSettings.oData.UI5THEME) {

            themeLayout = $.grep(AppCache.layout, function(data, i) {
                return (data.GUID === modelAppCacheSettings.oData.UI5THEME);
            });
            if (Array.isArray(themeLayout) && themeLayout.length > 0) {
                themeLayout = themeLayout[0];
            } else {
                themeLayout = null;
            }
        }
        if (themeLayout) {
            layout = JSON.parse(JSON.stringify(themeLayout));
        }
        sap.n.Launchpad.applyLayout(layout);
    }
};

sap.n.Launchpad.SelectHomeMenu = function(oEvent) {

    if (sap.n.Launchpad.menu[0]) {
        var appBtn = sap.n.Launchpad.menu[0].element;

        // appBtn.press => HandleTilegroupPress
        if (appBtn) appBtn.firePress();
    }
};

sap.n.Launchpad.DeleteTimers = function() {

    for (var key in sap.n.Launchpad.Timers) {

        // skip loop if the property is from prototype
        if (!sap.n.Launchpad.Timers.hasOwnProperty(key)) continue;

        var obj = sap.n.Launchpad.Timers[key];
        var intTile = obj.timer;
        clearInterval(intTile);
    }
    sap.n.Launchpad.Timers = [];
};

sap.n.Launchpad.SetHeader = function() {

    if (sap.n.Launchpad.currentTile.GUID) {
        sap.n.Launchpad.setActiveIcon("but" + sap.n.Launchpad.currentTile.GUID);
    } else {
        sap.n.Launchpad.setActiveIcon();
    }
};

sap.n.Launchpad.HandleTilegroupSubPress = function(dataCat, subCatGuid) {

    location.hash = "";
    sap.n.Launchpad._HandleTilegroupSubPress(dataCat, subCatGuid);
};

sap.n.Launchpad._HandleTilegroupSubPress = function(dataCat, subCatGuid, hashData) {

    var _handle = function() {

        // Clear onBackButtonCustom event handler
        sap.n.Phonegap.onBackButtonCustom = null;
        sap.n.Launchpad.currentTile = {};
        AppCache.CurrentApp = "";

        var pageCatID = "page" + dataCat.GUID;
        if (sap.n.Launchpad.currentTileGroupPage !== pageCatID || sap.n.Launchpad.currentTile.GUID) {
            sap.n.Launchpad.BuildTiles(dataCat, subCatGuid);
        } else {
            sap.n.Launchpad.scrollToTileGroup("__nepSection" + dataCat.GUID + subCatGuid);
        }
        $.each(AppCacheAppButton.getItems(), function(i, item) {
            if (item.removeStyleClass) {
                item.removeStyleClass("nepTopMenuActive");
            }
        });
        sap.ui.getCore().byId("__nepTopMenu" + dataCat.GUID).addStyleClass("nepTopMenuActive");
    };
    if (sap.n.Application.beforeSuspend(sap.n.Application.event.menuNavigation, {
        menuId: dataCat.GUID,
        menuTxt: dataCat.MENU_TEXT,
        defaultAction: _handle
    })) return;

    _handle();
};

sap.n.Launchpad.HandleTilegroupPress = function(dataCat) {

    // hashnavigation never
    if (dataCat.NAV_ACTION && dataCat.NAV_OBJECT) {
        location.hash = dataCat.NAV_OBJECT + "-" + dataCat.NAV_ACTION;
    } else {
        location.hash = "";
        sap.n.Launchpad._HandleTilegroupPress(dataCat);
    }
};

sap.n.Launchpad._HandleTilegroupPress = function(dataCat, hashData, navObjEventHandler) {

    // called from HandleTilegroupPress and from the hash handler
    var _handle = function() {

        // Clear onBackButtonCustom event handler
        sap.n.Phonegap.onBackButtonCustom = null;
        sap.n.Launchpad.currentTile = {};
        AppCache.CurrentApp = "";

        AppCacheShellAppTitle.setVisible(false);
        AppCacheShellAppTitle.setText("");
        AppCacheShellAppTitle.setIcon("");
        AppCacheShellAppTitle.setType("Default");

        if (!$.isEmptyObject(hashData)) {
            dataCat.APPLID_PARAMS = hashData;
        }


        $.each(AppCacheAppButton.getItems(), function(i, item) {
            if (item.removeStyleClass) {
                item.removeStyleClass("nepTopMenuActive");
            }
        });
        sap.ui.getCore().byId("__nepTopMenu" + dataCat.GUID).addStyleClass("nepTopMenuActive");
        sap.n.Launchpad.BuildTiles(dataCat, null, false, navObjEventHandler);

        sap.n.Launchpad.overflowMenuClose();

        if (dataCat.NAV_USE_MENU) {

            sap.n.Launchpad.handleNavButton({
                dataLoad: {
                    applid: dataCat.APPLID,
                    appGUID: dataCat.GUID,
                    navTitle: dataCat.NAME,
                    navInfo: dataCat.SUBTITLE,
                    navIconSrc: dataCat.NAV_ICON,
                    navIconImg: dataCat.NAV_ICON_IMAGE,
                    navAction: function(oEvent) {
                        sap.n.Launchpad.HandleTilegroupPress(dataCat);
                    },
                    startParams: dataCat.APPLID_PARAMS || {},
                    navObjEventHandler: navObjEventHandler
                }
            });
        } else {
            sap.n.Launchpad.setActiveIcon();
        }
    };

    if (sap.n.Application.beforeSuspend(sap.n.Application.event.menuNavigation, {
        menuId: dataCat.GUID,
        menuTxt: dataCat.MENU_TEXT,
        defaultAction: _handle
    })) return;

    _handle();
};

sap.n.Launchpad.HandleTilePress = function(dataTile, dataCat) {

    if (dataTile.NAV_ACTION && dataTile.NAV_OBJECT) {
        sap.n.HashNavigation.dataCat = dataCat;
        sap.n.HashNavigation.noMenuNavigation = true;
        location.hash = dataTile.NAV_OBJECT + "-" + dataTile.NAV_ACTION;
    } else {
        sap.n.Launchpad._HandleTilePress(dataTile, dataCat, {}, {});
        location.hash = "";
    }
};

sap.n.Launchpad._HandleTilePress = function(dataTile, dataCat, hashData, navObjEventHandler) {

    var appTitle, appWidthLimited;
    var hashParams = null;

    // Any tile ?
    if (!dataTile) return;

    if (!$.isEmptyObject(hashData)) {
        hashParams = hashData;
        try {
            hashParams = JSON.parse(hashParams);
        } catch (e) {}
    } else if (dataTile.APPLID_PARAMS) {
        try {
            dataTile.APPLID_PARAMS = JSON.parse(dataTile.APPLID_PARAMS);
        } catch (e) {}
    } else {
        dataTile.APPLID_PARAMS = {};
    }

    // Avoid double start
    if (sap.n.Launchpad.currentTile && !sap.n.Launchpad.currentTile.URL_LONG) {
        if (sap.n.Launchpad.currentTile.GUID === dataTile.GUID) {
            return;
        }
    }

    sap.n.Launchpad.handleTileRun(dataTile);

    // Clear onBackButtonCustom event handler
    sap.n.Phonegap.onBackButtonCustom = null;

    AppCacheShellFavorites.setVisible(false);
    AppCacheShellHelp.setVisible(false);
    sap.n.Launchpad.contextType = "Menu";

    // Start SidePanel
    if (dataTile.APPLID_SIDEPANEL && !sap.ui.Device.system.phone) {
        sap.n.Shell.loadSidepanel(dataTile.APPLID_SIDEPANEL, dataTile.SIDEPANEL_TITLE);
    } else {
        sap.n.Shell.closeSidepanel();
    }

    // Set Title
    if (sap.ui.Device.system.phone || dataTile.TILE_INFO === "") {
        appTitle = dataTile.TILE_TITLE;
    } else {
        appTitle = dataTile.TILE_TITLE + " - " + dataTile.TILE_INFO;
    }

    // Set current tile
    if (dataTile.ACTION_TYPE === sap.n.Launchpad.action.URL) {

        // only set currentTile if URL is opened inside the Launchpad
        if (dataTile.URL_LONG) {
            sap.n.Launchpad.currentTile = dataTile;
        }

    } else if (dataTile.ACTION_TYPE === sap.n.Launchpad.action.APPLICATION) {

        // set currentTile if application is opened inside Launchpad.
        if (!dataTile.APP_DIALOG) {
            sap.n.Launchpad.currentTile = dataTile;
        }

    } else if (dataTile.ACTION_TYPE === sap.n.Launchpad.action.ABAP) {

        sap.n.Launchpad.currentTile = dataTile;
    }

    //***********************************************************************//
    // Application
    //***********************************************************************//
    if (dataTile.ACTION_TYPE === sap.n.Launchpad.action.APPLICATION) {

        sap.n.Launchpad._HandleTilePressApplication(dataTile, dataCat, hashParams, navObjEventHandler, appTitle);
    }

    //***********************************************************************//
    // External URL & SAP Transaction
    //***********************************************************************//
    else if (dataTile.ACTION_TYPE === sap.n.Launchpad.action.URL || dataTile.ACTION_TYPE === sap.n.Launchpad.action.TRANSACTION) {

        if (dataTile.ACTION_TYPE === sap.n.Launchpad.action.TRANSACTION) {
            dataTile = sap.n.Launchpad._HandleTilePressSapTransaction(dataTile);
        }
        sap.n.Launchpad._HandleTilePressExternalUrl(dataTile, dataCat, navObjEventHandler, appTitle);
    }

    //***********************************************************************//
    // Tile Group
    //***********************************************************************//
    else if (dataTile.ACTION_TYPE === sap.n.Launchpad.action.TILEGROUP) {

        sap.n.Launchpad._HandleTilePressTilegroup(dataTile);
    }

    //***********************************************************************//
    // Store Item
    //***********************************************************************//
    else if (dataTile.ACTION_TYPE === sap.n.Launchpad.action.STORE) {

        sap.n.Launchpad._HandleTilePressStore(dataTile, dataCat, navObjEventHandler);
    }

    //***********************************************************************//
    // ABAP SE38 Report with variant
    //***********************************************************************//
    else if (dataTile.ACTION_TYPE === sap.n.Launchpad.action.ABAP) {

        sap.n.Launchpad._HandleTilePressAbap(dataTile, dataCat, hashParams, navObjEventHandler);
    }
};

sap.n.Launchpad._HandleTilePressApplication = function(dataTile, dataCat, hashParams, navObjEventHandler, appTitle) {

    if (dataTile.APP_DIALOG) {
        AppCache.Load(dataTile.APPLID, {
            appGUID: dataTile.GUID,
            dialogShow: true,
            dialogTitle: appTitle,
            dialogHeight: dataTile.DIALOG_HEIGHT || "90%",
            dialogWidth: dataTile.DIALOG_WIDTH || "1200px",
            startParams: dataTile.APPLID_PARAMS,
            hashParams: hashParams,
            enableDoc: dataTile.ENABLE_DOC,
            navObjEventHandler: navObjEventHandler,
            navTitle: dataTile.TILE_TITLE || dataTile.NAME
        });
        sap.n.Launchpad.contextType = "Tile";
        sap.n.Launchpad.contextTile = dataTile;
        location.hash = "";
    } else {

        // Start App
        sap.n.Launchpad.handleNavButton({
            dataTile: dataTile,
            dataCat: dataCat,
            startParams: dataTile.APPLID_PARAMS,
            navObjEventHandler: navObjEventHandler
        });

        var appWidthLimited = true;
        if (AppCache.isFullWidth) {
            appWidthLimited = false;
        } else if (dataTile.URL_EXPAND || dataTile.APP_FULL_SCREEN) {
            appWidthLimited = false;
        }

        AppCache.Load(dataTile.APPLID, {
            appGUID: dataTile.GUID,
            enableDoc: dataTile.ENABLE_DOC,
            startParams: dataTile.APPLID_PARAMS,
            hashParams: hashParams,
            navObjEventHandler: navObjEventHandler,
            navTitle: dataTile.TILE_TITLE || dataTile.NAME,
            appWidthLimited: appWidthLimited
        });

        sap.n.Launchpad.setAppWidthLimited(appWidthLimited);

        // Sidepanel User Assistance
        if (dataTile.ENABLE_DOC && typeof AppCacheShellHelp !== 'undefined') {
            AppCacheShellHelp.setVisible(true);
        }
    }
},

sap.n.Launchpad._HandleTilePressSapTransaction = function(dataTile) {

    //SAPGUI
    if (isLaunchpadGUI) {

        sap.n.Launchpad.currentTile = {};

        // SAPGUI Transaction
        if (dataTile.SAP_TRANS_WINDOW) {
            sap.m.URLHelper.redirect("SAPEVENT:X:" + dataTile.SAP_TRANS + '|' + dataTile.SAP_TRANS_RFC, false);
        } else {
            sap.m.URLHelper.redirect("SAPEVENT:S:" + dataTile.SAP_TRANS + '|' + dataTile.SAP_TRANS_RFC, false);
        }
    }

    // WEBGUI
    else {

        dataTile.URL_LONG = AppCache.Url + '/sap/bc/gui/sap/its/webgui?~transaction=' + dataTile.SAP_TRANS;
        dataTile.URL_WINDOW = dataTile.SAP_TRANS_WINDOW;
    }
    if (AppCache.busyTile) {
        AppCache.busyTile.setBusy(false);
    }
    return dataTile;
},

sap.n.Launchpad._HandleTilePressExternalUrl = function(dataTile, dataCat, navObjEventHandler, appTitle) {

    // Get URl Parameters from neptune Launchpad URL
    var hashURL = location.href;
    var semIndex = hashURL.lastIndexOf('#'); // Break to get semantic object - config recommended
    hashURL = hashURL.substr(semIndex);
    var regex1 = /[&?]/g;
    var array1 = regex1.exec(hashURL); // get URL Parameters afere Semantic Object

    if (regex1.lastIndex > 0) {
        var urlParams = hashURL.substr(regex1.lastIndex - 1); // Pass variable urlParams along with dataTile.URL_LONG (concatenate)
        dataTile.URL_LONG = dataTile.URL_LONG + urlParams;
    }

    if (dataTile.URL_WINDOW) {

        if (sap.ui.Device.os.name == 'Android' || sap.ui.Device.os.name == 'iOS' || sap.ui.Device.os.name == 'winphone') {
            window.open(dataTile.URL_LONG, "_blank", "location=0,status=0");
        } else {
            sap.m.URLHelper.redirect(dataTile.URL_LONG, dataTile.URL_WINDOW);
        }
        location.hash = "";

    } else if (dataTile.URL_DIALOG) {
        sap.n.Shell.openUrl(dataTile.URL_LONG, {
            dialogTitle: appTitle
        });
        location.hash = "";

    } else {

        sap.n.Launchpad.handleNavButton({
            dataTile: dataTile,
            dataCat: dataCat,
            startParams: dataTile.APPLID_PARAMS,
            navObjEventHandler: navObjEventHandler
        });
        AppCacheNav.to(AppCache_boxURL);

        if (AppCache.isFullWidth) {
            sap.n.Launchpad.setAppWidthLimited(false);
        } else if (dataTile.URL_EXPAND) {
            sap.n.Launchpad.setAppWidthLimited(false);
        } else {
            sap.n.Launchpad.setAppWidthLimited(true);
        }

        // Hide All
        var children = $("#AppCache_URLDiv").children();

        $.each(children, function(i, data) {
            data.style.display = 'none';
        });

        // Check If element exist > Display or Create
        var element = document.getElementById("iFrame" + dataTile.GUID);

        if (element) {
            element.style.display = 'block';
        } else {
            $("#AppCache_URLDiv").append("<iframe id='iFrame" + dataTile.GUID + "' frameborder='0' height='100%' width='100%' src='" + dataTile.URL_LONG + "'></iframe>");
        }
    }

    if (AppCache.busyTile) AppCache.busyTile.setBusy(false);
},

sap.n.Launchpad._HandleTilePressTilegroup = function(dataTile) {

    var tileGroup = ModelData.Find(AppCacheTileGroup, "GUID", dataTile.TILEGROUP)[0];
    if (!tileGroup) {
        tileGroup = ModelData.Find(AppCacheTileGroupSub, "GUID", dataTile.TILEGROUP)[0];
    }

    if (tileGroup) {
        sap.n.Launchpad.BuildTiles(tileGroup);
    } else {
        sap.m.MessageToast.show("Tile Group not found!");
    }

    if (AppCache.busyTile) AppCache.busyTile.setBusy(false);
},

sap.n.Launchpad._HandleTilePressStore = function(dataTile, dataCat, navObjEventHandler) {

    sap.n.Launchpad.handleNavButton({
        dataTile: dataTile,
        dataCat: dataCat,
        startParams: dataTile.APPLID_PARAMS,
        navObjEventHandler: navObjEventHandler
    });

    getOnlineGetMobileClient(dataTile.MOBILE_CLIENT + '|' + sap.ui.Device.os.name);
},

sap.n.Launchpad._HandleTilePressAbap = function(dataTile, dataCat, hashParams, navObjEventHandler) {

    var startVariant = dataTile.ABAP_VARIANT;
    var skipSelScreen = dataTile.ABAP_SKIP_SEL;

    if (!sap.ui.Device.system.desktop) {
        startVariant = dataTile.ABAP_VARIANT_MOB;
        skipSelScreen = dataTile.ABAP_SKIP_SELMOB;
    }

    // Start App
    sap.n.Launchpad.handleNavButton({
        dataTile: dataTile,
        dataCat: dataCat,
        startParams: dataTile.APPLID_PARAMS,
        navObjEventHandler: navObjEventHandler
    });

    var appWidthLimited = true;
    if (AppCache.isFullWidth) {
        appWidthLimited = false;
    } else if (dataTile.URL_EXPAND || dataTile.APP_FULL_SCREEN) {
        appWidthLimited = false;
    }

    AppCache.Load("/NEPTUNE/ABAP_REPORT", {
        appGUID: dataTile.GUID,
        enableDoc: dataTile.ENABLE_DOC,
        startParams: {
            program: dataTile.ABAP_REPORT,
            startVariant: startVariant,
            skipSelScreen: skipSelScreen
        },
        hashParams: hashParams,
        navObjEventHandler: navObjEventHandler,
        navTitle: dataTile.TILE_TITLE || dataTile.NAME,
        appWidthLimited: appWidthLimited
    });

    sap.n.Launchpad.setAppWidthLimited(appWidthLimited);

    // Sidepanel User Assistance
    if (dataTile.ENABLE_DOC && typeof AppCacheShellHelp !== 'undefined') {
        AppCacheShellHelp.setVisible(true);
    }
},

sap.n.Launchpad.buildDynamicContent = function(config) {

    var dataTile = config.dataTile;
    var parent = config.parent;
    var parentPanel = config.parentPanel;
    var fioriStyle = config.fioriStyle;

    var newChart;

    switch (dataTile.DYNAMIC_TYPE) {

        case "ComparisonChart":

            newChart = new sap.suite.ui.microchart.ComparisonMicroChart("__nep" + ModelData.genID(), {
                shrinkable: false,
                width: "100%"
            });
            if (dataTile.TILE_VALUE1) {
                newChart.addData(new sap.suite.ui.microchart.ComparisonMicroChartData("__nep" + ModelData.genID(), {
                    color: dataTile.TILE_COLOR1 || "Neutral",
                    title: dataTile.TILE_TITLE1,
                    value: parseInt(dataTile.TILE_VALUE1)
                }));
            }
            if (dataTile.TILE_VALUE2) {
                newChart.addData(new sap.suite.ui.microchart.ComparisonMicroChartData("__nep" + ModelData.genID(), {
                    color: dataTile.TILE_COLOR2 || "Neutral",
                    title: dataTile.TILE_TITLE2,
                    value: parseInt(dataTile.TILE_VALUE2)
                }));
            }
            if (dataTile.TILE_VALUE3) {
                newChart.addData(new sap.suite.ui.microchart.ComparisonMicroChartData("__nep" + ModelData.genID(), {
                    color: dataTile.TILE_COLOR3 || "Neutral",
                    title: dataTile.TILE_TITLE3,
                    value: parseInt(dataTile.TILE_VALUE3)
                }));
            }
            newChart.setTooltip(" ");

            if (parentPanel) {
                parentPanel.addContent(newChart);
            } else {
                parent.addItem(sap.n.Launchpad.microchartAddToTile(newChart, dataTile));
            }
            break;

        case "HarveyBallMicroChart":

            newChart = new sap.suite.ui.microchart.HarveyBallMicroChart("__nep" + ModelData.genID(), {
                total: parseInt(dataTile.TILE_VALUE1),
                totalLabel: dataTile.TILE_TITLE1,
                totalScale: dataTile.TILE_TITLE3,
                width: "100%"
            });
            if (dataTile.TILE_VALUE2) {
                columnData = new sap.suite.ui.microchart.HarveyBallMicroChartItem("__nep" + ModelData.genID(), {
                    fraction: parseInt(dataTile.TILE_VALUE2),
                    fractionLabel: dataTile.TILE_TITLE2,
                    color: dataTile.TILE_COLOR2 || "Neutral"
                });
                newChart.addItem(columnData);
            }
            newChart.setTooltip(" ");

            if (parentPanel) {
                parentPanel.addContent(newChart);
            } else {
                parent.addItem(sap.n.Launchpad.microchartAddToTile(newChart, dataTile));
            }
            break;

        case 'BulletMicroChart':

            newChart = new sap.suite.ui.microchart.BulletMicroChart("__nep" + ModelData.genID(), {
                actualValueLabel: dataTile.TILE_TITLE1,
                forecastValue: parseInt(dataTile.TILE_VALUE2),
                targetValue: parseInt(dataTile.TILE_VALUE3),
                maxValue: parseInt(dataTile.TILE_NUMBER),
                minValue: 0,
                width: "100%"
            });
            if (dataTile.TILE_VALUE1) {
                columnData = new sap.suite.ui.microchart.BulletMicroChartData("__nep" + ModelData.genID(), {
                    color: dataTile.TILE_COLOR1 || "Neutral",
                    value: parseInt(dataTile.TILE_VALUE1)
                });
                newChart.setActual(columnData);
            }

            newChart.setTooltip(" ");

            if (parentPanel) {
                parentPanel.addContent(newChart);
            } else {
                parent.addItem(sap.n.Launchpad.microchartAddToTile(newChart, dataTile));
            }
            break;

        case 'ColumnMicroChart':

            newChart = new sap.suite.ui.microchart.ColumnMicroChart("__nep" + ModelData.genID(), {
                width: "100%"
            });

            if (dataTile.TILE_VALUE1) {
                newChart.addColumn(new sap.suite.ui.microchart.ColumnMicroChartData("__nep" + ModelData.genID(), {
                    color: dataTile.TILE_COLOR1 || "Neutral",
                    value: parseInt(dataTile.TILE_VALUE1),
                }));
            }
            if (dataTile.TILE_VALUE2) {
                newChart.addColumn(new sap.suite.ui.microchart.ColumnMicroChartData("__nep" + ModelData.genID(), {
                    color: dataTile.TILE_COLOR2 || "Neutral",
                    value: parseInt(dataTile.TILE_VALUE2),
                }));
            }
            if (dataTile.TILE_VALUE3) {
                newChart.addColumn(new sap.suite.ui.microchart.ColumnMicroChartData("__nep" + ModelData.genID(), {
                    color: dataTile.TILE_COLOR3 || "Neutral",
                    value: parseInt(dataTile.TILE_VALUE3),
                }));
            }

            newChart.setTooltip(" ");

            if (parentPanel) {
                parentPanel.addContent(newChart);
            } else {
                parent.addItem(sap.n.Launchpad.microchartAddToTile(newChart, dataTile));
            }
            break;

        case 'RadialMicroChart':

            newChart = new sap.suite.ui.microchart.RadialMicroChart("__nep" + ModelData.genID(), {
                total: parseInt(dataTile.TILE_VALUE3) || 0,
                fraction: parseInt(dataTile.TILE_VALUE2) || 0,
                percentage: parseInt(dataTile.TILE_VALUE1) || 0,
                valueColor: dataTile.TILE_COLOR1 || "Neutral",
            });
            newChart.setTooltip(" ");

            if (parentPanel) {
                parentPanel.addContent(newChart);
            } else {
                parent.addItem(sap.n.Launchpad.microchartAddToTile(newChart, dataTile));
            }
            break;

        case 'DeltaMicroChart':

            newChart = new sap.suite.ui.microchart.DeltaMicroChart("__nep" + ModelData.genID(), {
                value1: parseInt(dataTile.TILE_VALUE1),
                value2: parseInt(dataTile.TILE_VALUE2),
                title1: dataTile.TILE_TITLE1,
                title2: dataTile.TILE_TITLE2,
                displayValue1: dataTile.TILE_VALUE1,
                displayValue2: dataTile.TILE_VALUE2,
                deltaDisplayValue: dataTile.TILE_VALUE3,
                color: dataTile.TILE_COLOR1 || "Neutral",
            });
            newChart.setTooltip(" ");

            if (parentPanel) {
                parentPanel.addContent(newChart);
            } else {
                parent.addItem(sap.n.Launchpad.microchartAddToTile(newChart, dataTile));
            }
            break;

        case 'NumericContent':

            var chartIconSrc = (dataTile.ICON_INLINE) ? "" : dataTile.TILE_ICON;

            newChart = new sap.m.NumericContent("__nep" + ModelData.genID(), {
                nullifyValue: false,
                truncateValueTo: 30,
                indicator: dataTile.TILE_INDICATOR || 'None',
                valueColor: dataTile.TILE_VALUECOLOR || 'Neutral',
                value: dataTile.TILE_NUMBER,
                icon: chartIconSrc || '',
                scale: dataTile.TILE_UNIT
            });

            newChart.setTooltip(" ");

            if (parentPanel) {
                parentPanel.addContent(newChart);
            } else {
                parent.addItem(sap.n.Launchpad.microchartAddToTile(newChart, dataTile));
            }
            break;

        default:
            break;
    }

    // Title
    if (dataTile.TILE_TITLE && sap.n.Launchpad.tileContent[dataTile.GUID]) {

        $.each(sap.n.Launchpad.tileContent[dataTile.GUID].title, function(i, title) {
            title.setText(dataTile.TILE_TITLE);
        });
    }
    // SubTitle
    if (dataTile.TILE_INFO && sap.n.Launchpad.tileContent[dataTile.GUID]) {

        $.each(sap.n.Launchpad.tileContent[dataTile.GUID].info, function(i, info) {
            info.setText(dataTile.TILE_INFO);
        });
    }
    // Icon
    if (dataTile.TILE_ICON && sap.n.Launchpad.tileContent[dataTile.GUID]) {

        $.each(sap.n.Launchpad.tileContent[dataTile.GUID].icon, function(i, icon) {
            icon.setSrc(dataTile.TILE_ICON);
        });
    }
    // Footer
    if (dataTile.TILE_FOOTER && sap.n.Launchpad.tileContent[dataTile.GUID]) {

        $.each(sap.n.Launchpad.tileContent[dataTile.GUID].footer, function(i, footer) {
            footer.setText(dataTile.TILE_FOOTER);
        });
    }
};

sap.n.Launchpad.buildSlideTile = function(config) {

    var pageID = config.pageID;
    var dataTile = config.dataTile;
    var oBlockCell = config.oBlockCell;
    var dataCat = config.dataCat;
    var ajaxHeader = $.ajaxSettings.headers;

    $.ajaxSettings.headers = {};

    // Get RSS Feed
    var url = AppCache.Url.split(":")[0] + "://api.rss2json.com/v1/api.json?rss_url=" + encodeURIComponent(dataTile.TILE_CONTENT);
    $.ajax({
        url: url,
        method: "GET",
        dataType: "json",
        success: function(data) {
            if (data) {

                var tileClickable = dataCat.enableFiori || dataTile.FIORI_STYLE;
                var sliderId = "__nep" + ModelData.genID();

                sap.n.Launchpad.slickAction[sliderId] = [];

                var oBlockContentParent = new sap.m.VBox("__nep" + ModelData.genID(), {
                    justifyContent: "SpaceBetween",
                    width: "100%"
                }).addStyleClass("nepTileContentContainer");
                oBlockCell.addItem(oBlockContentParent);

                var oBlockContentTop = new sap.m.VBox("__nep" + ModelData.genID()).addStyleClass("nepTileContentTop");
                oBlockContentParent.addItem(oBlockContentTop);

                // Title - Box
                var oBlockContentTitle = new sap.m.VBox("__nep" + ModelData.genID(), {
                    width: "100%"
                }).addStyleClass("nepTileTitle");
                oBlockContentTop.addItem(oBlockContentTitle);

                // Title
                oBlockTitle = new sap.m.Text("__nep" + ModelData.genID(), {
                    text: sap.n.Launchpad.translateTile("TILE_TITLE", dataTile)
                });
                if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].title.push(oBlockTitle);
                oBlockContentTitle.addItem(oBlockTitle);

                // SubTitle - Box
                var oBlockContent = new sap.m.VBox("__nep" + ModelData.genID(), {
                    width: "100%",
                }).addStyleClass("nepTileSubTitle");

                // Reverse if title at End
                if (dataTile.TITLE_ALIGN === "End") oBlockContent.setDirection("RowReverse");

                oBlockContentTop.addItem(oBlockContent);

                // Info
                var oBlockInfo = new sap.m.Text("__nep" + ModelData.genID(), {
                    text: sap.n.Launchpad.translateTile("TILE_INFO", dataTile)
                });
                if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].info.push(oBlockInfo);
                oBlockContent.addItem(oBlockInfo);

                var slickSlider = new sap.m.FlexBox(sliderId, {
                    width: "100%",
                    height: "100%"
                }).addStyleClass("nepFeed");
                oBlockContentParent.addItem(slickSlider);

                // build a block for each feed item
                $.each(data.items, function(i, item) {

                    sap.n.Launchpad.slickAction[sliderId].push(function() {
                        window.open(item.guid, "location=0,status=0");
                    });

                    var layoutSlideContent = new sap.m.VBox("__nep" + ModelData.genID(), {
                        height: "100%",
                        width: "100%"
                    }).addStyleClass("nepFeedTitle");
                    slickSlider.addItem(layoutSlideContent);

                    layoutSlideContent.addItem(new sap.m.Text("__nep" + ModelData.genID(), {
                        text: item.title
                    }));

                    var layoutFooter = new sap.m.HBox("__nep" + ModelData.genID(), {
                        justifyContent: "End",
                        alignItems: "Center",
                    }).addStyleClass("nepTileFooter");
                    layoutSlideContent.addItem(layoutFooter);

                    var footer = new sap.m.Text("__nep" + ModelData.genID(), {
                        text: item.pubDate,
                        textAlign: sap.ui.core.TextAlign.Right
                    });
                    if (tileClickable) {
                        footer.addStyleClass("nepTileClickable");
                    }

                    layoutFooter.addItem(footer);
                });

                if (tileClickable) {

                    if (dataTile.ACTION_TYPE !== sap.n.Launchpad.action.NOACTION || dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.SLIDETILE) {
                        oBlockCell.attachBrowserEvent("tap", function(e) {
                            sap.n.Launchpad.slickAction[sliderId][$("#" + sliderId).slick("slickCurrentSlide")]();
                        });
                    }

                } else {

                    // build tile action buttons for each block
                    sap.n.Launchpad.buildTileAction({
                        pageID: pageID,
                        dataTile: dataTile,
                        parent: oBlockContentParent,
                        oBlockCell: oBlockCell,
                        dataCat: dataCat,
                        feed: true,
                        butStartFn: function() {
                            sap.n.Launchpad.slickAction[sliderId][$("#" + sliderId).slick("slickCurrentSlide")]();
                        }
                    });
                }

                slickSlider.onAfterRendering = function(e) {
                    try {
                        $("#" + sliderId).slick({
                            dots: false,
                            arrows: false,
                            autoplay: true,
                            autoplaySpeed: 4000
                        });
                    } catch (e) {
                        $("#" + sliderId).css("display", "none"); // rss feed not supported
                    }
                };
            }
        },
        error: function(xhr, status, error) {
            console.warn("sap.n.Launchpad.buildSlideTile: AJAX error getting " + url);
        }
    });

    $.ajaxSettings.headers = ajaxHeader;
};

sap.n.Launchpad.microchartAddToTile = function(chart, dataTile) {

    var panChart = new sap.m.Panel("__nep" + ModelData.genID(), {
        backgroundDesign: "Transparent"
    }).addStyleClass("sapUiNoContentPadding nepPanChart");

    if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].chart.push(panChart);
    panChart.addContent(chart);

    // Start Timer
    sap.n.Launchpad.tileSetTimers(dataTile);
    return panChart;
};

sap.n.Launchpad.handleRunListApp = function(dataTile) {

    // Get Data from Run List
    var rec = ModelData.Find(AppCacheTilesRun, "id", dataTile.id)[0];

    // Update counter
    if (rec) {
        rec.sort = parseInt(rec.sort) + 1;
    } else {
        rec = dataTile;
        rec.sort = 1;
    }

    // Update Run List
    ModelData.Update(AppCacheTilesRun, "id", dataTile.id, rec);

    // Fix
    if (!modelAppCacheTilesRun.oData.length) modelAppCacheTilesRun.setData([]);

    // Only Last 10
    var sorted = modelAppCacheTilesRun.oData.sort(function(a, b) {
        if (a.sort > b.sort)
            return -1;
        if (a.sort < b.sort)
            return 1;
        return 0;
    });

    modelAppCacheTilesRun.setData(sorted.splice(0, 10));
    setCacheAppCacheTilesRun();
};

sap.n.Launchpad.handleTileRun = function(dataTile) {

    // Get Data from Run List
    var rec = ModelData.Find(AppCacheTilesRun, "GUID", dataTile.GUID)[0];

    // Update counter
    if (rec) {
        rec.SORT = parseInt(rec.SORT) + 1;
    } else {
        rec = dataTile;
        rec.SORT = 1;
    }

    // Update Run List
    ModelData.Update(AppCacheTilesRun, "GUID", dataTile.GUID, rec);

    // Only Last 10
    var sorted = modelAppCacheTilesRun.oData.sort(function(a, b) {
        if (a.SORT > b.SORT)
            return -1;
        if (a.SORT < b.SORT)
            return 1;
        return 0;
    });

    modelAppCacheTilesRun.setData(sorted.splice(0, 10));
    setCacheAppCacheTilesRun();
};

sap.n.Launchpad.isMenuPage = function() {

    var id = AppCacheNav.getCurrentPage().sId;
    id = id.split("page")[1];

    if (id) {
        return true;
    } else {
        return false;
    }
};

sap.n.Launchpad.setMenuPage = function(dataCat) {

    var appWidthLimited = !AppCache.isFullWidth;
    sap.n.Launchpad.setAppWidthLimited(appWidthLimited);

    // Close Help
    AppCacheShellHelp.setVisible(false);
    sap.n.Shell.closeSidepanel();

    // Clear currentTile
    sap.n.Launchpad.currentTile = {};

    // Title
    sap.n.Launchpad.SetHeader();
};

sap.n.Launchpad.handleFavRedraw = function() {

    // Rebuild Page if on Fav Tile Group
    var cat = AppCacheNav.getCurrentPage().sId;
    cat = cat.split("page")[1];

    var dataCat = ModelData.Find(AppCacheTileGroup, "GUID", cat)[0];
    if (!dataCat) {
        dataCat = ModelData.Find(AppCacheTileGroupSub, "GUID", cat)[0];
    }

    if (dataCat) {

        var page = AppCacheNav.getCurrentPage();
        sap.n.Launchpad.removeFavButtons(page.getId());
        AppCacheNav.removePage(page);
        page.destroy();
        page = null;
        sap.n.Launchpad.BuildMenu(dataCat);
    }

    sap.n.Launchpad.saveFav();
};

sap.n.Launchpad.saveFav = function() {

    var favList = modelAppCacheTilesFav.oData.map(function(fav) {
        return {
            GUID: fav.GUID,
            BACK_TYPE: fav.BACK_TYPE,
            FORCE_ROW: fav.FORCE_ROW
        };
    });

    setCacheAppCacheTilesFav();
    getOnlineSaveFav();
};

sap.n.Launchpad.setHideHeader = function(hideHeader) {

    if (hideHeader) {
        topMenu.setHeight("0px");
    } else {
        topMenu.setHeight("48px");
    }
};

sap.n.Launchpad.setActiveIcon = function(sId) {

    if (AppCache.openAppsHeader) {
        $.each(AppCacheShellOpenApps.getItems(), function(i, item) {
            item.removeStyleClass("nepTopMenuActive");
        });
        var tileButton = sap.ui.getCore().byId(sId);
        if (tileButton) {
            tileButton.addStyleClass("nepTopMenuActive");
        }
    } else {

        var overflow;

        $.each(blockRunningRow.getItems(), function(i, data) {
            if (data.sId === sId) {
                data.addStyleClass("nepIconActive");
                overflow = sap.ui.getCore().byId(data.sId + "-overflow");
                if (overflow) overflow.addStyleClass("nepIconActive");
            } else {
                data.removeStyleClass("nepIconActive");
                overflow = sap.ui.getCore().byId(data.sId + "-overflow");
                if (overflow) overflow.removeStyleClass("nepIconActive");
            }
        });
    }
};

sap.n.Launchpad._createNavItem = function(obj) {

    var butIcon, browserEventFn, textTitle, textSubTitle;
    var config = obj.config;
    var navId = obj.navId;
    var dataCat = obj.dataCat;
    var dataTile = obj.dataTile;
    var navAction = obj.navAction;
    var navObjEventHandler = obj.navObjEventHandler;

    if (navAction) {

        browserEventFn = function(oEvent) {

            var _handle = function() {

                sap.n.Launchpad.currentTile = {};
                AppCache.CurrentApp = "";

                navAction(oEvent);
                sap.n.Launchpad.setActiveIcon(navId);
            };

            if (sap.n.Application.beforeSuspend(sap.n.Application.event.openAppNavigation, {
                appId: dataTile.APPLID,
                appName: dataTile.TILE_TITLE || dataTile.NAME,
                defaultAction: _handle
            })) return;

            _handle();

        };
    } else if (config.dataLoad) {

        browserEventFn = function(oEvent) {

            var _handle = function() {

                clearTimeout(navBarTimeout);
                sap.n.Launchpad.setActiveIcon(navId);
                sap.n.Launchpad.currentTile = dataTile;

                AppCache.Load(dataTile.APPLID, {
                    appGUID: dataTile.GUID,
                    navTitle: config.dataLoad.navTitle,
                    appWidthLimited: config.dataLoad.appWidthLimited

                });
                location.hash = "";
                sap.n.Launchpad.setAppWidthLimited(config.dataLoad.appWidthLimited);
            };

            if (sap.n.Application.beforeSuspend(sap.n.Application.event.openAppNavigation, {
                appId: dataTile.APPLID,
                appName: dataTile.TILE_TITLE || dataTile.NAME,
                defaultAction: _handle
            })) return;

            _handle();
        };

    } else {

        browserEventFn = function(oEvent) {

            var _handle = function() {

                clearTimeout(navBarTimeout);
                sap.n.Launchpad.setActiveIcon(navId);

                AppCache.CurrentApp = "";
                sap.n.Launchpad.currentTile = {};

                sap.n.Launchpad.HandleTilePress(dataTile, dataCat);
            };

            if (sap.n.Application.beforeSuspend(sap.n.Application.event.openAppNavigation, {
                appId: dataTile.APPLID,
                appName: dataTile.TILE_TITLE || dataTile.NAME,
                defaultAction: _handle
            })) return;

            _handle();
        };
    }

    navObjEventHandler.updateNavigationItemFn = function(config) {
        if (!config) return;

        if (config.title) {

            if (sap.n.Launchpad.tileContent[dataTile.GUID]) {
                $.each(sap.n.Launchpad.tileContent[dataTile.GUID].title, function(i, title) {
                    title.setText(config.title);
                });
            }
            var overflowButton = sap.ui.getCore().byId("__nepOpenApp" + dataTile.GUID);
            if (overflowButton) {
                overflowButton.setText(config.title);
            }
        }
        if (config.subTitle && sap.n.Launchpad.tileContent[dataTile.GUID]) {
            $.each(sap.n.Launchpad.tileContent[dataTile.GUID].info, function(i, info) {
                info.setText(config.subTitle);
            });
        }
    };

    return browserEventFn;
};

sap.n.Launchpad._createMouseOverMenuPopup = function(obj) {

    var dataTile = obj.dataTile;
    var overflowBlock = obj.overflowBlock;
    var style = obj.style;
    var offsetX = obj.offsetX;
    var offsetY = obj.offsetY;
    var placement = obj.placement;

    var openAppPop = new sap.m.Popover("but" + dataTile.GUID + "-popup", {
        bounce: false,
        horizontalScrolling: false,
        modal: false,
        offsetX: offsetX,
        offsetY: offsetY,
        placement: placement,
        showArrow: false,
        showHeader: false,
        verticalScrolling: false
    }).addStyleClass(style);

    var blockAppPop = new sap.m.FlexBox("__nep" + ModelData.genID(), {
        fitContainer: true,
        renderType: "Bare"
    });
    openAppPop.addContent(blockAppPop);

    var blockRowAppPop = new sap.m.VBox("__nep" + ModelData.genID(), {}).addStyleClass("nepContainerOpenApps");
    openAppPop.addContent(blockAppPop);

    blockAppPop.addItem(blockRowAppPop);
    blockRowAppPop.addItem(overflowBlock);

    sap.n.Launchpad.openAppPops[overflowBlock.getId()] = overflowBlock;

    // draw the popup in the DOM, so that it is ready instantly when mouse over!
    openAppPop.openBy(AppCacheShellMenuOverflow);
    openAppPop.close();

    return openAppPop;
};

sap.n.Launchpad._createMouseOverMenuButton = function(obj) {

    var dataTile = obj.dataTile;
    var browserEventFn = obj.browserEventFn;

    var boxTop = new sap.m.HBox("__nep" + ModelData.genID(), {
        width: "100%",
        justifyContent: "SpaceBetween",
        height: "56px"
    }).addStyleClass("nepMouseOverMenuButton");

    var boxIconText = new sap.m.HBox("__nep" + ModelData.genID(), {});
    boxIconText.addStyleClass("nepNavBarBoxIconText");
    boxIconText.attachBrowserEvent("click", browserEventFn);
    boxTop.addItem(boxIconText);

    var boxIcon = new sap.m.VBox("__nep" + ModelData.genID(), {
        width: "56px",
        justifyContent: "Center",
        alignItems: "Center"
    });
    boxIconText.addItem(boxIcon);

    if (!!dataTile.TILE_ICON_IMAGE) {

        var imageUrl = AppCache.mediaUrl + dataTile.TILE_ICON_IMAGE;
        if (AppCache.isMobile || AppCache.isHCP) {
            imageUrl = AppCache.imageData[dataTile.TILE_ICON_IMAGE] || imageUrl;
        }

        var oImage = new sap.m.Image("__nep" + ModelData.genID(), {
            src: imageUrl,
            densityAware: false,
        }).addStyleClass("nepTileImage");
        boxIcon.addItem(oImage);

    } else {

        butIcon = "sap-icon://chain-link";

        if (dataTile.TILE_ICON && dataTile.TILE_ICON.indexOf("sap-icon") > -1) {
            butIcon = dataTile.TILE_ICON;
        } else if (dataTile.APPLID) {
            butIcon = "sap-icon://sys-monitor";
        }

        var oBlockIcon = new sap.ui.core.Icon("__nep" + ModelData.genID(), {
            height: "56px",
            size: "2rem",
            src: butIcon,
            width: "56px"
        }).addStyleClass("nepTileClickable");

        boxIcon.addItem(oBlockIcon);
    }

    var boxTitle = new sap.m.VBox("__nep" + ModelData.genID(), {
        justifyContent: "Center"
    }).addStyleClass("sapUiTinyMarginBegin nepNavBarBoxTitle");
    boxIconText.addItem(boxTitle);

    textTitle = new sap.m.Text("__nep" + ModelData.genID(), {
        wrapping: false,
        text: sap.n.Launchpad.translateTile("TILE_TITLE", dataTile)
    }).addStyleClass("nepTileClickable");
    if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].title.push(textTitle);

    boxTitle.addItem(textTitle);

    textSubTitle = new sap.m.Text("__nep" + ModelData.genID(), {
        wrapping: false,
        text: sap.n.Launchpad.translateTile("TILE_INFO", dataTile),
    }).addStyleClass("nepTileClickable");
    boxTitle.addItem(textSubTitle);
    if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].info.push(textSubTitle);

    var layoutClose = new sap.m.VBox("__nep" + ModelData.genID(), {
        alignItems: "Center",
        justifyContent: "Center",
        width: "40px"
    });
    boxTop.addItem(layoutClose);

    var butClose = new sap.ui.core.Icon("__nep" + ModelData.genID(), {
        size: "1.375rem",
        src: "sap-icon://sys-cancel",
        press: function(oEvent) {
            sap.n.Shell.closeTile(dataTile);
        }
    });
    layoutClose.addItem(butClose);

    return boxTop;
};

sap.n.Launchpad.handleNavButton = function(config) {

    var oBlockCell, overflowBlock, browserEventFn, navButtonBrowserEventFn, containerOpenApp, openAppPop, toolText;
    var dataCat = config.dataCat;
    var dataTile = config.dataTile;
    var navObjEventHandler = config.navObjEventHandler;
    var navAction;

    var startParams = {};
    if (config.dataLoad) {
        startParams = config.dataLoad.startParams;
        navObjEventHandler = config.dataLoad.navObjEventHandler;
    } else if (config.startParams) {
        startParams = config.startParams;
    }

    if (config.dataLoad) {

        if (config.dataLoad.navAction) {
            navAction = config.dataLoad.navAction;
        }

        dataCat = {
            BACK_TYPE: sap.n.Layout.style.DEFAULT
        };
        dataTile = {
            APPLID: config.dataLoad.applid,
            GUID: config.dataLoad.appGUID,
            TILE_TITLE: config.dataLoad.navTitle,
            TILE_INFO: config.dataLoad.navInfo,
            TILE_ICON: config.dataLoad.navIconSrc,
            TILE_ICON_IMAGE: config.dataLoad.navIconImg
        };

        navButtonBrowserEventFn = function(oEvent) {

            var _handle = function() {
                AppCache.Load(dataTile.APPLID, {
                    appGUID: dataTile.GUID,
                    navTitle: config.dataLoad.navTitle,
                    appWidthLimited: config.dataLoad.appWidthLimited
                });
                // popMenuOverflow.close();
                sap.n.Launchpad.overflowMenuClose();
            };

            if (sap.n.Application.beforeSuspend(sap.n.Application.event.openAppNavigation, {
                appId: dataTile.APPLID,
                appName: dataTile.TILE_TITLE || dataTile.NAME,
                defaultAction: _handle
            })) return;

            _handle();
        };
    } else {

        navButtonBrowserEventFn = function(oEvent) {

            var _handle = function() {
                sap.n.Launchpad.HandleTilePress(dataTile, dataCat);
                // popMenuOverflow.close();
                sap.n.Launchpad.overflowMenuClose();
            };

            if (sap.n.Application.beforeSuspend(sap.n.Application.event.openAppNavigation, {
                appId: dataTile.APPLID,
                appName: dataTile.TILE_TITLE || dataTile.NAME,
                defaultAction: _handle
            })) return;

            _handle();
        };
    }

    if (sap.ui.Device.system.phone || AppCache.hideSideMenu || !sap.n.Launchpad.showNavBar()) {
        if (navAction) {
            return;
        }
    }

    if (!config.dataLoad) {
        containerOpenApp = sap.ui.getCore().byId("__nepOpenAppContainer" + dataTile.GUID);
    }

    if (!containerOpenApp) {

        containerOpenApp = new sap.m.HBox("__nepOpenAppContainer" + dataTile.GUID, {
            width: "100%",
            justifyContent: "SpaceBetween",
            alignItems: "Center"
        }).addStyleClass("nepOpenAppsContainer");

        sap.n.Launchpad.openApps.addItem(containerOpenApp);
        openAppMaster.setVisible(true);

        var butOpenApp = new sap.m.Button("__nepOpenApp" + dataTile.GUID, {
            text: dataTile.TILE_TITLE,
            icon: dataTile.TILE_ICON || "sap-icon://sys-monitor",
            iconFirst: true,
            press: navButtonBrowserEventFn
        }).addStyleClass("nepOpenAppsBtn nepOpenAppsBtnItem");
        containerOpenApp.addItem(butOpenApp);

        var butOpenAppClose = new sap.ui.core.Icon("__nep" + ModelData.genID(), {
            size: "1.375rem",
            src: "sap-icon://sys-cancel",
            press: function(oEvent) {
                sap.n.Shell.closeTile(dataTile);
            }
        }).addStyleClass("nepOpenAppsClose");
        containerOpenApp.addItem(butOpenAppClose);
    }

    // show open apps in header
    if (AppCache.openAppsHeader) {

        // set all other buttons inactive
        $.each(AppCacheShellOpenApps.getItems(), function(i, item) {
            item.removeStyleClass("nepTopMenuActive");
        });

        // New Button
        var tileButton = sap.ui.getCore().byId("but" + dataTile.GUID);
        var butIcon = "";

        if (!tileButton) {

            tileButton = new sap.m.Button("but" + dataTile.GUID, {}).addStyleClass("nepTopMenuBtn nepTopMenuActive");

            browserEventFn = sap.n.Launchpad._createNavItem({
                config: config,
                navId: tileButton.sId,
                dataCat: dataCat,
                dataTile: dataTile,
                navAction: navAction,
                navObjEventHandler: navObjEventHandler
            });

            butIcon = "sap-icon://chain-link";

            if (dataTile.TILE_ICON && dataTile.TILE_ICON.indexOf("sap-icon") > -1) {
                butIcon = dataTile.TILE_ICON;
            } else if (dataTile.APPLID) {
                butIcon = "sap-icon://sys-monitor";
            }
            tileButton.setIcon(butIcon);
            tileButton.attachPress(browserEventFn);

            AppCacheShellOpenApps.addItem(tileButton);

            var overflowHeaderBlock = new sap.m.VBox("but" + dataTile.GUID + "-overflow", {
                renderType: "Bare"
            });

            openAppPop = sap.n.Launchpad._createMouseOverMenuPopup({
                dataTile: dataTile,
                overflowBlock: overflowHeaderBlock,
                style: "nepOverflowMenu",
                offsetX: 0,
                offsetY: 0,
                placement: "Bottom"
            });

            overflowHeaderBlock.addItem(sap.n.Launchpad._createMouseOverMenuButton({
                dataTile: dataTile,
                browserEventFn: browserEventFn
            }));

            var menuFn = {
                popOverEntered: false,
                btnEntered: false
            };

            openAppPop.attachBrowserEvent("mouseenter", function(e) {
                menuFn.popOverEntered = true;
                tileButton.addStyleClass("nepTopMenuActiveHover");
            });
            openAppPop.attachBrowserEvent("mouseleave", function(e) {
                menuFn.popOverEntered = false;
                tileButton.removeStyleClass("nepTopMenuActiveHover");

                setTimeout(function() {
                    if (!menuFn.btnEntered) {
                        menuFn.btnEntered = false;
                        openAppPop.close();
                    }
                }, 10);
            });

            tileButton.attachBrowserEvent("mouseenter", function(e) {
                openAppPop.openBy(tileButton);
                menuFn.btnEntered = true;
            });
            tileButton.attachBrowserEvent("mouseleave", function(e) {
                menuFn.btnEntered = false;

                setTimeout(function() {
                    if (!menuFn.popOverEntered) {
                        menuFn.popOverEntered = false;
                        openAppPop.close();
                    }
                }, 10);
            });
        }

    } else {

        oBlockCell = sap.ui.getCore().byId("but" + dataTile.GUID);

        if (!oBlockCell) {

            oBlockCell = new sap.m.VBox("but" + dataTile.GUID, {
                renderType: "Bare"
            }).addStyleClass("nepLayoutOpenApps");

            browserEventFn = sap.n.Launchpad._createNavItem({
                config: config,
                navId: oBlockCell.sId,
                dataCat: dataCat,
                dataTile: dataTile,
                navAction: navAction,
                navObjEventHandler: navObjEventHandler
            });

            oBlockCell.addItem(sap.n.Launchpad._createMouseOverMenuButton({
                dataTile: dataTile,
                browserEventFn: browserEventFn
            }));

            overflowBlock = new sap.m.VBox("but" + dataTile.GUID + "-overflow", {
                renderType: "Bare"
            }).addStyleClass("nepLayoutOpenApps");

            overflowBlock.addItem(sap.n.Launchpad._createMouseOverMenuButton({
                navId: overflowBlock.sId,
                dataTile: dataTile,
                browserEventFn: browserEventFn
            }));

            var offsetX = -63;
            if ($("html").attr("dir") === "rtl") {
                offsetX = 63;
            }
            openAppPop = sap.n.Launchpad._createMouseOverMenuPopup({
                dataTile: dataTile,
                overflowBlock: overflowBlock,
                style: "nepOpenAppsPopup",
                offsetX: offsetX,
                offsetY: -1,
                placement: "Right"
            });

            blockRunningRow.addItem(oBlockCell);

            oBlockCell.attachBrowserEvent("mouseenter", function(e) {
                // if (layoutNavBar.getSize() === "300px") {
                if (launchpadContentNavigator.getWidth() === "300px") {
                    return;
                }
                openAppPop.openBy(oBlockCell);
            });
            overflowBlock.attachBrowserEvent("mouseleave", function(e) {
                openAppPop.close();
            });
        }

        if (sap.n.Launchpad.showNavBar()) {
            launchpadContentNavigator.setWidth(sap.n.Launchpad.openAppsSideMenuSize);
            var icon = (sap.n.Launchpad.openAppsSideMenuSize === "68px") ? "sap-icon://fa-regular/arrow-alt-circle-right" : "sap-icon://fa-regular/arrow-alt-circle-left";
            iconPinOpenApps.setSrc(icon);
            sap.n.Layout.setHeaderPadding();
        }

        // Set Active
        sap.n.Launchpad.setActiveIcon(oBlockCell.sId);
    }
};

sap.n.Launchpad.translateTile = function(field, dataTile) {

    if (!dataTile) return;
    if (typeof dataTile[field] === "undefined") return;

    var text = dataTile[field];
    return text;
};

sap.n.Launchpad.buildTileAction = function(config) {

    var pageID = config.pageID;
    var dataTile = config.dataTile;
    var parent = config.parent;
    var oBlockCell = config.oBlockCell;
    var dataCat = config.dataCat;
    var feed = config.feed || false;
    var startBtnText = AppCache_tOpen.getText();

    var butStart, butStartFn;
    var tileClickable = dataCat.enableFiori || dataTile.FIORI_STYLE;
    var appFill = (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.APPLICATION && dataTile.APP_FILL);

    if (appFill && dataTile.ACTION_TYPE !== sap.n.Launchpad.action.NOACTION) {
        oBlockCell.addStyleClass("nepTileApplicationFillAction");
    }

    var buttonStyle = sap.n.Launchpad.buildTileActionStyle(oBlockCell);
    var supportedBrowser = true;

    var containerAction = new sap.m.FlexBox("__nep" + ModelData.genID(), {}).addStyleClass("sapUiSizeCompact nepTileAction nepActionContainer");


    if (sap.ui.Device.os.name === "win" && dataTile.BLOCK_WIN && dataTile.BLOCK_WIN !== "[]" && dataTile.BLOCK_WIN.indexOf(sap.ui.Device.browser.name) === -1) {
        supportedBrowser = false;
    }
    if (sap.ui.Device.os.name === "mac" && dataTile.BLOCK_MAC && dataTile.BLOCK_MAC !== "[]" && dataTile.BLOCK_MAC.indexOf(sap.ui.Device.browser.name) === -1) supportedBrowser = false;

    // feed always supported
    if (supportedBrowser || feed) {

        // feed will add its own start function
        butStartFn = config.butStartFn || function(oEvent) {
            oBlockCell.setBusy(true);
            AppCache.busyTile = oBlockCell;
            sap.n.Launchpad.HandleTilePress(dataTile, dataCat, oBlockCell);
        };

        if (dataTile.OPEN_BUTTON_TEXT) {
            startBtnText = dataTile.OPEN_BUTTON_TEXT;
        }
        if (dataTile.OPEN_BUTTON_NOTX) {
            startBtnText = "";
        }

        butStart = new sap.m.Button("__nep" + ModelData.genID(), {
            text: startBtnText,
            press: butStartFn
        });
        if (dataTile.OPEN_BUTTON_ICON) {
            butStart.setIcon(dataTile.OPEN_BUTTON_ICON);
            butStart.addStyleClass("nepBtnIcon");
        }

        butStart.addStyleClass("nepTileAction sapUiTinyMarginEnd " + buttonStyle);

    } else {

        butStartFn = function(oEvent) {

            var browsers;
            var array = [];

            if (sap.ui.Device.os.name === "win") browsers = JSON.parse(dataTile.BLOCK_WIN);
            if (sap.ui.Device.os.name === "mac") browsers = JSON.parse(dataTile.BLOCK_MAC);

            $.each(browsers, function(i, browser) {

                var rec = {};

                switch (browser) {

                    case "cr":
                        rec.NAME = "Chrome";
                        break;

                    case "ed":
                        rec.NAME = "Edge";
                        break;
                    case "ff":
                        rec.NAME = "Firefox";
                        break;
                    case "ie":
                        rec.NAME = "Internet Explorer";
                        break;
                    case "op":
                        rec.NAME = "Opera";
                        break;
                    case "sf":
                        rec.NAME = "Safari";
                        break;
                }

                array.push(rec);
            });

            array.sort(sort_by("NAME"));
            modellistSupportedBrowsers.setData(array);
            popSupportedBrowsers.openBy(this);
        };

        butStart = new sap.m.Button("__nep" + ModelData.genID(), {
            text: AppCache_tIncompatible.getText(),
            iconFirst: false,
            icon: "sap-icon://alert",
            press: butStartFn
        });
    }

    if (tileClickable) {

        if (dataTile.ACTION_TYPE !== sap.n.Launchpad.action.NOACTION || dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.SLIDETILE) {
            oBlockCell.attachBrowserEvent("tap", function(e) {
                butStartFn(e);
            });
        }

    } else {

        // the same tile can be present in multiple tilegroups on multiple pages when the tile is added
        // to favorites or removed from favorites, all buttons must change
        // the sap.n.Launchpad.favButton object controls all the buttons
        if (!sap.n.Launchpad.favButton[dataTile.GUID]) {
            sap.n.Launchpad.favButton[dataTile.GUID] = {
                favAdd: [],
                favDel: []
            };
        }

        var layoutAction = new sap.m.HBox("__nep" + ModelData.genID(), {}).addStyleClass("nepTileActionLayout");
        containerAction.addItem(layoutAction);

        butStart.addStyleClass("nepTileAction sapUiTinyMarginEnd " + buttonStyle);

        var butFavAdd = new sap.m.Button("__nep" + ModelData.genID(), {

            tooltip: AppCacheUserActionFavAdd.getTitle(), //"Add to favorite",
            icon: "sap-icon://unfavorite",
            press: function(oEvent) {

                ModelData.Update(AppCacheTilesFav, "GUID", dataTile.GUID, dataTile);
                setCacheAppCacheTilesFav();

                sap.n.Launchpad.setFavButtonVisibility(dataTile.GUID, "add");
                sap.n.Launchpad.handleFavRedraw();
            }
        });
        butFavAdd.addStyleClass("nepTileAction sapUiTinyMarginEnd " + buttonStyle);

        var butFavDel = new sap.m.Button("__nep" + ModelData.genID(), {
            tooltip: AppCacheUserActionFavDel.getTitle(), //"Delete from favorite",
            icon: "sap-icon://favorite",
            press: function(oEvent) {

                sap.n.Utils.message({ // Remove from favorite
                    title: AppCacheUserActionFavDel.getTitle(), //'Remove from favorite',
                    intro: AppCache_tConfirmationNeeded.getText(), //'Confirmation needed',
                    text1: AppCache_tConfirmRemoveTile.getText(), //'Do you want to remove this tile from your favorites?',
                    state: 'Warning',
                    acceptText: AppCache_tRemoveTile.getText(), //'Yes, remove tile!',
                    onAccept: function() {

                        ModelData.Delete(AppCacheTilesFav, "GUID", dataTile.GUID);
                        setCacheAppCacheTilesFav();

                        sap.n.Launchpad.setFavButtonVisibility(dataTile.GUID, "del");
                        sap.n.Launchpad.handleFavRedraw();
                    }
                });
            }
        });
        butFavDel.addStyleClass("nepTileAction sapUiTinyMarginEnd " + buttonStyle);

        // Fav
        var rec = ModelData.Find(AppCacheTilesFav, "GUID", dataTile.GUID);

        if (rec.length) {
            butFavAdd.setVisible(false);
            butFavDel.setVisible(true);
        } else {
            butFavAdd.setVisible(true);
            butFavDel.setVisible(false);
        }

        // add butFavAdd & butFavDel to the fav button control object
        sap.n.Launchpad.favButton[dataTile.GUID].favAdd.push({
            pageID: pageID,
            btn: butFavAdd
        });
        sap.n.Launchpad.favButton[dataTile.GUID].favDel.push({
            pageID: pageID,
            btn: butFavDel
        });

        if (dataTile.ACTION_TYPE !== sap.n.Launchpad.action.NOACTION || dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.SLIDETILE) {
            layoutAction.addItem(butStart);
        }

        if (sap.n.Launchpad.includeFavorites) {
            layoutAction.addItem(butFavAdd);
            layoutAction.addItem(butFavDel);
        }

        if (dataTile.TILE_HELP) {

            layoutAction.addItem(new sap.m.Button("__nep" + ModelData.genID(), {
                tooltip: AppCache_tTileHelp.getText(),
                icon: "sap-icon://sys-help",
                press: function(oEvent) {

                    sap.n.Documentation.openWindow({
                        DIA_WIDTH: "440",
                        WIDTH_TYPE: "px",
                        DIA_HEIGHT: "220",
                        HEIGHT_TYPE: "px",
                        DOC_ICON: dataTile.TILE_ICON,
                        DOC_TITLE: dataTile.TILE_TITLE || dataTile.NAME,
                        DOC_DESCR: dataTile.TILE_INFO,
                        DOC_TEXT: dataTile.TILE_HELP_TEXT
                    }, this);
                }
            }).addStyleClass("nepTileAction sapUiTinyMarginEnd " + buttonStyle));
        }
    }

    // Footer
    var layoutFooter = new sap.m.HBox("__nep" + ModelData.genID(), {
        justifyContent: "End",
        alignItems: "Center",
    }).addStyleClass("nepTileFooter");
    containerAction.addItem(layoutFooter);

    var footer = new sap.m.Text("__nep" + ModelData.genID(), {
        text: sap.n.Launchpad.translateTile("TILE_FOOTER", dataTile),
        textAlign: sap.ui.core.TextAlign.Right
    });
    if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].footer.push(footer);
    if (tileClickable) {
        footer.addStyleClass("nepTileClickable");
    }

    layoutFooter.addItem(footer);

    if (!appFill) {
        parent.addItem(containerAction);
    }
};

sap.n.Launchpad.handleTreeNavigation = function(selectedItem) {

    // popMenuOverflow.close();
    sap.n.Launchpad.overflowMenuClose();

    var tileGroup, tileGroupSub, menuItem;
    var context = selectedItem.getBindingContext();
    var data = context.getObject();

    if (data.TILE_ICON) {

        var dataTile = ModelData.Find(AppCacheTiles, "GUID", data.GUID)[0];

        var _handle = function() {
            sap.n.Launchpad.HandleTilePress(dataTile);
        };
        if (sap.n.Application.beforeSuspend(sap.n.Application.event.openAppNavigation, {
            appId: dataTile.APPLID,
            appName: dataTile.TILE_TITLE || dataTile.NAME,
            defaultAction: _handle
        })) return;

        _handle();

    } else if (data.PARENT) {

        var menuParent = sap.n.Launchpad.menuSub[data.PARENT];
        if (menuParent) {

            menuItem = $.grep(menuParent, function(menu, i) {
                return (menu.GUID === data.GUID);
            })[0];
            if (menuItem) {
                menuItem.fn();
            }
        }

    } else {

        menuItem = $.grep(sap.n.Launchpad.menu, function(menu, i) {
            return (menu.GUID === data.GUID);
        })[0];
        if (menuItem) {
            menuItem.element.firePress();
        }
    }

    $.each(sap.n.Launchpad.menu, function(i, item) {
        if (item.element.removeStyleClass) item.element.removeStyleClass("nepTopMenuActive");
    });
};

sap.n.Launchpad.setFavButtonVisibility = function(GUID, action) {

    // the tile may not have fav buttons, so if visibility is set from the usermenu a check is needed
    if (!sap.n.Launchpad.favButton[GUID]) {
        return;
    }
    var visibility = (action === "add") ? true : false;

    $.each(sap.n.Launchpad.favButton[GUID].favAdd, function(i, fav) {
        fav.btn.setVisible(!visibility);
    });
    $.each(sap.n.Launchpad.favButton[GUID].favDel, function(i, fav) {
        fav.btn.setVisible(visibility);
    });
};

sap.n.Launchpad.removeFavButtons = function(pageCatID) {

    $.each(sap.n.Launchpad.favButton, function(i, fav) {

        var resultArray = $.grep(fav.favAdd, function(btn, i) {
            return (pageCatID !== btn.pageID);
        });
        fav.favAdd = resultArray;

        resultArray = $.grep(fav.favDel, function(btn, i) {
            return (pageCatID !== btn.pageID);
        });
        fav.favDel = resultArray;
    });
};

sap.n.Launchpad.buildTileActionStyle = function(oBlockCell) {

    var action = "";

    // These functions only available as of v.1.48
    try {
        var color = oBlockCell.getBackgroundColorSet();

        if (color) {
            color = color.split("ColorSet")[1];
        } else {
            color = 5;
        }
        action = "nepTileAction" + color;

    } catch (e) {}

    return action;
};

sap.n.Launchpad.tileSetTimers = function(dataTile) {

    // Only one handler per Tile
    if (sap.n.Launchpad.Timers[dataTile.GUID]) {
        return;
    }

    // Add Timed Event - Neptune
    if (dataTile.AJAX_TIMER && dataTile.NUMBER_APPLID && dataTile.NUMBER_AJAX_ID) {

        sap.n.Launchpad.Timers[dataTile.GUID] = {
            id: dataTile.GUID,
            timer: setInterval(function(dataTile) {
                sap.n.Launchpad.tileGetData(dataTile);
            }, parseInt(dataTile.AJAX_TIMER), dataTile),
            page: AppCacheNav.getCurrentPage().sId,
            dataTile: dataTile,
            dataFn: sap.n.Launchpad.tileGetData
        };
        sap.n.Launchpad.tileGetData(dataTile);
    }

    // Add Timed Event - SAP
    else if (dataTile.AJAX_TIMER && dataTile.FIORI_TILE_URL !== "") {

        sap.n.Launchpad.Timers[dataTile.GUID] = {
            id: dataTile.GUID,
            timer: setInterval(function(dataTile) {
                sap.n.Launchpad.tileGetDataFiori(dataTile);
            }, parseInt(dataTile.AJAX_TIMER), dataTile),
            page: AppCacheNav.getCurrentPage().sId,
            dataTile: dataTile,
            dataFn: sap.n.Launchpad.tileGetDataFiori
        };
        sap.n.Launchpad.tileGetDataFiori(dataTile);
    }

    // Add none Timed Event - SAP
    else if (!dataTile.AJAX_TIMER && dataTile.FIORI_TILE_URL !== "") {
        sap.n.Launchpad.tileGetDataFiori(dataTile);
    }
};

sap.n.Launchpad.tileGetData = function(dataTile) {

    var urlPath;

    // Only get data for tiles on active page
    if (!sap.n.Launchpad.Timers[dataTile.GUID]) return;
    if (!dataTile) return;
    if (AppCache.isOffline) return;

    var Url = AppCache.UrlBase;

    if (AppCache.isHCP) Url = "/" + AppCache.hcpDestination;

    if (AppCache.allowIcfNode) {
        urlPath = "/neptune/" + AppCache.allowIcfNode.toLowerCase() + "/native/neptune_ajax";
    } else {
        urlPath = "/neptune/native/neptune_ajax";
    }

    $.ajax({
        type: "POST",
        url: Url + urlPath + "?ajax_id=" + dataTile.NUMBER_AJAX_ID + "&ajax_applid=" + dataTile.NUMBER_APPLID + "&ajax_value=" + dataTile.TIMESTAMP,
        dataType: "json",
        success: function(data) {

            // Move Ajax Data to dataTile
            dataTile.TILE_VALUE1 = data.TILE_VALUE1;
            dataTile.TILE_VALUE2 = data.TILE_VALUE2;
            dataTile.TILE_VALUE3 = data.TILE_VALUE3;
            dataTile.TILE_COLOR1 = data.TILE_COLOR1;
            dataTile.TILE_COLOR2 = data.TILE_COLOR2;
            dataTile.TILE_COLOR3 = data.TILE_COLOR3;
            dataTile.TILE_NUMBER = neptune.Formatter.getNumber(data.TILE_NUMBER, 0, "short");

            if (!!data.TILE_TITLE) dataTile.TILE_TITLE = data.TILE_TITLE;
            if (!!data.TILE_INFO) dataTile.TILE_INFO = data.TILE_INFO;
            if (!!data.TILE_FOOTER) dataTile.TILE_FOOTER = data.TILE_FOOTER;
            if (!!data.TILE_ICON) dataTile.TILE_ICON = data.TILE_ICON;
            if (!!data.TILE_UNIT) dataTile.TILE_UNIT = data.TILE_UNIT;
            if (!!data.TILE_INFOSTATE) dataTile.TILE_INFOSTATE = data.TILE_INFOSTATE;
            if (!!data.TILE_INDICATOR) dataTile.TILE_INDICATOR = data.TILE_INDICATOR;
            if (!!data.TILE_VALUECOLOR) dataTile.TILE_VALUECOLOR = data.TILE_VALUECOLOR;
            if (!!data.TILE_TITLE1) dataTile.TILE_TITLE1 = data.TILE_TITLE1;
            if (!!data.TILE_TITLE2) dataTile.TILE_TITLE2 = data.TILE_TITLE2;
            if (!!data.TILE_TITLE3) dataTile.TILE_TITLE3 = data.TILE_TITLE3;
            if (!!data.TILE_BACKIMAGE) dataTile.TILE_BACKIMAGE = data.TILE_BACKIMAGE;
            if (!!data.TILE_SCALE) dataTile.TILE_SCALE = data.TILE_SCALE;
            if (!!data.TILE_DETAILS) dataTile.TILE_DETAILS = data.TILE_DETAILS;
            if (!!data.TILE_SIDETITLE1) dataTile.TILE_SIDETITLE1 = data.TILE_SIDETITLE1;
            if (!!data.TILE_SIDENUMBER1) dataTile.TILE_SIDENUMBER1 = neptune.Formatter.getNumber(data.TILE_SIDENUMBER1, 0, "short");
            if (!!data.TILE_SIDEUNIT1) dataTile.TILE_SIDEUNIT1 = data.TILE_SIDEUNIT1;
            if (!!data.TILE_SIDETITLE2) dataTile.TILE_SIDETITLE2 = data.TILE_SIDETITLE2;
            if (!!data.TILE_SIDENUMBER2) dataTile.TILE_SIDENUMBER2 = neptune.Formatter.getNumber(data.TILE_SIDENUMBER2, 0, "short");
            if (!!data.TILE_SIDEUNIT2) dataTile.TILE_SIDEUNIT2 = data.TILE_SIDEUNIT2;

            dataTile.TIMESTAMP = data.TIMESTAMP;

            ModelData.Update(AppCacheTilesDynInfo, "GUID", dataTile.GUID, dataTile);

            ModelData.Update(AppCacheTiles, "GUID", dataTile.GUID, dataTile);
            setCacheAppCacheTiles();

            if (sap.n.Launchpad.tileContent[dataTile.GUID]) {
                $.each(sap.n.Launchpad.tileContent[dataTile.GUID].title, function(i, title) {
                    title.setText(dataTile.TILE_TITLE);
                });
                $.each(sap.n.Launchpad.tileContent[dataTile.GUID].info, function(i, info) {
                    info.setText(dataTile.TILE_INFO);
                });
                $.each(sap.n.Launchpad.tileContent[dataTile.GUID].footer, function(i, footer) {
                    footer.setText(dataTile.TILE_FOOTER);
                });
                $.each(sap.n.Launchpad.tileContent[dataTile.GUID].icon, function(i, icon) {
                    icon.setSrc(dataTile.TILE_ICON);
                });
                $.each(sap.n.Launchpad.tileContent[dataTile.GUID].chart, function(i, chart) {
                    chart.destroyContent();
                    sap.n.Launchpad.buildDynamicContent({
                        dataTile: dataTile,
                        parentPanel: chart
                    });
                });
            }
            sap.n.Card.updateDynamicContent({
                dataTile: dataTile
            });

            sap.n.Launchpad.updateMenuItems(modelContentMenu.oData.children, dataTile);
            modelContentMenu.refresh();
        },
        error: function(xhr, status, error) {}
    });
};

sap.n.Launchpad.tileGetDataFiori = function(dataTile) {

    var urlPath;

    // Only get data for tiles on active page
    if (!sap.n.Launchpad.Timers[dataTile.GUID]) return;
    if (!dataTile) return;
    if (AppCache.isOffline) return;

    var Url = AppCache.UrlBase;

    // Check for http/https - build full url on mobile
    var fioriUrl = dataTile.FIORI_TILE_URL || "";

    if (fioriUrl.indexOf("://") === -1) {
        fioriUrl = Url + fioriUrl;
    }

    $.ajax({
        type: "GET",
        url: fioriUrl,
        dataType: "json",
        success: function(data) {

            // Expect JSON with the d: value or plain number
            if (data.d) {

                if (data.d.results && Array.isArray(data.d.results)) {
                    data.d = data.d.results[0];
                }

                if (data.d.targetParams) {
                    try {
                        var params = data.d.targetParams.split('&');
                        var appParams = '';
                        $.each(params, function(i, param) {
                            var obj = param.split(':');
                            appParams += '{"' + obj[0] + '":"' + obj[1] + '"}';
                            if (i + 1 < params.length) {
                                appParams += ',';
                            }
                        });
                        dataTile.APPLID_PARAMS = appParams;
                    } catch (e) {}
                }

                if (data.d.icon) dataTile.TILE_ICON = data.d.icon;
                if (data.d.info) dataTile.TILE_INFO = data.d.info;
                if (data.d.infoState) dataTile.TILE_INFOSTATE = data.d.infoState;
                if (data.d.numberUnit) dataTile.TILE_UNIT = data.d.numberUnit;
                if (data.d.subtitle) dataTile.TILE_FOOTER = data.d.subtitle;
                if (data.d.title) dataTile.TILE_TITLE = data.d.title;
                if (data.d.stateArrow) dataTile.TILE_INDICATOR = data.d.stateArrow;

                if (data.d.numberState) {
                    dataTile.TILE_VALUECOLOR = data.d.numberState;

                    // Mapping for alternative Fiori ValueColor
                    if (dataTile.TILE_VALUECOLOR === 'Positive') {
                        dataTile.TILE_VALUECOLOR = 'Good';
                    } else if (dataTile.TILE_VALUECOLOR === 'Negative') {
                        dataTile.TILE_VALUECOLOR = 'Error';
                    }
                }
                // numberFactor is not used, always show short format
                if (data.d.numberDigits) {
                    dataTile.TILE_NUMBER = neptune.Formatter.getNumber(data.d.number, data.d.numberDigits, "short");
                } else {
                    dataTile.TILE_NUMBER = neptune.Formatter.getNumber(data.d.number, 0, "short");
                }

            } else {
                dataTile.TILE_NUMBER = data;
            }

            ModelData.Update(AppCacheTilesDynInfo, "GUID", dataTile.GUID, dataTile);

            ModelData.Update(AppCacheTiles, "GUID", dataTile.GUID, dataTile);
            setCacheAppCacheTiles();

            if (sap.n.Launchpad.tileContent[dataTile.GUID]) {
                $.each(sap.n.Launchpad.tileContent[dataTile.GUID].title, function(i, title) {
                    title.setText(dataTile.TILE_TITLE);
                });
                $.each(sap.n.Launchpad.tileContent[dataTile.GUID].info, function(i, info) {
                    info.setText(dataTile.TILE_INFO);
                });
                $.each(sap.n.Launchpad.tileContent[dataTile.GUID].footer, function(i, footer) {
                    footer.setText(dataTile.TILE_FOOTER);
                });
                $.each(sap.n.Launchpad.tileContent[dataTile.GUID].icon, function(i, icon) {
                    icon.setSrc(dataTile.TILE_ICON);
                });
                $.each(sap.n.Launchpad.tileContent[dataTile.GUID].chart, function(i, chart) {
                    chart.destroyContent();
                    sap.n.Launchpad.buildDynamicContent({
                        dataTile: dataTile,
                        parentPanel: chart
                    });
                });
            }
            sap.n.Card.updateDynamicContent({
                dataTile: dataTile
            });

            sap.n.Launchpad.updateMenuItems(modelContentMenu.oData.children, dataTile);
            modelContentMenu.refresh();
        },
        error: function(xhr, status, error) {}
    });
};

// Called by customers to update tiles manually
sap.n.Launchpad.UpdateTileInfo = function(dataNew) {

    var tileGUID;
    var dataArr = [];

    if (dataNew.APPLID) {

        // Get all tiles that has APPLID as action
        dataArr = ModelData.Find(AppCacheTiles, "APPLID", dataNew.APPLID);
    } else {

        if (dataNew.GUID) {

            // Get tile GUID from config
            tileGUID = dataNew.GUID;
        } else {

            // Get tile GUID from current card
            if (sap.n.Launchpad.contextType === "Menu") {
                if (sap.n.Launchpad.currentTile) tileGUID = sap.n.Launchpad.currentTile.GUID;
            } else {

                if (sap.n.Launchpad.contextTile) tileGUID = sap.n.Launchpad.contextTile.GUID;
            }
        }
        if (tileGUID) {
            dataArr = ModelData.Find(AppCacheTiles, "GUID", tileGUID);
        }
    }
    if (dataArr.length === 0) {
        console.warn("No cards found: sap.n.Launchpad.UpdateTileInfo");
        return;
    }

    $.each(dataArr, function(i, dataTile) {

        var update = false;

        if (!!dataNew.TILE_TITLE && dataTile.TILE_TITLE !== dataNew.TILE_TITLE) {
            dataTile.TILE_TITLE = dataNew.TILE_TITLE;
            update = true;
        }
        if (!!dataNew.TILE_INFO && dataTile.TILE_INFO !== dataNew.TILE_INFO) {
            dataTile.TILE_INFO = dataNew.TILE_INFO;
            update = true;
        }
        if (!!dataNew.TILE_FOOTER && dataTile.TILE_FOOTER !== dataNew.TILE_FOOTER) {
            dataTile.TILE_FOOTER = dataNew.TILE_FOOTER;
            update = true;
        }
        if (!!dataNew.TILE_ICON && dataTile.TILE_ICON !== dataNew.TILE_ICON) {
            dataTile.TILE_ICON = dataNew.TILE_ICON;
            update = true;
        }
        // if (dataNew.TILE_ICON_IMAGE && dataTile.TILE_ICON_IMAGE !== dataNew.TILE_ICON_IMAGE) {
        //     dataTile.TILE_ICON_IMAGE = dataNew.TILE_ICON_IMAGE;
        //     update = true;
        // }
        if (!!dataNew.TILE_SCALE && dataTile.TILE_SCALE !== dataNew.TILE_SCALE) {
            dataTile.TILE_SCALE = dataNew.TILE_SCALE;
            update = true;
        }
        if (!!dataNew.TILE_DETAILS && dataTile.TILE_DETAILS !== dataNew.TILE_DETAILS) {
            dataTile.TILE_DETAILS = dataNew.TILE_DETAILS;
            update = true;
        }
        if (!!dataNew.TILE_NUMBER && dataTile.TILE_NUMBER !== dataNew.TILE_NUMBER) {
            dataTile.TILE_NUMBER = dataNew.TILE_NUMBER;
            update = true;
        }
        if (!!dataNew.TILE_INDICATOR && dataTile.TILE_INDICATOR !== dataNew.TILE_INDICATOR) {
            dataTile.TILE_INDICATOR = dataNew.TILE_INDICATOR;
            update = true;
        }
        if (!!dataNew.TILE_VALUECOLOR && dataTile.TILE_VALUECOLOR !== dataNew.TILE_VALUECOLOR) {
            dataTile.TILE_VALUECOLOR = dataNew.TILE_VALUECOLOR;
            update = true;
        }
        if (!!dataNew.TILE_UNIT && dataTile.TILE_UNIT !== dataNew.TILE_UNIT) {
            dataTile.TILE_UNIT = dataNew.TILE_UNIT;
            update = true;
        }
        if (!!dataNew.TILE_VALUE1 && dataTile.TILE_VALUE1 !== dataNew.TILE_VALUE1) {
            dataTile.TILE_VALUE1 = dataNew.TILE_VALUE1;
            update = true;
        }
        if (!!dataNew.TILE_COLOR1 && dataTile.TILE_COLOR1 !== dataNew.TILE_COLOR1) {
            dataTile.TILE_COLOR1 = dataNew.TILE_COLOR1;
            update = true;
        }
        if (!!dataNew.TILE_TITLE1 && dataTile.TILE_TITLE1 !== dataNew.TILE_TITLE1) {
            dataTile.TILE_TITLE1 = dataNew.TILE_TITLE1;
            update = true;
        }
        if (!!dataNew.TILE_VALUE2 && dataTile.TILE_VALUE2 !== dataNew.TILE_VALUE2) {
            dataTile.TILE_VALUE2 = dataNew.TILE_VALUE2;
            update = true;
        }
        if (!!dataNew.TILE_COLOR2 && dataTile.TILE_COLOR2 !== dataNew.TILE_COLOR2) {
            dataTile.TILE_COLOR2 = dataNew.TILE_COLOR2;
            update = true;
        }
        if (!!dataNew.TILE_TITLE2 && dataTile.TILE_TITLE2 !== dataNew.TILE_TITLE2) {
            dataTile.TILE_TITLE2 = dataNew.TILE_TITLE2;
            update = true;
        }
        if (!!dataNew.TILE_VALUE3 && dataTile.TILE_VALUE3 !== dataNew.TILE_VALUE3) {
            dataTile.TILE_VALUE3 = dataNew.TILE_VALUE3;
            update = true;
        }
        if (!!dataNew.TILE_COLOR3 && dataTile.TILE_COLOR3 !== dataNew.TILE_COLOR3) {
            dataTile.TILE_COLOR3 = dataNew.TILE_COLOR3;
            update = true;
        }
        if (!!dataNew.TILE_TITLE3 && dataTile.TILE_TITLE3 !== dataNew.TILE_TITLE3) {
            dataTile.TILE_TITLE3 = dataNew.TILE_TITLE3;
            update = true;
        }
        if (!!dataNew.TILE_SIDETITLE1 && dataTile.TILE_SIDETITLE1 !== dataNew.TILE_SIDETITLE1) {
            dataTile.TILE_SIDETITLE1 = dataNew.TILE_SIDETITLE1;
            update = true;
        }
        if (!!dataNew.TILE_SIDENUMBER1 && dataTile.TILE_SIDENUMBER1 !== dataNew.TILE_SIDENUMBER1) {
            dataTile.TILE_SIDENUMBER1 = dataNew.TILE_SIDENUMBER1;
            update = true;
        }
        if (!!dataNew.TILE_SIDEUNIT1 && dataTile.TILE_SIDEUNIT1 !== dataNew.TILE_SIDEUNIT1) {
            dataTile.TILE_SIDEUNIT1 = dataNew.TILE_SIDEUNIT1;
            update = true;
        }
        if (!!dataNew.TILE_SIDETITLE2 && dataTile.TILE_SIDETITLE2 !== dataNew.TILE_SIDETITLE2) {
            dataTile.TILE_SIDETITLE2 = dataNew.TILE_SIDETITLE2;
            update = true;
        }
        if (!!dataNew.TILE_SIDENUMBER2 && dataTile.TILE_SIDENUMBER2 !== dataNew.TILE_SIDENUMBER2) {
            dataTile.TILE_SIDENUMBER2 = dataNew.TILE_SIDENUMBER2;
            update = true;
        }
        if (!!dataNew.TILE_SIDEUNIT2 && dataTile.TILE_SIDEUNIT2 !== dataNew.TILE_SIDEUNIT2) {
            dataTile.TILE_SIDEUNIT2 = dataNew.TILE_SIDEUNIT2;
            update = true;
        }
        if (update) {

            if (!sap.n.Launchpad.tileContent[dataTile.GUID]) {
                return;
            }

            ModelData.Update(AppCacheTiles, "GUID", dataTile.GUID, dataTile);
            setCacheAppCacheTiles();

            $.each(sap.n.Launchpad.tileContent[dataTile.GUID].title, function(i, title) {
                title.setText(dataTile.TILE_TITLE);
                title.rerender();
            });
            $.each(sap.n.Launchpad.tileContent[dataTile.GUID].info, function(i, info) {
                info.setText(dataTile.TILE_INFO);
                info.rerender();
            });
            $.each(sap.n.Launchpad.tileContent[dataTile.GUID].footer, function(i, footer) {
                footer.setText(dataTile.TILE_FOOTER);
                footer.rerender();
            });
            $.each(sap.n.Launchpad.tileContent[dataTile.GUID].icon, function(i, icon) {
                icon.setSrc(dataTile.TILE_ICON);
                icon.rerender();
            });
            $.each(sap.n.Launchpad.tileContent[dataTile.GUID].chart, function(i, chart) {

                chart.destroyContent();
                sap.n.Launchpad.buildDynamicContent({
                    dataTile: dataTile,
                    parentPanel: chart
                });
            });
            sap.n.Card.updateDynamicContent({
                dataTile: dataTile
            });
            sap.n.Launchpad.updateMenuItems(modelContentMenu.oData.children, dataTile.GUID, dataTile.TILE_TITLE);
            modelContentMenu.refresh();
        }
    });
};

// Legacy support
sap.n.Launchpad.UpdateCardInfo = sap.n.Launchpad.UpdateTileInfo;

sap.n.Launchpad.updateMenuItems = function(children, dataTile) {

    $.each(children, function(i, child) {
        if (child.GUID === dataTile.GUID) {
            child.TILE_TITLE = dataTile.TILE_TITLE;
            child.TILE_INFO = dataTile.TILE_INFO;
            child.TILE_FOOTER = dataTile.TILE_FOOTER;
            child.TILE_ICON = dataTile.TILE_ICON;
            child.TAGS = dataTile.TAGS;
        }
        if (child.children) {
            sap.n.Launchpad.updateMenuItems(child.children, dataTile);
        }
    });
    var openApp = sap.ui.getCore().byId("__nepOpenApp" + dataTile.GUID);
    if (openApp) {
        openApp.setText(dataTile.TILE_TITLE);
    }
};

sap.n.Launchpad.setMenuActiveState = function() {
    $.each(ContentMenu.getItems(), function(i, menu) {
        if (menu.getIcon()) {
            menu.addStyleClass("nepTreeItemAction");
        } else {
            menu.removeStyleClass("nepTreeItemAction");
        }
    });

};
sap.n.Launchpad.Splitview = {

    saveCreate: true,
    views: {},
    currentView: null,

    startup: function() {

        $.each(modelAppCacheSplitView.oData, function(i, splitview) {

            var splitapps = $.grep(modelAppCacheSplitApp.oData, function(app, i) {
                return (app.SPLITVIEW === splitview.SPLITVIEW);
            });

            sap.n.Launchpad.Splitview.load({
                id: splitview.SPLITVIEW,
                navTitle: splitview.TITLE,
                navInfo: splitview.INFO,
                splitapps: splitapps,
                saveToServer: true,
                orientation: splitview.ORIENTATION || "Horizontal",
                fullscreen: splitview.FULLSCREEN,
                loadInBackground: true
            });
        });
    },

    load: function(config) {

        var splitview = new sap.n.Splitview(config);

        this.views[config.id] = splitview;

        AppCache.Load("/NEPTUNE/SPLITVIEW", {
            load: "nav",
            navTitle: config.navTitle,
            navInfo: config.navInfo,
            navIconSrc: "sap-icon://screen-split-three",
            loadInBackground: (config.loadInBackground),
            appWidthLimited: !config.fullscreen,
            startParams: {
                TITLE: config.navTitle,
                INFO: config.navInfo,
                orientation: config.orientation,
                splitview: splitview,
                callback: config.callback || function(){}
            }
        });
        if (config.loadInBackground) {
            splitview.initApps = config.splitapps || [];
            diaSplitviewApp.deleteSplitviewListCallback = function() {};
        } else {
            sap.n.Launchpad.setAppWidthLimited(!config.fullscreen);
            diaSplitviewApp.deleteSplitviewListCallback = function() {
                splitview.close();
            };
            if (!config.codeLoad) {
                splitview.appList();
            }
        }
        return splitview;
    },

    create: function(config) {

        config.id = "SPLITVIEW_" + new Date().getTime();

        if (config.saveToServer) {
            modelSplitViewObj.setData({
                CONFIGURATION: AppCache.CurrentConfig,
                SPLITVIEW: config.id,
                TITLE: config.navTitle,
                INFO: config.navInfo,
                ORIENTATION: config.orientation,
                FULLSCREEN: config.fullscreen
            });
            getOnlineSplitviewCreate();
        }

        this.load(config);
    },
};

/**
 * Splitview Class.
 * @since      5.5.6
 * @param {Object}  config                  Configuration object.
 * @param {String}  config.id               Splitview ID.
 * @param {Boolean} config.saveToServer     Save Splitview to ABAP server and load on each launchpad startup
 * @param {Boolean} config.fullscreen       Load Splitview fullscreen
 * @param {String}  config.navTitle         Splitview Title: Used in the left sidebar, in the headerbar & in the multi menu among open apps
 * @param {String}  config.navInfo          Splitview Info: Used in the left sidebar & in the headerbar
 */
sap.n.Splitview = function(config) {

    this.id = config.id;
    this.apps = [];
    this.saveToServer = config.saveToServer;
    this.orientation = config.orientation;
    this.fullscreen = config.fullscreen;
    this.size = 0;
    this.title = config.navTitle;
    this.info = config.navInfo;
    this.splitter;
    this.initApps = [],

    this.beforeDisplay = function(data, init) {

        if (init) return;

        var that = this;
        if (this.initApps.length > 0) {
            $.each(this.initApps, function(i, app) {
                that.add(app);
            });
            this.initApps = [];
        }
    };

    this.add = function(config) {

        var scrollContainer = new sap.m.ScrollContainer("__nep" + ModelData.genID(), {
            height: "100%",
            horizontal: false,
            vertical: true
        }).setLayoutData(new sap.ui.layout.SplitterLayoutData("__nep" + ModelData.genID(), {}));
        this.splitter.addContentArea(scrollContainer);

        this.apps.push({
            GUID: config.GUID,
            APPLID: config.APPLID,
            TILE_ICON: config.TILE_ICON,
            TILE_INFO: config.TILE_INFO,
            TILE_TITLE: config.TILE_TITLE,
            START_PARAMS: config.START_PARAMS || {},
            container: scrollContainer
        });
        this.resize();

        AppCache.Load(config.APPLID, {
            load: "splitview",
            parentObject: scrollContainer,
            navTitle: AppCacheShellAppTitle.getText(),
            startParams: config.START_PARAMS || {}
        });
    };

    this.close = function() {

        this.delete();
        sap.n.Shell.closeTile({
            GUID: sap.n.Launchpad.currentTile.GUID
        }, {
            forceClose: true
        });
    };

    this.viewList = function() {
        var splitviewList = [];

        $.each(this.apps, function(i, app) {
            splitviewList.push(app);
        });

        modelTabSplitviewList.setData(splitviewList);

        inSplitviewListTitle.setValue(this.title);
        inSplitviewListDescription.setValue(this.info);
        inSplitviewListSave.setSelected(this.saveToServer);
        inSplitviewListFullscreen.setSelected(this.fullscreen);

        var that = this;
        diaSplitviewList.acceptSplitviewListCallback = function(config) {
            that.save(config);
        };
        diaSplitviewList.deleteSplitviewListCallback = function() {
            that.close();
        };
        diaSplitviewList.isDirtyCallback = function() {
            sap.n.Launchpad.setAppWidthLimited(!that.fullscreen);
        };

        diaSplitviewList.open();
    };

    this.appList = function() {

        var that = this;
        diaSplitviewApp.appListCallback = function(appList) {

            $.each(appList, function(i, app) {
                that.add(app);
            });
            that.update();
        };
        diaSplitviewApp.open();
    };

    this.delete = function() {

        modelSplitViewObj.setData({
            CONFIGURATION: AppCache.CurrentConfig,
            SPLITVIEW: this.id,
            GUID: this.GUID,
        });

        getOnlineSplitviewDelete();
    };

    this.update = function() {

        if (this.saveToServer) {

            modelSplitViewObj.setData({
                CONFIGURATION: AppCache.CurrentConfig,
                SPLITVIEW: this.id,
                TITLE: this.title,
                INFO: this.info,
                ORIENTATION: this.orientation
                // FULLSCREEN: this.fullscreen
            });

            var apps = [];
            $.each(this.apps, function(i, app) {
                apps.push({
                    APPLID: app.APPLID,
                    GUID: app.GUID
                });
            });

            modelAppCacheSplitApp.setData(apps);
            getOnlineSplitviewUpdate();
        } else {
            this.delete();
        }
    };

    this.save = function(config) {

        this.title = config.title;
        this.info = config.info;
        this.saveToServer = config.saveToServer;
        this.orientation = config.orientation;
        this.fullscreen = config.fullscreen;

        var splitterSize = 0;
        $.each(this.splitter.getCalculatedSizes(), function(i, size) {
            splitterSize += size;
        });

        splitterSize += (this.apps.length - 1) * 4;

        this.apps = modelTabSplitviewList.oData;
        this.splitter.removeAllContentAreas();

        var that = this;
        $.each(this.apps, function(i, app) {
            that.splitter.addContentArea(app.container);
        });

        this.refresh();

        this.size = -1;
        this.resize(splitterSize);

        this.update();
    };


    this.resize = function(size) {

        if (size === 0) return;
        if (size > 0) {
            if (size === this.size) return; // size coming from the Splitter resize handler. refocus => splitter resizes from 0 to size
            this.size = size;
        }
        var that = this;

        setTimeout(function() {

            var splitterSize = 0;

            if (size) {

                //get splitter size from resize event handler
                splitterSize = size;
            } else {

                //get splitter size from the splitter object
                $.each(that.splitter.getCalculatedSizes(), function(i, size) {
                    splitterSize += size;
                });
            }

            // subtract drag handler width (4px)
            splitterSize = splitterSize - ((that.apps.length - 1) * 4);

            var containerSize = (splitterSize / that.apps.length).toFixed(4);

            $.each(that.apps, function(i, app) {
                app.container.getLayoutData().setSize(containerSize + "px");
            });

        }, 150);
    };
};
sap.n.Card = {

    buildCardDefault: function(config) {

        var pageID = config.pageID;
        var dataTile = config.dataTile;
        var dataCat = config.dataCat;
        var tileWidth = config.tileWidth || sap.n.Layout.tile.SMALL;
        var tileHeight = dataTile.TILE_HEIGHT || false;
        var butStartFn = config.butStartFn || null;
        var slickSlider = config.slickSlider || null;

        var cardHeader, dynamicParent, dynTileData;

        // Fiori style tiles
        var cardClickable = dataCat.enableFiori || dataTile.FIORI_STYLE;

        // Top
        var cardContainer = new sap.m.FlexBox("__nep" + ModelData.genID(), {
            width: "100%",
            fitContainer: true
        }).addStyleClass("nepFCardContainer nepTile" + tileWidth);

        if (!dataCat.enableCards && !dataCat.enableFiori) {
            cardContainer.addStyleClass("nepFCardPlain");
        }

        // if (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.DYNAMIC && dataTile.DYNAMIC_TYPE === "NumericContent" && !dataTile.NUMERIC_CLASSIC) {
        //     oBlockIcon = new sap.ui.core.Icon("__nep" + ModelData.genID(), {
        //         src: "sap-icon://fa-solid/hotel",
        //         size: "2rem",
        //         useIconTooltip: false
        //     });
        //     cardContainer.addItem(oBlockIcon);
        // }

        if (dataTile.STYLECLASS) {
            cardContainer.addStyleClass(dataTile.STYLECLASS);
        }
        if (tileHeight) {
            cardContainer.addStyleClass("nepTile" + tileHeight);
        }

        var card = new sap.f.Card("__nep" + ModelData.genID(), {
            width: "100%"
        }).addStyleClass("nepFCard");

        if (cardClickable) {
            card.addStyleClass("nepTileClickable");
        }
        if (dataCat.FIT_TILE_CONTENT || dataTile.FIT_TILE_CONTENT) {
            card.addStyleClass("sapFCardFitContent");
        }
        if (!dataCat.enableCards && !dataCat.enableFiori) {
            card.addStyleClass("nepFCardPlain");
        }

        sap.n.Launchpad.setBackgroundShade(dataTile, dataCat, card);
        card.addStyleClass("tile" + dataTile.GUID);

        cardContainer.addItem(card);

        var iconSrc = dataTile.TILE_ICON || "";
        if (dataTile.TILE_ICON_IMAGE) {

            imageUrl = AppCache.mediaUrl + dataTile.TILE_ICON_IMAGE;
            if (AppCache.isMobile || AppCache.isHCP) {
                imageUrl = AppCache.imageData[dataTile.TILE_ICON_IMAGE] || imageUrl;
            }
            iconSrc = imageUrl;
        }

        var footerHtml = new sap.ui.core.HTML("__nep" + ModelData.genID(), {});
        if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].cardFooter.push(footerHtml);
        footerHtml.setContent("<div class='sapFCardHeader nepFCardFooter'><span class='sapFCardStatus'>" + sap.n.Launchpad.translateTile("TILE_FOOTER", dataTile) + "</span></div>");

        if (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.DYNAMIC && dataTile.DYNAMIC_TYPE === "NumericContent" && !dataTile.NUMERIC_CLASSIC) {

            cardHeader = new sap.f.cards.NumericHeader("__nep" + ModelData.genID(), {
                title: sap.n.Launchpad.translateTile("TILE_TITLE", dataTile),
                subtitle: sap.n.Launchpad.translateTile("TILE_INFO", dataTile),
            });

            sap.n.Card.setDynamicHeader({
                cardHeader: cardHeader,
                dataTile: dataTile
            });

            sap.n.Card.setDynamicFooter({
                cardFooter: footerHtml,
                dataTile: dataTile
            });

            sap.n.Launchpad.tileContent[dataTile.GUID].cardNumericHeader.push(cardHeader);
            sap.n.Launchpad.tileSetTimers(dataTile);

        } else {

            var cardIconSrc = (dataTile.ICON_INLINE) ? iconSrc : "";

            cardHeader = new sap.f.cards.Header("__nep" + ModelData.genID(), {
                title: sap.n.Launchpad.translateTile("TILE_TITLE", dataTile),
                subtitle: sap.n.Launchpad.translateTile("TILE_INFO", dataTile),
                iconSrc: cardIconSrc
            });
            if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].cardHeader.push(cardHeader);
        }

        card.setHeader(cardHeader);

        var cardContent = new sap.m.FlexBox("__nep" + ModelData.genID(), {
            direction: "Column",
            height: "100%",
            justifyContent: "SpaceBetween",
            width: "100%",
            fitContainer: true
        });
        card.setContent(cardContent);

        var cardBody = new sap.m.FlexBox("__nep" + ModelData.genID(), {
            fitContainer: true
        }).addStyleClass("nepFCardBody");
        cardContent.addItem(cardBody);

        if (!dataTile.ICON_INLINE && dataTile.TILE_TYPE !== "application") {

            var addIcon = true;

            if (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.DYNAMIC) {
                addIcon = (dataTile.DYNAMIC_TYPE === "NumericContent" && !dataTile.NUMERIC_CLASSIC);
            }

            if (addIcon) {

                cardBody.addStyleClass("sapFCardHeader");

                var cardIcon = sap.n.Card.buildCardIcon(dataTile);
                if (cardIcon) {
                    cardBody.addItem(cardIcon);
                }
            }
        }

        if (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.APPLICATION) {

            var appContainer = new sap.m.Panel("__nep" + ModelData.genID(), {
                backgroundDesign: "Transparent"
            }).addStyleClass("sapUiNoContentPadding nepTileApplicationPanel");

            cardBody.addItem(appContainer);

            var startParams = {};
            try {
                startParams = JSON.parse(dataTile.APPLID_TILE_PARA);
            } catch (e) {}

            AppCache.Load(dataTile.APPLID_TILE, {
                load: "card",
                parentObject: appContainer,
                startParams: startParams,
            });
        }

        if (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.SLIDETILE) {
            cardBody.addItem(slickSlider);
        }

        var cardFooter = new sap.m.VBox("__nep" + ModelData.genID(), {});
        cardContent.addItem(cardFooter);

        var footerText = new sap.m.VBox("__nep" + ModelData.genID(), {
            width: "100%"
        });
        footerText.addItem(footerHtml);
        cardFooter.addItem(footerText);

        if (cardClickable) {
            card.addStyleClass("nepTileClickable");
        }

        if ((dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.DYNAMIC && dataTile.DYNAMIC_TYPE !== "NumericContent") || dataTile.NUMERIC_CLASSIC) {

            sap.n.Launchpad.buildDynamicContent({
                dataTile: dataTile,
                parent: cardBody,
                fioriStyle: dataCat.enableFiori
            });
        }

        sap.n.Card.buildCardAction({
            pageID: pageID,
            dataTile: dataTile,
            parent: cardFooter,
            cardActionParent: card,
            dataCat: dataCat,
            butStartFn: butStartFn
        });
        return cardContainer;
    },

    buildCardIcon: function(dataTile) {

        var oBlockIcon = false;
        var iconLayout = false;

        if (!!dataTile.TILE_ICON_IMAGE) {

            imageUrl = AppCache.mediaUrl + dataTile.TILE_ICON_IMAGE;
            if (AppCache.isMobile || AppCache.isHCP) {
                imageUrl = AppCache.imageData[dataTile.TILE_ICON_IMAGE] || imageUrl;
            }

            oBlockIcon = new sap.m.Image("__nep" + ModelData.genID(), {
                src: imageUrl,
                densityAware: false,
            }).addStyleClass("nepTileImage");

        } else if (dataTile.TILE_ICON && dataTile.TILE_ICON.indexOf("sap-icon") > -1) {

            oBlockIcon = new sap.ui.core.Icon("__nep" + ModelData.genID(), {
                src: dataTile.TILE_ICON,
                size: "2rem",
                useIconTooltip: false
            });

            if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].icon.push(oBlockIcon);
        }
        if (oBlockIcon) {

            iconLayout = new sap.m.HBox("__nep" + ModelData.genID(),{
                justifyContent:"End",
                renderType:"Bare",
                width:"100%"}
            ).addStyleClass("sapFCardIcon sapFAvatar");
            iconLayout.addItem(oBlockIcon);
        }
        return iconLayout;
    },

    buildCardRSS: function(config) {

        var dataTile = config.dataTile;
        var dataCat = config.dataCat;
        var tileWidth = config.tileWidth || sap.n.Layout.tile.SMALL;
        var tileHeight = dataTile.TILE_HEIGHT || false;
        var cardClickable = dataCat.enableFiori || dataTile.FIORI_STYLE;

        var sliderId = "__nep" + ModelData.genID();
        sap.n.Launchpad.slickAction[sliderId] = [];

        var slickSlider = new sap.m.FlexBox(sliderId, {
            width: "100%",
            height: "100%"
        }).addStyleClass("nepFeed");

        slickSlider.onAfterRendering = function(e) {
            try {
                $("#" + sliderId).slick({
                    dots: false,
                    arrows: false,
                    autoplay: true,
                    autoplaySpeed: 4000
                });
            } catch (e) {
                $("#" + sliderId).css("display", "none"); // rss feed not supported
            }
        };

        var ajaxHeader = $.ajaxSettings.headers;
        $.ajaxSettings.headers = {};

        // Get RSS Feed
        var url = AppCache.Url.split(":")[0] + "://api.rss2json.com/v1/api.json?rss_url=" + encodeURIComponent(dataTile.TILE_CONTENT);
        $.ajax({
            url: url,
            method: "GET",
            dataType: "json",
            success: function(data) {

                if (data) {

                    $.each(data.items, function(i, item) {

                        sap.n.Launchpad.slickAction[sliderId].push(function() {
                            window.open(item.guid, "location=0,status=0");
                        });

                        var layoutSlideContent = new sap.m.VBox("__nep" + ModelData.genID(), {
                            height: "100%",
                            width: "100%"
                        }).addStyleClass("nepFeedTitle");
                        slickSlider.addItem(layoutSlideContent);

                        layoutSlideContent.addItem(new sap.m.Text("__nep" + ModelData.genID(), {
                            text: item.title
                        }));

                        var layoutFooter = new sap.m.HBox("__nep" + ModelData.genID(), {
                            justifyContent: "End",
                            alignItems: "Center",
                        }).addStyleClass("nepTileFooter");
                        layoutSlideContent.addItem(layoutFooter);

                        var footer = new sap.m.Text("__nep" + ModelData.genID(), {
                            text: item.pubDate,
                            textAlign: sap.ui.core.TextAlign.Right
                        });
                        if (cardClickable) {
                            footer.addStyleClass("nepTileClickable");
                        }

                        layoutFooter.addItem(footer);
                    });
                }
            },
            error: function(xhr, status, error) {
                console.warn("sap.n.Launchpad.buildSlideTile: AJAX error getting " + url);
            }
        });

        $.ajaxSettings.headers = ajaxHeader;

        config.slickSlider = slickSlider;
        config.butStartFn = function() {
            sap.n.Launchpad.slickAction[sliderId][$("#" + sliderId).slick("slickCurrentSlide")]();
        };

        return this.buildCardDefault(config);
    },

    buildCardApplication: function(config) {

        var pageID = config.pageID;
        var dataTile = config.dataTile;
        var dataCat = config.dataCat;
        var tileWidth = config.tileWidth || sap.n.Layout.tile.SMALL;
        var tileHeight = dataTile.TILE_HEIGHT || false;
        var cardAppContainer;
        var appFill = (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.APPLICATION && dataTile.APP_FILL);

        if (appFill) {

            cardAppContainer = new sap.m.FlexBox("__nep" + ModelData.genID(), {
                width: "100%",
                fitContainer: true
            }).addStyleClass("nepFCardContainer nepTileClickable nepTile" + tileWidth);

            // if (!dataCat.enableCards && !dataCat.enableFiori) {
            //     cardAppContainer.addStyleClass("nepFCardPlain");
            // }

            if (tileHeight) {
                cardAppContainer.addStyleClass("nepTile" + tileHeight);
            }

            var card = new sap.f.Card("__nep" + ModelData.genID(), {
                width: "100%"
            }).addStyleClass("nepFCard");
            cardAppContainer.addItem(card);

            var appContainer = new sap.m.Panel("__nep" + ModelData.genID(), {
                backgroundDesign: "Transparent"
            }).addStyleClass("sapUiNoContentPadding nepTileApplicationPanel");

            card.setContent(appContainer);

            sap.n.Card.buildCardAction({
                pageID: pageID,
                dataTile: dataTile,
                cardActionParent: card,
                dataCat: dataCat
            });

            var startParams = {};
            try {
                startParams = JSON.parse(dataTile.APPLID_TILE_PARA);
            } catch (e) {}

            AppCache.Load(dataTile.APPLID_TILE, {
                load: "card",
                parentObject: appContainer,
                startParams: startParams,
            });
        } else {
            cardAppContainer = this.buildCardDefault(config);
        }
        return cardAppContainer;
    },

    buildCardIntegration: function(config) {

        var cardFooter;
        var pageID = config.pageID;
        var dataTile = config.dataTile;
        var dataCat = config.dataCat;
        var cardICContainer = config.cardICContainer;

        var jsondata = dataTile.MANIFEST;
        if (!jsondata) return;

        try {
            var integrationCard = new sap.ui.integration.widgets.Card("__nep" + ModelData.genID(), {
                width: "100%"
            }).addStyleClass("nepFCard nepICCard");
            integrationCard.setManifest(JSON.parse(jsondata));

            if (sap.n.Launchpad.tileContent[dataTile.GUID]) sap.n.Launchpad.tileContent[dataTile.GUID].integrationCard.push(integrationCard);
            var styleClass = sap.n.Launchpad.setBackgroundShade(dataTile, dataCat, integrationCard);

            if (dataTile.ACTION_TYPE !== sap.n.Launchpad.action.NOACTION) {

                cardFooter = new sap.m.VBox("__nep" + ModelData.genID(), {}).addStyleClass("nepFCard sapFCard nepICCardActionBottom " + styleClass);

                var footerHtml = new sap.ui.core.HTML("__nep" + ModelData.genID(), {});
                footerHtml.setContent("<div class='sapFCardHeader nepFCardFooter' style='height:.25rem;'></div>");

                cardFooter.addItem(footerHtml);

                sap.n.Card.buildCardAction({
                    pageID: pageID,
                    dataTile: dataTile,
                    parent: cardFooter,
                    cardActionParent: integrationCard,
                    dataCat: dataCat
                });
            }

            cardICContainer.addItem(integrationCard);

            if (cardFooter) {
                integrationCard.addStyleClass("nepICCardActionTop");
                cardICContainer.addItem(cardFooter);

                integrationCard.attachBrowserEvent("mouseenter", function(e) {
                    cardFooter.addStyleClass("nepICCardActionHover");
                });
                integrationCard.attachBrowserEvent("mouseleave", function(e) {
                    cardFooter.removeStyleClass("nepICCardActionHover");
                });
                cardFooter.attachBrowserEvent("mouseenter", function(e) {
                    integrationCard.addStyleClass("nepICCardActionHover");
                });
                cardFooter.attachBrowserEvent("mouseleave", function(e) {
                    integrationCard.removeStyleClass("nepICCardActionHover");
                });
            }

        } catch (e) {
            console.error(e);
        }
    },

    setDynamicHeader: function(config) {

        var cardHeader = config.cardHeader;
        var dataTile = config.dataTile;

        cardHeader.destroySideIndicators();

        cardHeader.setNumber(dataTile.TILE_NUMBER);
        cardHeader.setUnitOfMeasurement(dataTile.TILE_UNIT || "");
        cardHeader.setState(dataTile.TILE_VALUECOLOR || 'Neutral');
        cardHeader.setTrend(dataTile.TILE_INDICATOR || 'None');
        cardHeader.setScale(dataTile.TILE_SCALE || "");
        cardHeader.setDetails(dataTile.TILE_DETAILS || "");

        if (typeof dataTile.TILE_SIDETITLE1 !== "undefined") {
            cardHeader.addSideIndicator(new sap.f.cards.NumericSideIndicator("__nep" + ModelData.genID(), {
                title: dataTile.TILE_SIDETITLE1,
                number: dataTile.TILE_SIDENUMBER1 || "",
                unit: dataTile.TILE_SIDEUNIT1 || "",
            }));
        }
        if (typeof dataTile.TILE_SIDETITLE2 !== "undefined") {
            cardHeader.addSideIndicator(new sap.f.cards.NumericSideIndicator("__nep" + ModelData.genID(), {
                title: dataTile.TILE_SIDETITLE2,
                number: dataTile.TILE_SIDENUMBER2 || "",
                unit: dataTile.TILE_SIDEUNIT2 || "",
            }));
        }
        cardHeader.rerender();
    },

    setHeader: function(config) {

        var cardHeader = config.cardHeader;
        var dataTile = config.dataTile;

        if (typeof dataTile.TILE_TITLE !== "undefined") {
            cardHeader.setTitle(dataTile.TILE_TITLE);
        }
        if (typeof dataTile.TILE_INFO !== "undefined") {
            cardHeader.setSubtitle(dataTile.TILE_INFO);
        }
        if (typeof dataTile.TILE_ICON !== "undefined" && cardHeader.setIconSrc && dataTile.ICON_INLINE) {
            cardHeader.setIconSrc(dataTile.TILE_ICON);
        }
        cardHeader.rerender();
    },

    setDynamicFooter: function(config) {

        var cardFooter = config.cardFooter;
        var dataTile = config.dataTile;

        if (dataTile.TILE_FOOTER) {
            cardFooter.setContent("<div class='sapFCardHeader nepFCardFooter'><span class='sapFCardStatus'>" + dataTile.TILE_FOOTER + "</span></div>");
        }
    },

    updateDynamicContent: function(config) {

        var dataTile = config.dataTile;

        if (!sap.n.Launchpad.tileContent[dataTile.GUID]) return;

        $.each(sap.n.Launchpad.tileContent[dataTile.GUID].cardHeader, function(i, cardHeader) {

            sap.n.Card.setHeader({
                cardHeader: cardHeader,
                dataTile: dataTile
            });
        });

        $.each(sap.n.Launchpad.tileContent[dataTile.GUID].cardNumericHeader, function(i, cardHeader) {

            sap.n.Card.setHeader({
                cardHeader: cardHeader,
                dataTile: dataTile
            });
            sap.n.Card.setDynamicHeader({
                cardHeader: cardHeader,
                dataTile: dataTile
            });
        });

        $.each(sap.n.Launchpad.tileContent[dataTile.GUID].cardFooter, function(i, cardFooter) {

            sap.n.Card.setDynamicFooter({
                cardFooter: cardFooter,
                dataTile: dataTile
            });
        });
    },

    buildCardAction: function(config) {

        var pageID = config.pageID;
        var dataTile = config.dataTile;
        var parent = config.parent;
        var cardActionParent = config.cardActionParent;
        var dataCat = config.dataCat;
        // var startBtnIcon = "";
        var startBtnText = AppCache_tOpen.getText();

        var butStart, butStartFn;
        var cardClickable = dataCat.enableFiori || dataTile.FIORI_STYLE || (dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.APPLICATION && dataTile.APP_FILL);

        var supportedBrowser = true;

        if (sap.ui.Device.os.name === "win" && dataTile.BLOCK_WIN && dataTile.BLOCK_WIN !== "[]" && dataTile.BLOCK_WIN.indexOf(sap.ui.Device.browser.name) === -1) {
            supportedBrowser = false;
        }
        if (sap.ui.Device.os.name === "mac" && dataTile.BLOCK_MAC && dataTile.BLOCK_MAC !== "[]" && dataTile.BLOCK_MAC.indexOf(sap.ui.Device.browser.name) === -1) {
            supportedBrowser = false;
        }

        if (supportedBrowser || config.butStartFn) {

            // feed will add its own start function
            butStartFn = config.butStartFn || function(oEvent) {
                cardActionParent.setBusy(true);
                AppCache.busyTile = cardActionParent;
                sap.n.Launchpad.HandleTilePress(dataTile, dataCat, cardActionParent);
            };

            if (dataTile.OPEN_BUTTON_TEXT) {
                startBtnText = dataTile.OPEN_BUTTON_TEXT;
            }
            if (dataTile.OPEN_BUTTON_NOTX) {
                startBtnText = "";
            }

            butStart = new sap.m.Button("__nep" + ModelData.genID(), {
                text: startBtnText,
                press: butStartFn
            });
            if (dataTile.OPEN_BUTTON_ICON) {
                butStart.setIcon(dataTile.OPEN_BUTTON_ICON);
                butStart.addStyleClass("nepBtnIcon");
            }

            butStart.addStyleClass("sapUiTinyMarginEnd");

        } else {

            butStartFn = function(oEvent) {

                var browsers;
                var array = [];

                if (sap.ui.Device.os.name === "win") browsers = JSON.parse(dataTile.BLOCK_WIN);
                if (sap.ui.Device.os.name === "mac") browsers = JSON.parse(dataTile.BLOCK_MAC);

                $.each(browsers, function(i, browser) {

                    var rec = {};
                    switch (browser) {
                        case "cr":
                            rec.NAME = "Chrome";
                            break;
                        case "ed":
                            rec.NAME = "Edge";
                            break;
                        case "ff":
                            rec.NAME = "Firefox";
                            break;
                        case "ie":
                            rec.NAME = "Internet Explorer";
                            break;
                        case "op":
                            rec.NAME = "Opera";
                            break;
                        case "sf":
                            rec.NAME = "Safari";
                            break;
                    }

                    array.push(rec);
                });

                array.sort(sort_by("NAME"));
                modellistSupportedBrowsers.setData(array);
                popSupportedBrowsers.openBy(this);
            };

            butStart = new sap.m.Button("__nep" + ModelData.genID(), {
                text: AppCache_tIncompatible.getText(),
                iconFirst: false,
                icon: "sap-icon://alert",
                press: butStartFn
            });
        }

        if (cardClickable) {

            if (dataTile.ACTION_TYPE !== sap.n.Launchpad.action.NOACTION || dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.SLIDETILE) {
                cardActionParent.attachBrowserEvent("tap", function(e) {
                    butStartFn(e);
                });
            }

        } else {

            // the same tile can be present in multiple tilegroups on multiple pages when the tile is added
            // to favorites or removed from favorites, all buttons must change
            // the sap.n.Launchpad.favButton object controls all the buttons
            if (!sap.n.Launchpad.favButton[dataTile.GUID]) {
                sap.n.Launchpad.favButton[dataTile.GUID] = {
                    favAdd: [],
                    favDel: []
                };
            }

            var cardActionContainer = new sap.m.FlexBox("__nep" + ModelData.genID(), {}).addStyleClass("nepActionContainer nepCardAction sapUiSizeCompact");

            parent.addItem(cardActionContainer);

            if (dataTile.ACTION_TYPE !== sap.n.Launchpad.action.NOACTION || dataTile.TILE_TYPE === sap.n.Launchpad.tiletype.SLIDETILE) {
                butStart.addStyleClass("sapUiTinyMarginEnd");
                cardActionContainer.addItem(butStart);
            }

            if (dataTile.mostused) {

                var butMostused = new sap.m.Button("__nep" + ModelData.genID(), {
                    tooltip: AppCache_tRemoveMostused.getText(), //"Delete from favorite",
                    icon: "sap-icon://fa-solid/history",
                    press: function(oEvent) {

                        sap.n.Utils.message({ // Remove from most used
                            title: AppCache_tRemoveMostused.getText(), //Remove from most used
                            intro: AppCache_tConfirmationNeeded.getText(), //Confirmation needed
                            text1: AppCache_tConfirmRemoveUsed.getText(), //Do you want to remove this card from your most used cards?
                            state: 'Warning',
                            acceptText: AppCache_tRemoveTile.getText(), //Yes, remove card!
                            onAccept: function() {

                                ModelData.Delete(AppCacheTilesRun, "GUID", dataTile.GUID);
                                setCacheAppCacheTilesRun();

                                sap.n.Launchpad.handleFavRedraw();
                            }
                        });
                    }
                }).addStyleClass("sapUiTinyMarginEnd");

                cardActionContainer.addItem(butMostused);
            }

            if (sap.n.Launchpad.includeFavorites) {

                var butFavAdd = new sap.m.Button("__nep" + ModelData.genID(), {

                    tooltip: AppCacheUserActionFavAdd.getTitle(), //"Add to favorite",
                    icon: "sap-icon://unfavorite",
                    press: function(oEvent) {

                        ModelData.Update(AppCacheTilesFav, "GUID", dataTile.GUID, dataTile);
                        setCacheAppCacheTilesFav();

                        sap.n.Launchpad.setFavButtonVisibility(dataTile.GUID, "add");
                        sap.n.Launchpad.handleFavRedraw();
                    }
                }).addStyleClass("sapUiTinyMarginEnd");

                var butFavDel = new sap.m.Button("__nep" + ModelData.genID(), {
                    tooltip: AppCacheUserActionFavDel.getTitle(), //"Delete from favorite",
                    icon: "sap-icon://favorite",
                    press: function(oEvent) {

                        sap.n.Utils.message({ // Remove from favorite
                            title: AppCacheUserActionFavDel.getTitle(), //'Remove from favorite',
                            intro: AppCache_tConfirmationNeeded.getText(), //'Confirmation needed',
                            text1: AppCache_tConfirmRemoveTile.getText(), //'Do you want to remove this tile from your favorites?',
                            state: 'Warning',
                            acceptText: AppCache_tRemoveTile.getText(), //'Yes, remove tile!',
                            onAccept: function() {

                                ModelData.Delete(AppCacheTilesFav, "GUID", dataTile.GUID);
                                setCacheAppCacheTilesFav();

                                sap.n.Launchpad.setFavButtonVisibility(dataTile.GUID, "del");
                                sap.n.Launchpad.handleFavRedraw();
                            }
                        });
                    }
                }).addStyleClass("sapUiTinyMarginEnd");

                // Fav
                var rec = ModelData.Find(AppCacheTilesFav, "GUID", dataTile.GUID);

                if (rec.length) {
                    butFavAdd.setVisible(false);
                    butFavDel.setVisible(true);
                } else {
                    butFavAdd.setVisible(true);
                    butFavDel.setVisible(false);
                }

                // add butFavAdd & butFavDel to the fav button control object
                sap.n.Launchpad.favButton[dataTile.GUID].favAdd.push({
                    pageID: pageID,
                    btn: butFavAdd
                });
                sap.n.Launchpad.favButton[dataTile.GUID].favDel.push({
                    pageID: pageID,
                    btn: butFavDel
                });

                cardActionContainer.addItem(butFavAdd);
                cardActionContainer.addItem(butFavDel);
            }

            if (dataTile.TILE_HELP) {

                cardActionContainer.addItem(new sap.m.Button("__nep" + ModelData.genID(), {
                    tooltip: AppCache_tTileHelp.getText(),
                    icon: "sap-icon://sys-help",
                    press: function(oEvent) {

                        sap.n.Documentation.openWindow({
                            DIA_WIDTH: "440",
                            WIDTH_TYPE: "px",
                            DIA_HEIGHT: "220",
                            HEIGHT_TYPE: "px",
                            DOC_ICON: dataTile.TILE_ICON,
                            DOC_TITLE: dataTile.TILE_TITLE || dataTile.NAME,
                            DOC_DESCR: dataTile.TILE_INFO,
                            DOC_TEXT: dataTile.TILE_HELP_TEXT
                        }, this);
                    }
                })).addStyleClass("sapUiTinyMarginEnd");
            }
        }
    }
};
sap.n.Application = {

    event: {
        changeLayout: "changeLayout",
        openAppNavigation: "openAppNavigation",
        menuNavigation: "menuNavigation",
        back: "back",
        home: "home",
        splitview: "splitview",
        lock: "lock",
        logout: "logout"
    },

    beforeAllClose: function(config) {

        // all registered onBeforeClose events from open apps
        var beforeCloseFn = [];

        //recursive handle function
        var _handle = function() {

            if (beforeCloseFn.length === 0) {

                //run default action if all events have been run, and all either didn't prevent default, or chose to perform the default action
                config.defaultAction();
            }
            else {

                // diaLockProgress.close();

                var fn = beforeCloseFn[0];
                var event = new sap.ui.base.Event('beforeClose', new sap.ui.base.EventProvider());

                //run the before close event
                fn(event, _handle, config.closeType);

                //delete the event from the array of before close events
                beforeCloseFn.splice(0,1);

                if (event.bPreventDefault) {

                    //onBeforeClose event prevented default, for the original action to be performed,
                    //the event that just now prevented default, must run the default action (_handle)
                    event = null;
                }
                else {

                    //the onBeforeClose event did its thing without preventing default, on to the next onBeforeClose event
                    event = null;
                    _handle();
                }
            }
        };

        //collect all the onBeforeClose events registered in open apps
        for (var key in sap.n.Apps) {

            if (sap.n.Apps[key].beforeClose) {
                $.each(sap.n.Apps[key].beforeClose, function(i, fn) {
                    beforeCloseFn.push(fn);
                });
            }
        }

        _handle();
    },

    beforeClose: function(config) {

        var dataTile, eventId, event;
        var preventDefault = false;
        var closeType = config.closeType || "close";

        if (config.eventId) {

            // caller knows it's App ID, use that
            eventId = config.eventId;

        } else if (sap.n.Launchpad.currentTile && sap.n.Launchpad.currentTile.GUID) {

            // get app ID from tile
            eventId = sap.n.Launchpad.currentTile.GUID;

        } else {

            // get app ID from current app
            eventId = AppCache.CurrentApp;
        }

        if (sap.n.Apps[eventId] && sap.n.Apps[eventId].beforeClose) {
            $.each(sap.n.Apps[eventId].beforeClose, function(i, data) {
                var event = new sap.ui.base.Event('beforeClose', new sap.ui.base.EventProvider());
                data(event, config.defaultAction, closeType);
                if (event.bPreventDefault) preventDefault = true;
                event = null;
            });
        }

        if (preventDefault && config.restrictedEnable && dataTile) {
            sap.n.Launchpad.HandleTilePress(dataTile);
        }
        if (!preventDefault) {
            config.defaultAction = function() {
                console.warn("Default Action can only be called if preventDefault was set to true => event.preventDefault(true)");
            };
        }

        return preventDefault;
    },

    // Master suspend event handler, user this if you haven't added any other event handlers, it will cover all suspend events.
    beforeSuspend: function(id, config) {

        var eventId, event;
        var preventDefault = false;

        if (config.eventId) {

            // caller knows it's App ID, use that
            eventId = config.eventId;

        } else if (sap.n.Launchpad.currentTile && sap.n.Launchpad.currentTile.GUID) {

            // get app ID from tile
            eventId = sap.n.Launchpad.currentTile.GUID;

        } else {

            // get app ID from current app
            eventId = AppCache.CurrentApp;
        }

        // Does the app subscribe to the beforeSuspend event
        if (sap.n.Apps[eventId] && sap.n.Apps[eventId].beforeSuspend) {

            var that = this;

            // Loop through all the beforeSuspend events and call them
            $.each(sap.n.Apps[eventId].beforeSuspend, function(i, data) {

                event = new sap.ui.base.Event('beforeSuspend', new sap.ui.base.EventProvider());
                data(event, id, config);
                if (event.bPreventDefault) {
                    preventDefault = true;
                }
                event = null;
            });
        }

        // legacy event handlers
        switch (id) {

            // fired when the user clicks an open app, either in the left sidebar, or in the header bar
            case sap.n.Application.event.openAppNavigation:

                if (this.beforeOpenAppNavigation(eventId, config.appid, config.defaultAction)) preventDefault = true;
                break;

                // fired when a tilegroup or sub tilegroup is clicked
            case sap.n.Application.event.menuNavigation:

                if (this.beforeMenuNavigation(eventId, config.menuId, config.menuTxt, config.defaultAction)) preventDefault = true;
                break;

                //
            case sap.n.Application.event.back:

                if (this.beforeBack(eventId, config.defaultAction)) preventDefault = true;
                break;

            case sap.n.Application.event.home:

                if (this.beforeHome(eventId, config.defaultAction)) preventDefault = true;
                break;

        }
        if (!preventDefault) {
            config.defaultAction = function() {
                console.warn("Default Action can only be called if preventDefault was set to true => event.preventDefault(true)");
            };
        }

        return preventDefault;
    },

    beforeHome: function(eventId, defaultAction) {

        var preventDefault = false;

        if (sap.n.Apps[eventId] && sap.n.Apps[eventId].beforeHome) {
            $.each(sap.n.Apps[eventId].beforeHome, function(i, data) {
                var event = new sap.ui.base.Event('beforeHome', new sap.ui.base.EventProvider());
                data(event, defaultAction);
                if (event.bPreventDefault) preventDefault = true;
                event = null;
            });
        }
        if (preventDefault) {
            return true;
        } else {
            sap.n.Phonegap.onBackButtonCustom = null;
            return false;
        }
    },

    beforeBack: function(eventId, defaultAction) {

        var preventDefault = false;

        if (sap.n.Apps[eventId] && sap.n.Apps[eventId].beforeBack) {
            $.each(sap.n.Apps[eventId].beforeBack, function(i, data) {
                var event = new sap.ui.base.Event('beforeBack', new sap.ui.base.EventProvider());
                data(event, defaultAction);
                if (event.bPreventDefault) preventDefault = true;
                event = null;
            });

            if (preventDefault) {
                return true;
            } else {
                sap.n.Phonegap.onBackButtonCustom = null;
                return false;
            }
        }
    },

    beforeOpenAppNavigation: function(eventId, appId, defaultAction) {

        var preventDefault = false;

        if (sap.n.Apps[eventId] && sap.n.Apps[eventId].beforeOpenAppNavigation) {
            $.each(sap.n.Apps[eventId].beforeOpenAppNavigation, function(i, data) {
                var event = new sap.ui.base.Event('beforeOpenAppNavigation', new sap.ui.base.EventProvider());
                data(event, appId, defaultAction);
                if (event.bPreventDefault) preventDefault = true;
                event = null;
            });
        }
        return preventDefault;
    },

    beforeMenuNavigation: function(eventId, menuId, menuTxt, defaultAction) {

        var preventDefault = false;

        if (sap.n.Apps[eventId] && sap.n.Apps[eventId].beforeMenuNavigation) {
            $.each(sap.n.Apps[eventId].beforeMenuNavigation, function(i, data) {
                var event = new sap.ui.base.Event('beforeMenuNavigation', new sap.ui.base.EventProvider());
                data(event, menuId, menuTxt, defaultAction);
                if (event.bPreventDefault) preventDefault = true;
                event = null;
            });
        }
        return preventDefault;
    },
};
sap.n.Launchpad.addFavDndSupport = function() {

    if (sap.ui.Device.support.touch || parseFloat(sap.ui.version) < 1.54) {
        AppCacheTilesFav.setFooterText("Use arrow keys to sort Favorites");
        colAppCacheTilesFavArrange.setVisible(true);
        return;
    }

    AppCacheTilesFav.setFooterText(AppCache_tDNDFav.getText());
    colAppCacheTilesFavArrange.setVisible(false);

    var sorterFav = new sap.ui.core.dnd.DragDropInfo("sorterFav", {
        dropPosition: "Between",
        targetAggregation: "items",
        drop: function(oEvent) {

            var oDraggedControl = oEvent.getParameter("draggedControl");
            var oDroppedControl = oEvent.getParameter("droppedControl");

            var oDraggedContext = oDraggedControl.getBindingContext();
            var oDroppedContext = oDroppedControl.getBindingContext();

            if (!oDraggedContext && !oDroppedContext) return;

            var oDraggedData = oDraggedContext.getObject();
            var oDroppedData = oDroppedContext.getObject();

            var indexDrag = 0;
            var indexDrop = 0;

            $.each(modelAppCacheTilesFav.oData, function(i, data) {
                if (data.GUID === oDraggedData.GUID) indexDrag = i;
                if (data.GUID === oDroppedData.GUID) indexDrop = i;
            });

            sap.n.Launchpad.arrayMove(modelAppCacheTilesFav.oData, indexDrag, indexDrop);
            modelAppCacheTilesFav.refresh();
        },
        sourceAggregation: "items"
    });

    AppCacheTilesFav.addDragDropConfig(sorterFav);
};
sap.n.Launchpad.addSplitviewDndSupport = function() {

    if (sap.ui.Device.support.touch || parseFloat(sap.ui.version) < 1.54) {
        return;
    }

    TabSplitviewList.setFooterText(AppCache_tDNDSplitview.getText());

    var sorterSplitview = new sap.ui.core.dnd.DragDropInfo("sorterSplitview", {
        dropPosition: "Between",
        targetAggregation: "items",
        drop: function(oEvent) {

            var oDraggedControl = oEvent.getParameter("draggedControl");
            var oDroppedControl = oEvent.getParameter("droppedControl");

            var oDraggedContext = oDraggedControl.getBindingContext();
            var oDroppedContext = oDroppedControl.getBindingContext();

            if (!oDraggedContext && !oDroppedContext) return;

            var oDraggedData = oDraggedContext.getObject();
            var oDroppedData = oDroppedContext.getObject();

            var indexDrag = 0;
            var indexDrop = 0;

            $.each(modelTabSplitviewList.oData, function(i, data) {
                if (data.TILE_TITLE === oDraggedData.TILE_TITLE) indexDrag = i;
                if (data.TILE_TITLE === oDroppedData.TILE_TITLE) indexDrop = i;
            });

            sap.n.Launchpad.arrayMove(modelTabSplitviewList.oData, indexDrag, indexDrop);
            modelTabSplitviewList.refresh();
        },
        sourceAggregation: "items"
    });

    TabSplitviewList.addDragDropConfig(sorterSplitview);
};

sap.n.Launchpad.arrayMove = function(arr, fromPos, toPos) {
    while (fromPos < 0) {
        fromPos += arr.length;
    }
    while (toPos < 0) {
        toPos += arr.length;
    }
    if (toPos >= arr.length) {
        var k = toPos - arr.length + 1;
        while (k--) {
            arr.push(undefined);
        }
    }
    arr.splice(toPos, 0, arr.splice(fromPos, 1)[0]);
};
// Global Hash Navigation Handler
sap.n.HashNavigation = {};
sap.n.HashNavigation.data;
sap.n.HashNavigation.object;
sap.n.HashNavigation.action;
sap.n.HashNavigation.dataCat;

sap.n.HashNavigation.nav = function(navObject) {

    var navAppplid = navObject.applid;
    var navTitle = navObject.title || "";
    var navInfo = navObject.info || "";
    var navIconSrc = navObject.iconSrc || "";
    var navIconImg = navObject.iconImg || "";
    var navStartParams = navObject.startParams || {};

    if (navAppplid) {
        AppCache.Load(navAppplid, {
            load: "nav",
            navTitle: navTitle,
            navInfo: navInfo,
            navIconSrc: navIconSrc,
            navIconImg: navIconImg,
            startParams: navStartParams
        });
    }
};

sap.n.HashNavigation._handler = function() {

    // Any content ?
    if (location.hash === "" || location.hash === "#") {
        return;
    }

    // AppCache Home
    if (location.hash === "#Home") {
        AppCache._Home();
        return;
    }

    // AppCache Back
    if (location.hash === "#Back") {
        AppCache._Back();
        return;
    }

    sap.n.Explored.HashNavigation(location.hash);

    // ENHANCEMENT: hashNavigation
    // Implement the hashNavigation enhancement spot in an enhancement: Cockpit => Run => Enhancements
    // Add the enhancement to a Launchpad or Mobile Client to use the enhancement
    var preventDefault = sap.n.Enhancement.hashNavigation(location.hash);
    if (preventDefault) return;

    if (location.hash.substring(0, 4) === "#nav") {

        var navHash = location.hash.substring(5);
        var navObject = decodeURIComponent(navHash);
        if (navObject.substring(0, 1) === "{") {
            sap.n.HashNavigation.nav(JSON.parse(navObject));
        } else if (navObject.substring(0, 1) === "[") {
            navObject = JSON.parse(navObject);
            $.each(navObject, function(i, obj) {
                sap.n.HashNavigation.nav(obj);
            });
        }
        return;
    }

    // Parse Hash
    var parts = location.hash.substring(1).split('&');

    // Object
    if (parts[0].indexOf("-") > -1) {
        sap.n.HashNavigation.object = parts[0].split('-')[0];
        sap.n.HashNavigation.action = parts[0].split('-')[1];
    }

    if (!sap.n.HashNavigation.action && !sap.n.HashNavigation.object) return;

    // Data
    if (typeof parts[1] !== "undefined") {
        sap.n.HashNavigation.data = decodeURIComponent(parts[1]);
        try {
            sap.n.HashNavigation.data = JSON.parse(sap.n.HashNavigation.data);
        } catch (e) {
            sap.n.HashNavigation.data = {
                error: "Error in JSON conversion, revise hash data!"
            };
        }
    } else {
        sap.n.HashNavigation.data = {};
    }

    sap.n.HashNavigation.navObjEventHandler = {
        updateNavigationItemFn: function(){},
    };

    // Tile
    if (typeof parts[0] !== "undefined") {

        if (!modelAppCacheTiles.oData.length && !modelAppCacheTileGroup.oData.length) {
            sap.n.HashNavigation.initialLoad(sap.n.HashNavigation.guid);
            return;
        }

        var tileData = sap.n.HashNavigation.findTile();
        var dataCat = sap.n.HashNavigation.findTilegroup();
        var tilegroupSubData = sap.n.HashNavigation.findTilegroupSub();

        if (tileData) {

            if (sap.n.Launchpad.currentTile.GUID === tileData.GUID) {

                if (!sap.n.Apps[tileData.GUID]) {
                    sap.n.Launchpad._HandleTilePress(tileData, sap.n.HashNavigation.dataCat, {}, sap.n.HashNavigation.navObjEventHandler);
                    return;
                }

                if (sap.n.Apps[tileData.GUID] && sap.n.Apps[tileData.GUID].onNavigation) {
                    $.each(sap.n.Apps[tileData.GUID].onNavigation, function(i, data) {

                        data(sap.n.HashNavigation.data);
                        sap.n.HashNavigation.data = {};
                    });
                } else {
                    sap.n.Launchpad._HandleTilePress(tileData, sap.n.HashNavigation.dataCat, {}, sap.n.HashNavigation.navObjEventHandler);
                }
            } else {
                sap.n.Launchpad._HandleTilePress(tileData, sap.n.HashNavigation.dataCat, sap.n.HashNavigation.data, sap.n.HashNavigation.navObjEventHandler);
            }

        } else if (sap.n.Launchpad.hashTile) {

            // in the rare case that the user does not reload the launchpad after the admin adds
            // hash navigation to the tile, this loads the tile as if no hash navigation exists
            sap.n.Launchpad._HandleTilePress(sap.n.Launchpad.hashTile, sap.n.HashNavigation.dataCat, {}, sap.n.HashNavigation.navObjEventHandler);
            sap.n.Launchpad.hashTile = null;

        } else if (dataCat) {

            // overwrite static start params defined in tile group configuration
            if (!$.isEmptyObject(sap.n.HashNavigation.data)) {
                dataCat.APPLID_PARAMS = sap.n.HashNavigation.data;
            }
            if(!dataCat.APPLID_PARAMS) dataCat.APPLID_PARAMS = {};

            sap.n.Launchpad._HandleTilegroupPress(dataCat, {}, sap.n.HashNavigation.navObjEventHandler);

            if (sap.n.Apps[dataCat.APPLID] && sap.n.Apps[dataCat.APPLID].onNavigation) {
                $.each(sap.n.Apps[dataCat.APPLID].onNavigation, function(i, data) {

                    data(sap.n.HashNavigation.data);
                    sap.n.HashNavigation.data = {};
                });
            }

        } else if (tilegroupSubData) {

            var subCatLink = ModelData.FindFirst(AppCacheTileGroupLink, "GUID_TILEGROUP", tilegroupSubData.GUID);
            dataCat = ModelData.Find(AppCacheTileGroup, "GUID", subCatLink.GUID)[0];
            if (dataCat) {
                sap.n.Launchpad._HandleTilegroupSubPress(dataCat, tilegroupSubData.GUID, sap.n.HashNavigation.data);
            }

        } else {
            AppCacheDiaHash.open();
            location.hash = "";
        }
    }
};

// Wait loop before tiles are loaded at initial start
sap.n.HashNavigation.initialLoad = function(value) {
    (function() {
        var tries = 0;

        function check() {
            if (modelAppCacheTiles.oData.length) {

                var tileData = sap.n.HashNavigation.findTile();

                if (sap.n.Launchpad._HandleTilePress && tileData) {
                    sap.n.Launchpad._HandleTilePress(tileData, sap.n.HashNavigation.dataCat, {}, sap.n.HashNavigation.navObjEventHandler);
                } else {

                    tries++;

                    if (tries < 30) {
                        setTimeout(check, 100);
                    } else {
                        AppCacheDiaHash.open();
                        location.hash = "";
                    }
                }
            } else {
                setTimeout(check, 100);
            }
        }
        check();
    })();
};

// Find Tile
sap.n.HashNavigation.findTile = function() {
    return ModelData.Find(AppCacheTiles, ["NAV_OBJECT", "NAV_ACTION"], [sap.n.HashNavigation.object, sap.n.HashNavigation.action])[0];
};

// Find Tilegroup, but not those hidden (set on launchpad)
sap.n.HashNavigation.findTilegroup = function() {
    return ModelData.Find(AppCacheTileGroup, ["NAV_OBJECT", "NAV_ACTION", "HIDE_MENU"], [sap.n.HashNavigation.object, sap.n.HashNavigation.action, false])[0];
};

// Find Sub Tilegroup, but not those with hidden headers
sap.n.HashNavigation.findTilegroupSub = function() {
    return ModelData.Find(AppCacheTileGroup, ["NAV_OBJECT", "NAV_ACTION", "HIDE_HEADER"], [sap.n.HashNavigation.object, sap.n.HashNavigation.action, false])[0];
};

// Navigation API
sap.n.HashNavigation.toExternal = function(data) {
    if (data.params) {
        if (data.params === "{}") {
            location.hash = data.target.semanticObject + "-" + data.target.action;
        } else {
            location.hash = data.target.semanticObject + "-" + data.target.action + "&" + encodeURIComponent(JSON.stringify(data.params));
        }
    } else {
        location.hash = data.target.semanticObject + "-" + data.target.action;
    }
};

// Register Event
window.onhashchange = function() {
    sap.n.HashNavigation._handler();
};
sap.n.Fingerprint = {

    android: {

        onSupported: function(result) {

            if (typeof FingerprintAuth === "undefined") return;

            var userData = AppCache.getUserData();

            // Check hardware, enrollment and AppCacheUsers
            if (result.isAvailable && result.hasEnrolledFingerprints && userData.BIOMETRIC) {

                // Set keypad button
                butNumpadLogin.setIcon("sap-icon://mri-scan");
                butNumpadLogin.setEnabled(true);

                var pluginLanguage = sap.n.Fingerprint.android.getLanguage();

                // Biometric authentication config
                var decryptConfig = {
                    clientId: AppCache.AppID,
                    username: AppCache.CurrentUname,
                    token: userData.TOKEN,
                    disableBackup: true,
                    maxAttempts: 5,
                    locale: pluginLanguage,
                    userAuthRequired: true,
                    dialogMessage: AppCache_Fingerprint.getText()
                };

                FingerprintAuth.decrypt(decryptConfig, sap.n.Fingerprint.android.onSuccess, sap.n.Fingerprint.android.onError);
            }
        },

        notSupported: function(error) {
            butNumpadLogin.setIcon("sap-icon://accept");
            AppCache.biometricAuthentication = false;
        },

        onSuccess: function(result) {
            if (result.password) sap.n.Fingerprint.handleLogon(result.password);
        },

        onError: function(error) {
            console.log("onError: " + error);
        },

        getLanguage: function() {

            var userData = AppCache.getUserData();

            // Get user language
            var pluginLanguage;
            var language;

            if (userData.LANGU_NAD) {
                language = userData.LANGU_NAD;
            } else {
                language = userData.LANGU_SAP;
            }

            pluginLanguage = sap.n.Shell.getSapLanguage(language);
            if (pluginLanguage === "en") pluginLanguage = "en_US";
            return pluginLanguage;
        }
    },

    ios: {
        checkSupport: function() {

            var userData = AppCache.getUserData();

            if (userData.BIOMETRIC) {

                // Set keypad button
                butNumpadLogin.setIcon('sap-icon://mri-scan');
                butNumpadLogin.setEnabled(true);

                // Authenticate using iOS SAMKeychain library
                var dialogText = AppCache_Fingerprint.getText();
                if (sap.ui.Device.os.ios && sap.ui.Device.os.version >= 11 && typeof device !== "undefined" && device.model.indexOf('iPhone10') > 0) dialogText = AppCache_tEnableFaceId.getText();

                CID.checkAuth(dialogText, function(res) {
                    if (res == 'success') {
                        cordova.plugins.SecureKeyStore.get(function(res) {
                            sap.n.Fingerprint.handleLogon(res);
                        }, function(error) {
                            console.log(error);
                        }, userData.UNAME);
                    } else {
                        console.log(res);
                    }
                }, function(error) {
                    console.log(error);
                });

            } else {
                butNumpadLogin.setIcon('sap-icon://accept');
                butNumpadLogin.setEnabled(false);
            }
        }
    },

    handleLogon: function(config) {

        if (!config) return;

        var logonData = JSON.parse(config);

        switch (AppCacheNav.getCurrentPage().sId) {

            case "AppCache_boxPasscodeEntry":
                NumPad.numValue = logonData.password;
                NumPad.Logon();
                break;

            case "AppCache_boxLogon":
                AppCache_inUsername.setValue(logonData.username);
                AppCache_inPassword.setValue(logonData.password);
                AppCache_butLogon.firePress();
                break;
        }
    },

    getPasscode: function() {

        if (!AppCache.biometricAuthentication) return;
        if (typeof window.cordova === "undefined" && window.navigator.simulator) return;

        if (sap.ui.Device.os.ios && typeof CID !== "undefined") sap.n.Fingerprint.ios.checkSupport();
        if (sap.ui.Device.os.android && window.FingerprintAuth) FingerprintAuth.isAvailable(sap.n.Fingerprint.android.onSupported, sap.n.Fingerprint.android.notSupported);
    },

    savePasscode: function(config) {

        // No Cordova
        if (typeof window.cordova === "undefined" || window.navigator.simulator) {
            AppCache.setEnablePasscodeEntry();
            return;
        }

        // On the right page ?
        if (!config.basicAuth && !AppCacheNav.getCurrentPage().sId === "AppCache_boxPasscode") {
            AppCache.setEnablePasscodeEntry();
            return;
        }

        // IOS and no Plugin
        if (sap.ui.Device.os.ios && typeof CID === "undefined" && !cordova.plugins.SecureKeyStore) {
            AppCache.setEnablePasscodeEntry();
            return;
        }

        // Android and no Plugin
        if (sap.ui.Device.os.android && !window.FingerprintAuth) {
            AppCache.setEnablePasscodeEntry();
            return;
        }

        var userData = AppCache.getUserData();
        var dialogText = AppCache_tEnableFingerprint.getText();
        if (sap.ui.Device.os.ios && sap.ui.Device.os.version >= 11 && typeof device !== "undefined" && device.model.indexOf('iPhone10') > 0) dialogText = AppCache_tEnableFaceId.getText();

        // Android
        if (sap.ui.Device.os.android) {

            try {

                FingerprintAuth.isAvailable(function(result) {

                    if (result.isAvailable && result.hasEnrolledFingerprints) {

                        // Get user language
                        var pluginLanguage = sap.n.Fingerprint.android.getLanguage();
                        var dialogText = AppCache_tEnableFingerprint.getText();

                        // Biometric authentication config
                        var encryptConfig = {
                            clientId: AppCache.AppID,
                            username: AppCache.CurrentUname,
                            password: JSON.stringify(config),
                            disableBackup: true,
                            maxAttempts: 5,
                            locale: pluginLanguage,
                            userAuthRequired: true,
                            dialogMessage: dialogText
                        };

                        // Encrypt
                        FingerprintAuth.encrypt(encryptConfig, function(result) {

                            if (result.withFingerprint || result.withBackup) {
                                userData.TOKEN = result.token;
                                setCacheAppCacheUsers();
                                AppCache.setEnablePasscodeEntry();
                            } else {
                                console.warn("FingerprintAuth Result: " + JSON.stringify(result));
                                AppCache.biometricAuthentication = false;
                                AppCache.setEnablePasscodeEntry();
                            }

                        }, function(error) {
                            console.warn("FingerprintAuth Error: " + error);
                            AppCache.biometricAuthentication = false;
                            AppCache.setEnablePasscodeEntry();
                        });
                    } else {
                        console.warn("FingerprintAuth not Available: " + JSON.stringify(result));
                        AppCache.biometricAuthentication = false;
                        AppCache.setEnablePasscodeEntry();
                    }
                }, function(error) {
                    console.warn("FingerprintAuth Error: " + error);
                    AppCache.biometricAuthentication = false;
                    AppCache.setEnablePasscodeEntry();
                });
            } catch (error) {
                console.warn("FingerprintAuth Error: " + error);
                AppCache.biometricAuthentication = false;
                AppCache.setEnablePasscodeEntry();
            }

            // IOS
        } else if (sap.ui.Device.os.ios) {

            CID.checkAuth(dialogText, function(res) {

                if (res == 'success') {
                    cordova.plugins.SecureKeyStore.set(function(res) {
                        AppCache.setEnablePasscodeEntry();
                    }, function(error) {
                        console.warn('Failed to set KeyChain key: ' + error);
                        AppCache.biometricAuthentication = false;
                        AppCache.setEnablePasscodeEntry();
                    }, AppCache.CurrentUname, JSON.stringify(config));

                } else {
                    console.log(res);
                    AppCache.biometricAuthentication = false;
                    AppCache.setEnablePasscodeEntry();
                }

            }, function(error) {
                console.log('Fingerprint authentication cancelled');
                AppCache.biometricAuthentication = false;
                AppCache.setEnablePasscodeEntry();
            });

            // Windows
        } else if (sap.ui.Device.os.windows) {
            AppCache.biometricAuthentication = false;
            AppCache.setEnablePasscodeEntry();
        }
    }
};
sap.n.Utils = {

    killWait: 1,
    popupWait: 1,
    popupDuration: 3000,

    userDefaultBackup: "{}",

    //sap.n.Utils.userSetting definition
    userSetting: {
        update: function(userSettingData, success, error) {
            var successCallback = success || function() {};
            var errorCallback = error || function() {};
            modelUserSetting.setData(userSettingData);
            getOnlineUserSettingUpdate().success(function(data) {
                successCallback();
            }).error(function(xhr, status, error) {
                errorCallback(xhr, status, error);
            });
        },
        read: function(userSettingData, success, error) {
            var successCallback = success || function() {};
            var errorCallback = error || function() {};
            modelUserSetting.setData(userSettingData);
            getOnlineUserSettingRead().success(function(data) {
                successCallback(modelUserSetting.oData);
            }).error(function(xhr, status, error) {
                errorCallback(xhr, status, error);
            });
        }
    },

    updateUserDefault: function(type) {

        messageUserDefault.destroyItems();

        getOnlineUserDefaultUpdate(type).success(function(data) {

            if (sap.n.Utils.displayMessages(messageUserDefault)) {
                modelAppCacheUserDefaults.setData(JSON.parse(sap.n.Utils.userDefaultBackup));
                modelAppCacheUserDefaults.oData.EDIT = false;
                modelAppCacheUserDefaults.refresh();
                return;
            }
            var userData = modelAppCacheUser.oData;
            var settings = modelAppCacheUserDefaults.oData;
            settings.EDIT = true;

            userData.LANGU_SAP = settings.SPRAS;
            userData.DATE_FORMAT = settings.DATFM;
            userData.TIME_FORMAT = settings.TIMEFM;
            userData.NUMBER_GROUPING = settings.NUMBER_GROUPING;
            userData.NUMBER_DECIMAL = settings.NUMBER_DECIMAL;
            userData.TZONE = settings.TZONE;
            userData.TZONE_DESCRIPT = settings.tzoneDescription;

            if (userData && userData.NUMBER_GROUPING) {
                if (userData.NUMBER_GROUPING === "_") {
                    userData.NUMBER_GROUPING = " ";
                }
            }

            var cachedUserDefault = localStorage.getItem(userData.UNAME + ".default");
            if (cachedUserDefault && cachedUserDefault !== "undefined") {

                neptune.UserDefault = JSON.parse(cachedUserDefault);

                neptune.UserDefault.language = userData.LANGU_SAP || "";
                neptune.UserDefault.date = userData.DATE_FORMAT || "1";
                neptune.UserDefault.time = userData.TIME_FORMAT || "HH:mm";
                neptune.UserDefault.numberGrouping = userData.NUMBER_GROUPING || " ";
                neptune.UserDefault.numberDecimal = userData.NUMBER_DECIMAL || ",";
                neptune.UserDefault.tzone = userData.TZONE || "";
                neptune.UserDefault.tzoneDescription = userData.TZONE_DESCRIPT || "";

                localStorage.setItem(neptune.UserDefault.uname + ".default", JSON.stringify(neptune.UserDefault));
            }
            modelAppCacheUserDefaults.refresh();

        }).error(function(result, status, error) {

            var msg = result.responseText || result.statusText || error || AppCache_tNoConnection.getText();

            modelAppCacheUserDefaults.setData(JSON.parse(sap.n.Utils.userDefaultBackup));
            modelAppCacheUserDefaults.oData.EDIT = false;
            modelMsgList.setData([{
                TYPE: "E",
                MESSAGE: msg
            }]);
            sap.n.Utils.displayMessages(messageUserDefault);
        });
    },

    displayMessages: function(msgArea) {
        var updErr = false;
        $.each(modelMsgList.oData, function(i, msg) {
            var type = 'Information';
            if (msg.TYPE === "E") {
                type = "Error";
                updErr = true;
            } else if (msg.TYPE === "W") {
                type = "Warning";
            } else if (msg.TYPE === "S") {
                type = "Success";
            }
            msgArea.addItem(new sap.m.MessageStrip("__nep" + ModelData.genID(), {
                showCloseButton: false,
                showIcon: true,
                text: msg.MESSAGE,
                type: type
            }).addStyleClass("nepMessageStrip"));
        });
        return updErr;
    },

    MessageToast: function(message, duration, killWait, popupWait) {
        sap.m.MessageToast.show(message);
    },

    addViewIdToAppCss: function(css, viewId) {

        if (!AppCache.containerizeAppCss) {
            return css;
        }

        // remove line breaks
        css = css.replace(/(\r\n|\n|\r)/gm, "");

        // css from app with added view id
        var viewCss = "";
        viewId = "[id^=" + viewId + "--]";

        css = css.replace("<style>", "");
        css = css.replace("</style>", "");
        css = this._removeCssComment(css);
        css = this._removeWhiteSpace(css, "{");
        css = this._removeWhiteSpace(css, "}");
        css = this._removeWhiteSpace(css, ";");

        var ixRule = -1;
        var ixBlockStart = -1;
        var ix = -1;

        do {
            ixRule = css.indexOf("@");
            ixBlockStart = css.indexOf("{");

            // a @rule is next in line
            if (ixRule > -1 && ixRule < ixBlockStart) {

                // viewId will be added to all selectors in @media
                if (css.indexOf("@media") === ixRule || css.indexOf("@supports") === ixRule || css.indexOf("@document") === ixRule) {

                    var mediaCnt = null;
                    var ixMediaBlockStart = -1;
                    var ixMediaBlockEnd = -1;

                    for (var i = 0; i < css.length; i++) {

                        if (mediaCnt === null) {
                            if (css[i] === "{") {
                                ixMediaBlockStart = i + 1;
                                viewCss += css.slice(0, i + 1);
                                mediaCnt = 1;
                            }
                        } else if (css[i] === "{") {
                            ++mediaCnt;
                        } else if (css[i] === "}") {
                            --mediaCnt;
                        }
                        if (mediaCnt === 0) {
                            ixMediaBlockEnd = i;
                            break;
                        }
                    }

                    // var mediaBlockCss = sap.n.Utils._addId(css.slice(ixMediaBlockStart, ixMediaBlockEnd), viewId);
                    var mediaBlockCss = sap.n.Utils._addIdMediaQuery(css.slice(ixMediaBlockStart, ixMediaBlockEnd), viewId);
                    viewCss += mediaBlockCss + '}';
                    css = css.slice(ixMediaBlockEnd + 1);
                }
                // all other @rules will be added as is
                else {
                    var ixRuleEnd = css.indexOf(";");
                    if (css.indexOf("{") < css.indexOf(";")) {
                        ixRuleEnd = css.indexOf("}");
                    }
                    viewCss += css.slice(0, ixRuleEnd + 1);
                    css = css.slice(ixRuleEnd + 1).trim();
                }
            }
            // a normal selector block is next in line
            else {

                var blockCss = sap.n.Utils._addId(css.slice(0, ixBlockStart), viewId);
                var ixBlockEnd = css.indexOf("}");

                viewCss += blockCss + css.slice(ixBlockStart, ixBlockEnd + 1);
                css = css.slice(ixBlockEnd + 1).trim();

            }

        } while (css.length > 0);

        return "<style>" + viewCss + "</style>";
    },

    _addIdMediaQuery: function(css, viewId) {

        var viewCss = "";
        var ixBlockStart = -1;

        do {
            ixBlockStart = css.indexOf("{");

            var blockCss = sap.n.Utils._addId(css.slice(0, ixBlockStart), viewId);
            var ixBlockEnd = css.indexOf("}");

            viewCss += blockCss + css.slice(ixBlockStart, ixBlockEnd + 1);
            css = css.slice(ixBlockEnd + 1).trim();

        } while (css.length > 0);

        return viewCss;
    },

    _addId: function(css, viewId) {
        var viewCss = "";
        var ix = -1;
        do {
            ix = css.indexOf(",");
            if (ix > -1) {
                viewCss += viewId + " " + css.slice(0, ix) + ", ";
                viewCss += viewId + css.slice(0, ix) + ", ";
                css = css.slice(ix + 1).trim();
            }
        } while (ix > -1);
        var del = ", ";
        if (css[css.length - 1] === "}") {
            del = " ";
        }
        viewCss += viewId + " " + css + del;
        viewCss += viewId + css;
        return viewCss;
    },

    _removeCssComment: function(css) {
        var pureCss = "";
        var ix = -1;
        do {
            ix = css.indexOf("/*");
            if (ix > -1) {
                pureCss += css.slice(0, ix);
                var ixEnd = css.indexOf("*/");
                css = css.slice(ixEnd + 2);
            }
        } while (ix > -1);
        pureCss += css;
        return pureCss;
    },

    _removeWhiteSpace: function(css, del) {
        var reg = false;
        var cleanCss = "";
        for (var i = 0; i < css.length; i++) {
            if (css[i] === del) {
                reg = true;
                cleanCss += css[i];
            } else if (css[i] !== " ") {
                reg = false;
            }
            if (!reg) {
                cleanCss += css[i];
            }
        }
        return cleanCss;
    },

    message: function(config) {

        var acceptMessage = new sap.m.Button("__nep" + ModelData.genID(), {
            press: function(oEvent) {
                this.getParent().onAccept();
                if (this.getParent()) this.getParent().close();
            }
        });
        var declineMessage = new sap.m.Button("__nep" + ModelData.genID(), {
            press: function(oEvent) {
                this.getParent().onDecline();
                if (this.getParent()) this.getParent().close();
            }
        });
        var diaMessage = new sap.m.Dialog("__nep" + ModelData.genID(), {
            draggable: true,
            verticalScrolling: false,
            stretchOnPhone: true,
            afterClose: function(oEvent) {
                this.onClose();
            },
            beforeClose: function(oEvent) {
                this.setEndButton();
                this.setBeginButton();
            }
        });
        var headerMessage = new sap.m.Bar("__nep" + ModelData.genID(), {
            design: "Header"
        });
        diaMessage.setCustomHeader(headerMessage);

        if (!config.hideCloseBtn) {
            headerMessage.addContentRight(new sap.m.Button("__nep" + ModelData.genID(), {
                icon: "sap-icon://decline",
                press: function(oEvent) {
                    this.getParent().getParent().close();
                }
            }));
        }

        var objHeaderMessage = new sap.m.ObjectHeader("__nep" + ModelData.genID(), {
            numberUnit: "ENTRIES",
            responsive: true
        });
        diaMessage.addContent(objHeaderMessage);
        var layoutMessage = new sap.m.VBox("__nep" + ModelData.genID(), {});
        diaMessage.addContent(layoutMessage);

        if (!!config.text1) {
            layoutMessage.addItem(new sap.m.Text("__nep" + ModelData.genID(), {
                text: config.text1
            }));
        }
        if (!!config.text2) {
            layoutMessage.addItem(new sap.m.Text("__nep" + ModelData.genID(), {
                text: config.text2
            }));
        }
        if (!!config.text3) {
            layoutMessage.addItem(new sap.m.Text("__nep" + ModelData.genID(), {
                text: config.text3
            }));
        }

        layoutMessage.addStyleClass("sapUiMediumMargin");
        diaMessage.addStyleClass("sapUiSizeCompact");
        diaMessage.addStyleClass("nepDialogWithObjHeader");
        diaMessage.addStyleClass("sapUiNoMargin");
        diaMessage.addStyleClass("sapUiNoContentPadding");

        var title = config.title || 'Message';
        var intro = config.intro || '';
        var icon = config.icon || '';

        objHeaderMessage.setTitle(title);
        objHeaderMessage.setIntro(intro);
        acceptMessage.setText(config.acceptText);
        declineMessage.setText(config.declineText);

        if (config.declineText) {
            diaMessage.setBeginButton(declineMessage);
        }
        if (config.acceptText) {
            diaMessage.setEndButton(acceptMessage);
        }

        switch (config.state) {
            case 'Error':
                objHeaderMessage.setIcon('sap-icon://fa-solid/exclamation-circle');
                objHeaderMessage.addStyleClass('nepStateError');
                break;

            case 'Warning':
                objHeaderMessage.setIcon('sap-icon://fa-solid/exclamation-circle');
                objHeaderMessage.addStyleClass('nepStateWarning');
                break;

            case 'Success':
                objHeaderMessage.setIcon('sap-icon://fa-solid/info-circle');
                objHeaderMessage.addStyleClass('nepStateSuccess');
                break;

            default:
                objHeaderMessage.setIcon('sap-icon://fa-solid/info-circle');
        }
        if (icon) {
            objHeaderMessage.setIcon(icon);
        }
        diaMessage.onClose = config.onClose || function() {};
        diaMessage.onAccept = config.onAccept || function() {};
        diaMessage.onDecline = config.onDecline || function() {};

        diaMessage.open();
    },

    sapDate: function(date) {
        if (!date) {
            date = new Date();
        }
        jQuery.sap.require("sap.ui.core.format.DateFormat");
        var outFormat = sap.ui.core.format.DateFormat.getDateTimeInstance({
            pattern: "yyyyMMdd",
            relative: false
        });
        return outFormat.format(date);
    },

    sapTime: function(date) {
        if (!date) {
            date = new Date();
        }
        jQuery.sap.require("sap.ui.core.format.DateFormat");
        var outFormat = sap.ui.core.format.DateFormat.getDateTimeInstance({
            pattern: "HHmmss",
            relative: false
        });
        return outFormat.format(date);
    }
};
sap.n.Outbox = {

    enableTrace: true,
    sendTimer: false,
    sendInterval: 30000,
    enableScheduler: true,

    send: function() {

        // Trace
        if (sap.n.Outbox.enableTrace) {

            if (!modelAppCacheOutbox.oData.length) {
                console.log("Processing sap.n.Outbox.send: No data to process...");
            } else {

                if (AppCache.isOffline) {
                    console.log("Processing sap.n.Outbox.send: In Offline Statue. wating for Online.");
                } else {
                    console.log("Processing sap.n.Outbox.send: Sending data...");
                }
            }
        }

        if (AppCache.isOffline) return;
        if (!modelAppCacheOutbox.oData.length) return;

        getOnlineOutbox();
    },

    update: function(options) {

        var inUpdate = false;

        var result = {
            status: "",
            text: "",
            id: ""
        };

        // Check: Data
        if (!options.data) {
            result.status = "ERROR";
            result.text = "Missing Data";
            return;
        }

        // Check: Sync ID
        if (!options.syncid) {
            result.status = "ERROR";
            result.text = "Missing Sync ID";
            return;
        }

        // Empty Model ?
        if (!modelAppCacheOutbox.oData.length) modelAppCacheOutbox.oData = [];

        // Application
        if (!options.application) options.application = sap.n.currentView.sViewName;

        // // ID - Add or Update
        var dataOutbox = ModelData.Find(AppCacheOutbox, ["OBJECTKEY", "APPLID"], [options.key, options.application])[0];

        if (dataOutbox) {
            options.id = dataOutbox.ID;
            inUpdate = true;
        } else {
            options.id = ModelData.genID();
            inUpdate = false;
        }

        // Add or Update to DB
        for (var keys in options.data) {

            if (inUpdate) {

                // TODO - What about VBAK/VBAP with 10 items
                var rec = ModelData.Find(AppCacheOutbox, ["ID", "MODEL"], [options.id, keys])[0];

                if (rec) {
                    rec.DATA = JSON.stringify(options.data[keys]);
                    rec.IMMEDIATE = options.immediate;
                    rec.UPDDAT = new Date();
                    ModelData.Update(AppCacheOutbox, ["ID", "MODEL"], [options.id, keys], rec);

                } else {
                    modelAppCacheOutbox.oData.push({
                        ID: options.id,
                        MODEL: keys,
                        OBJECTKEY: options.key,
                        UNAME: AppCache.CurrentUname,
                        APPLID: options.application,
                        IMMEDIATE: options.immediate || false,
                        SYNC_ID: options.syncid,
                        DATA: JSON.stringify(options.data[keys]),
                        CREDAT: new Date(),
                        UPDDAT: new Date()
                    });
                }

            } else {

                modelAppCacheOutbox.oData.push({
                    ID: options.id,
                    MODEL: keys,
                    OBJECTKEY: options.key,
                    UNAME: AppCache.CurrentUname,
                    APPLID: options.application,
                    IMMEDIATE: options.immediate || false,
                    SYNC_ID: options.syncid,
                    DATA: JSON.stringify(options.data[keys]),
                    CREDAT: new Date(),
                    UPDDAT: new Date()
                });
            }
        }

        // Save DB
        setCacheAppCacheOutbox();

        // Start Scheduler
        sap.n.Outbox.startScheduler();

        // Return Status
        result.id = options.id;
        result.status = "OK";
        result.text = "Data put in Outbox";
        return result;
    },

    handleAjaxSuccess: function(data) {

        // Trace
        if (sap.n.Outbox.enableTrace) {
            console.log("Processing sap.n.Outbox.handleAjaxSuccess");
            console.log("Number of Success: " + data.syncSuccess.length);
            console.log("Number of Error: " + data.syncError.length);
            console.log("Number of Duplicate: " + data.syncExist.length);
        }

        // Handle Duplicates
        $.each(data.syncExist, function(i, rec) {
            ModelData.Delete(AppCacheOutbox, "ID", rec.ID);
        });

        // Handle Success
        $.each(data.syncSuccess, function(i, rec) {
            ModelData.Delete(AppCacheOutbox, "ID", rec.ID);
        });

        // Handle Error
        $.each(data.syncError, function(i, rec) {
            // TODO - How to handle ?
            console.log("Error on : " + rec);
        });

        // Save DB
        setCacheAppCacheOutbox();
    },

    handleAjaxError: function(result, status) {

        // Trace
        if (sap.n.Outbox.enableTrace) {
            console.log("Processing sap.n.Outbox.handleAjaxError");
            console.log(result);
            console.log(status);
        }
    },

    startScheduler: function() {

        // Starting scheduler
        if (!sap.n.Outbox.enableScheduler) return;
        if (sap.n.Outbox.sendTimer) return;

        sap.n.Outbox.sendTimer = setInterval(function() {
            sap.n.Outbox.send();
        }, sap.n.Outbox.sendInterval);

        // Trace
        if (sap.n.Outbox.enableTrace) {
            console.log("Starting Outbox Scheduler. Processing every " + sap.n.Outbox.sendInterval + " ms");
        }
    },

    stopScheduler: function() {

        if (!sap.n.Outbox.sendTimer) return;

        clearInterval(sap.n.Outbox.sendTimer);

        // Trace
        if (sap.n.Outbox.enableTrace) {
            console.log("Stopping Outbox Scheduler");

        }
    }
};
sap.n.Documentation = {

    isDiaDocOpen: function(){
        return diaDiaDoc.isOpen();
    },

    // load documentation when the view is build
    load: function(applid){

        var modelId = applid.toLowerCase().replace(/\//g, '');

        if (typeof this[modelId] === "undefined") {

            getOnlineDocumentationList(applid).success(function(data) {
                sap.n.Documentation[modelId] = new sap.ui.model.json.JSONModel();
                sap.n.Documentation[modelId].setData(JSON.parse(JSON.stringify(modelDataDocumentation.oData)));
            });
        }
    },

    // documentation is loaded when view is created
    openByElement: function(element) {
        this.openDoc(element);
    },

    openDoc: function(element) {

        var applid = sap.n.currentView.sViewName.toLowerCase().replace(/\//g, '');
        if (!sap.n.Documentation[applid]) return;

        var doc = $.grep(sap.n.Documentation[applid].oData, function(doc, i) {
            return (doc.GUID === element.doc());
        });

        if (Array.isArray(doc) && doc.length === 1) {
            this.openWindow(doc[0], element.element);
        }
    },

    switchHelp: function(){

    },

    openDiaDoc: function() {

        var data = modelpanPopDoc.getData();
        modelpanDiaDoc.setData(data);

        objHeaderDiaDoc.setIcon(data.DOC_ICON);
        objHeaderDiaDoc.setTitle(data.DOC_TITLE);
        objHeaderDiaDoc.setIntro(data.DOC_DESCR);

        if (data.DIA_WIDTH.length > 0) {
            diaDiaDoc.setContentWidth(data.DIA_WIDTH + data.WIDTH_TYPE);
        } else {
            diaDiaDoc.setContentWidth("706px");
        }

        // Set dialog contentHeight
        if (data.DIA_HEIGHT.length > 0) {
            diaDiaDoc.setContentHeight((+data.DIA_HEIGHT + 78) + data.HEIGHT_TYPE);
        } else {
            diaDiaDoc.setContentHeight("878px");
        }

        htmlDiaDoc.setVisible(true);
        document.getElementById("divDiaDocData").innerHTML = modelpanDiaDoc.oData.DOC_TEXT;
        document.getElementById("divDiaDoc").scrollTop = 0;

        popPopDoc.close();
        diaDiaDoc.open();
    },

    openWindow: function(data, element) {

        modelpanPopDoc.setData(data);

        if (diaDiaDoc.isOpen()) {
            this.openDiaDoc();
            return;
        }

        iconPopDoc.setSrc(data.DOC_ICON || "sap-icon://sys-help");
        titlePopDoc.setText(data.DOC_TITLE);

        if (data.DIA_WIDTH.length > 0) {
            popPopDoc.setContentWidth(data.DIA_WIDTH + data.WIDTH_TYPE);
        } else {
            popPopDoc.setContentWidth("706px");
        }

        // Set dialog contentHeight
        if (data.DIA_HEIGHT.length > 0) {
            popPopDoc.setContentHeight(data.DIA_HEIGHT + data.HEIGHT_TYPE);
        } else {
            popPopDoc.setContentHeight("800px");
        }

         // close any detached help dialogs
        sap.m.InstanceManager.closeAllDialogs();
        popPopDoc.openBy(element);

        htmlPopDoc.setVisible(true);
        document.getElementById("divPopDocData").innerHTML = modelpanPopDoc.oData.DOC_TEXT;
        document.getElementById("divPopDoc").scrollTop = 0;
    },
};
sap.n.Debug = {

    sortDescending: false,
    classicLaunchpad: false,

    add: function(logObj, stackTrace) {

        ModelData.Add(TabDebugDisplay, logObj);
        ModelData.Add(AppCacheDebugLog, logObj);
        try {
            setCacheAppCacheDebugLog();
        } catch (e) {}

        var appCacheTrace = [];
        var seqnr = 0;

        $.each(stackTrace, function(i, trace) {

            appCacheTrace.push({
                GUID: logObj.GUID,
                SEQNR: ++seqnr,
                LOG_TRACE: trace.toString().trim(),
                UNAME: AppCache.CurrentUname,
                CREDAT: logObj.CREDAT
            });
        });

        ModelData.AddArray(TabTraceDisplay, appCacheTrace);
        ModelData.AddArray(AppCacheDebugTrace, appCacheTrace);
        try {
            setCacheAppCacheDebugTrace();
        } catch (e) {}

        this.setIconValues();
        this.update();
    },

    update: function() {
        if (navigator.onLine) {
            sap.ui.core.BusyIndicator.show();
            getOnlineDebugUpdate();
        }
    },

    filter: function() {

        var filters = [];
        if (checkBoxDebugDisplayError.getSelected()) {
            filters.push(new sap.ui.model.Filter("LOG_TYPE", "EQ", "E"));
        }
        if (checkBoxDebugDisplayWarning.getSelected()) {
            filters.push(new sap.ui.model.Filter("LOG_TYPE", "EQ", "W"));
        }
        if (checkBoxDebugDisplayInfo.getSelected()) {
            filters.push(new sap.ui.model.Filter("LOG_TYPE", "EQ", "I"));
        }
        TabDebugDisplay.getBinding("items").filter([
            new sap.ui.model.Filter({
                filters: filters,
                and: false
            })
        ]);
    },

    sort: function(ascendTxt, descendTxt) {

        var icon, txt;

        if (this.sortDescending) {
            this.sortDescending = false;
            icon = "sap-icon://sort-ascending";
            txt = ascendTxt;
        } else {
            this.sortDescending = true;
            icon = "sap-icon://sort-descending";
            txt = descendTxt;
        }
        TabDebugDisplay.getBinding("items").sort(
            new sap.ui.model.Sorter("GUID", sap.n.Debug.sortDescending, false)
        );
        sortDebugDisplay.setIcon(icon);
        sortDebugDisplay.setText(txt);
    },

    displayTrace: function(guid) {

        TabTraceDisplay.getBinding("items").filter([
            new sap.ui.model.Filter("GUID", "EQ", guid)
        ]);
        diaTraceDisplay.open();
    },

    setIconValues: function() {

        try {
            var debugError = ModelData.Find(TabDebugDisplay, "LOG_TYPE", "E");
            var debugWarning = ModelData.Find(TabDebugDisplay, "LOG_TYPE", "W");
            var debugInfo = ModelData.Find(TabDebugDisplay, "LOG_TYPE", "I");

            AppCacheShellDebugError.setText(debugError.length);
            AppCacheShellDebugWarning.setText(debugWarning.length);
            AppCacheShellDebugInfo.setText(debugInfo.length);
        } catch (e) {}
    },

    setDebugButtonsVisibility: function(visible) {

        try {
            if (this.classicLaunchpad) {
                AppCacheShellDebug.setVisible(visible);
            } else {
                AppCacheShellDebugError.setVisible(visible);
                AppCacheShellDebugWarning.setVisible(visible);
                AppCacheShellDebugInfo.setVisible(visible);
            }
        } catch (e) {}
    },
};
var AppCacheLogonCustom = {};

var AppCache = {

    // AppCache Variables
    Initialized: false,
    Encrypted: '',
    CurrentUname: '',
    CurrentApp: '',
    CurrentConfig: '',
    CurrentLanguage: '',
    AppVersion: '',
    StartApp: '',
    navNotif: false,
    Url: '',
    UrlBase: '',
    Client: '',
    Passcode: '',
    Auth: '',
    enablePasscode: false,
    enableMocana: false,
    enableSMP: false,
    enableAzure: false,
    enableLogging: false,
    enableSMPCaptcha: false,
    enablePush: false,
    enablePortal: false,
    enableNotif: false,
    enableTwoFactor: false,
    enableEncryption: false,
    enablePrincipal: false,
    enableCustomLogin: false,
    enableNativeLogin: false,
    enableSAML: false,
    enableOKTA: false,
    alwaysTwoFactor: false,
    pushProvider: '',
    numPasscode: 5,
    deviceType: '',
    deviceID: '',
    smpApplication: '',
    GoogleID: '',
    PushWooshID: '',
    PhoneID: '',
    AppID: '',
    xmlString: '',
    PortalUrl: '',
    PortalLogoffUrl: '',
    OtpSalt: '',
    PortalSalt: '',
    isOffline: false,
    isRestricted: false,
    isMobile: false,
    inLogon: false,
    View: [],
    ViewChild: {},
    doOnboard: false,
    samlUrlLogon: '',
    samlUrlLogoff: '',
    samlUserField: 'UserName',
    samlPasswordField: 'Password',
    samlPrefix: '',
    adfsMultiSetup: [],
    OKTAUrlLogon: '',
    OKTADomain: '',
    diaView: '',
    passUrlReset: '',
    loadQueue: [],
    loadRunning: false,
    biometricAuthentication: false,
    translationRestore: [],
    sapsso_otp_header: '',
    sapsso_otp_value: '',
    passcodeLength: 4,
    Dialogs: [],
    allowIcfNode: '',
    defaultTheme: 'sap_belize',
    publicAccess: false,
    enableCertificate: false,
    cacheLoaded: 0,
    preview: false,
    internetNotAllowed: false,
    cssGridBreakpoints: {
        xxxlarge: 2360,
        xxlarge: 1880,
        xlarge: 1580,
        large: 1280,
        medium: 980,
        small: 680,
        xsmall: 380
    },

    Load: function(value, options) {

        // Check Queue - Put in queue of working
        if (this.loadRunning) {
            var appData = {
                "APPLID": value,
                "OPTIONS": options || {}
            };
            this.loadQueue.push(appData);
            return;
        }

        this.loadRunning = true;

        // Translate
        value = value.toUpperCase();

        // Format ID
        var applid = value.replace(/\//g, "");

        // Load Defaults
        options = options || {};
        AppCache.LoadOptions = {};
        AppCache.LoadOptions.appWidthLimited = options.appWidthLimited;
        AppCache.LoadOptions.loadInBackground = options.loadInBackground || false;
        AppCache.LoadOptions.dialogShow = options.dialogShow || false;
        AppCache.LoadOptions.dialogHeight = options.dialogHeight || "90%";
        AppCache.LoadOptions.dialogWidth = options.dialogWidth || "1200px";
        AppCache.LoadOptions.dialogTitle = options.dialogTitle || "";
        AppCache.LoadOptions.dialogModal = options.dialogModal || false;
        AppCache.LoadOptions.dialogHideMinimize = options.dialogHideMinimize || !sap.ui.Device.system.desktop;
        AppCache.LoadOptions.dialogHideMosaic = options.dialogHideMosaic || !sap.ui.Device.system.desktop;
        AppCache.LoadOptions.dialogHideMaximize = options.dialogHideMaximize || !sap.ui.Device.system.desktop;
        AppCache.LoadOptions.load = options.load || "";
        AppCache.LoadOptions.parentObject = options.parentObject || "";
        AppCache.LoadOptions.appGUID = options.appGUID || "";
        AppCache.LoadOptions.startParams = options.startParams || {};
        AppCache.LoadOptions.hashParams = options.hashParams;
        AppCache.LoadOptions.onDialogClose = (typeof options.onDialogClose === 'function') ? options.onDialogClose : function() {};
        AppCache.LoadOptions.enableDoc = options.enableDoc || false;
        AppCache.LoadOptions.applid = applid;
        AppCache.LoadOptions.sidePanel = options.sidePanel || false;

        AppCache.LoadOptions.navTitle = options.navTitle || "";
        AppCache.LoadOptions.navInfo = options.navInfo || "";
        AppCache.LoadOptions.navIconSrc = options.navIconSrc || "";
        AppCache.LoadOptions.navIconImg = options.navIconImg || "";

        AppCache.LoadOptions.activeAppTitle = options.navTitle;

        AppCache.LoadOptions.navObjEventHandler = options.navObjEventHandler || {
            updateNavigationItemFn: function() {},
        };

        // Set Current App - Not for dialogs
        if (!AppCache.LoadOptions.dialogShow && !AppCache.LoadOptions.parentObject && !AppCache.LoadOptions.loadInBackground) {
            AppCache.CurrentApp = value;
        }

        // if modal => not possible to minimize
        if (AppCache.LoadOptions.dialogModal) {
            AppCache.LoadOptions.dialogHideMinimize = true;
        }

        // Busyindicator Handling
        if (!!AppCache.LoadOptions.parentObject) {

            AppCache.LoadOptions.appGUID = applid + AppCache.LoadOptions.parentObject.getId();

            if (typeof AppCache.LoadOptions.parentObject.setBusy === "function") {
                AppCache.LoadOptions.parentObject.setBusy(true);
            }

            var childView = false;
            $.each(AppCache.ViewChild, function(id, views) {

                $.each(views, function(id, view) {

                    if (id === AppCache.LoadOptions.appGUID) {
                        childView = true;
                        AppCache.childView = view;
                        return false;
                    }
                });
            });

            if (childView) {
                AppCache.buildView(value);
                return;
            }
        }

        // location.hash = "";
        if (AppCache.LoadOptions.load === "nav") {

            //splitview create ID on its own
            if (!AppCache.LoadOptions.appGUID) {
                AppCache.LoadOptions.appGUID = applid + "__nav" + new Date().getTime();
            }
            location.hash = "";

        } else if (AppCache.LoadOptions.dialogShow) {

            AppCache.LoadOptions.appGUID = applid + "__dia" + new Date().getTime();

        } else if (!AppCache.LoadOptions.appGUID) {

            AppCache.LoadOptions.appGUID = applid + "__standalone";
            location.hash = "";
        }

        // Get App from Memory
        if (!AppCache.LoadOptions.dialogShow && AppCache.LoadOptions.load !== "nav") {

            if (AppCache.LoadOptions.appGUID) {
                if (AppCache.View[AppCache.LoadOptions.appGUID]) {
                    AppCache.buildView(value);
                    return;
                }

            } else {
                if (AppCache.View[applid] && sap.n.Shell.viewExists(AppCache.View[applid])) {
                    AppCache.buildView(value);
                    return;
                }
            }
        }

        // Get App from DB/LS if exist in repository
        var viewName = AppCache.Client + '_' + AppCache.CurrentLanguage + '_' + value;

        if (AppCache.LoadOptions.load === "nav") {

            if (!AppCache.LoadOptions.loadInBackground) {
                sap.n.Launchpad.currentTile = {
                    GUID: AppCache.LoadOptions.appGUID
                };
            }

            sap.n.Launchpad.setTileContentObject(AppCache.LoadOptions.appGUID);

            sap.n.Launchpad.handleNavButton({
                dataLoad: {
                    applid: AppCache.LoadOptions.applid,
                    appGUID: AppCache.LoadOptions.appGUID,
                    navTitle: AppCache.LoadOptions.navTitle,
                    navInfo: AppCache.LoadOptions.navInfo,
                    navIconSrc: AppCache.LoadOptions.navIconSrc,
                    navIconImg: AppCache.LoadOptions.navIconImg,
                    startParams: AppCache.LoadOptions.startParams,
                    navObjEventHandler: AppCache.LoadOptions.navObjEventHandler,
                    appWidthLimited: AppCache.LoadOptions.appWidthLimited
                }
            });
            sap.n.Launchpad.handleTileRun({
                GUID: AppCache.LoadOptions.appGUID
            });
        }

        if (p8Database) {

            p8GetView(viewName).then(function(viewData) {
                if (viewData.length > 2) {
                    AppCache.initView({
                        value: value,
                        viewData: viewData,
                        appWidthLimited: AppCache.LoadOptions.appWidthLimited
                    });
                } else {
                    AppCache.getView({
                        value: value,
                        appWidthLimited: AppCache.LoadOptions.appWidthLimited,
                        option: {}
                    });
                }
            });
        } else {
            $.sap.require("jquery.sap.storage");
            var ls = $.sap.storage(jQuery.sap.storage.Type.local);
            var data = ls.get(viewName);

            if (data) {
                AppCache.initView({
                    value: value,
                    viewData: data,
                    appWidthLimited: AppCache.LoadOptions.appWidthLimited
                });
            } else {
                AppCache.getView({
                    value: value,
                    appWidthLimited: AppCache.LoadOptions.appWidthLimited,
                    option: {}
                });
            }
        }
    },

    initView: function(config) {

        var value = config.value;
        var viewData = config.viewData;
        var isInvalid = config.isInvalid || false;
        var appWidthLimited = config.appWidthLimited;

        // Load Option: Download
        if (AppCache.LoadOptions.load === "download") {
            sap.ui.core.BusyIndicator.hide();
            this._loadQueue();
            return;
        }

        // Format ID
        var applid = value.replace(/\//g, "");

        // Create Function
        try {
            new Function(viewData)();
            viewData = null;
        } catch (error) {

            var msg = "AppCache.initView: Error getting => " + value + ".view.js";
            if (!!error.message) {
                msg = "AppCache.initView: " + value + " => " + error.message;
            }
            AppCache.handleAfterLoadError(msg);
            return;
        }

        // nav loading is using the same app multiple times, keep the app events in a temporary obj while the new nav object is beeing created
        var navObj;
        if (AppCache.LoadOptions.load === "nav") {
            navObj = sap.n.Apps[value];
        }

        // Create JS View
        var oJSView;
        try {
            oJSView = sap.ui.view({
                viewName: value,
                type: sap.ui.core.mvc.ViewType.JS
            });
        } catch (e) {

            console.error("Init View Error: " + value);
            console.error(e);
            this.loadRunning = false;
            AppCache.busyTile.setBlocked(true);
            AppCache.busyTile.setBusy(false);

            AppCache.CurrentApp = "";
            AppCache.LoadOptions = null;

            sap.m.MessageToast.show("Init View Error: " + value);

            return;
        }

        AppCacheNav.views[oJSView.getId()] = {
            appWidthLimited: appWidthLimited
        };

        // Set JS View
        if (AppCache.LoadOptions.dialogShow) {
            AppCache.diaView = oJSView;

        } else if (AppCache.LoadOptions.parentObject) {
            AppCache.childView = oJSView;

        } else {
            if (AppCache.LoadOptions.appGUID) {
                AppCache.View[AppCache.LoadOptions.appGUID] = oJSView;
            } else {
                AppCache.View[applid] = oJSView;
            }
        }
        if (navObj) {
            sap.n.Apps[value] = navObj;
        }
        if (AppCache.LoadOptions.appGUID && sap.n.Apps[AppCache.LoadOptions.appGUID]) {
            sap.n.Apps[AppCache.LoadOptions.appGUID].viewId = oJSView.getId();
        }

        AppCache.buildView(value);
        oJSView = null;
    },

    buildView: function(value) {

        // Format ID
        var applid = value.replace(/\//g, "");
        var eventId, oStyle, styleData, oHtml, html, htmlId, htmlData, idFrom, idTo, regex;

        if (!AppCache.LoadOptions.loadInBackground && AppCache.activeAppTitle && (AppCache.verticalMenu || AppCache.hideMainMenu)) {
            AppCacheShellAppTitle.setVisible(true);
            AppCacheShellAppTitle.setText(AppCache.LoadOptions.activeAppTitle);
            AppCacheShellAppTitle.setIcon("");
            AppCacheShellAppTitle.setType("Default");
        }

        if (!AppCache.LoadOptions.parentObject && !AppCache.LoadOptions.dialogShow) {
            if (AppCache.LoadOptions.appGUID) {
                sap.n.currentView = AppCache.View[AppCache.LoadOptions.appGUID];
            } else {
                sap.n.currentView = AppCache.View[applid];
            }
        }

        // Turn off debug
        if (!AppCache.LoadOptions.sidePanel) {
            AppCacheShellDebug.setVisible(false);
        }

        if (AppCache.LoadOptions.appGUID) {
            eventId = AppCache.LoadOptions.appGUID;
        } else {
            eventId = applid;
        }

        var appObject = sap.n.Apps[eventId];
        if (!appObject) {
            appObject = {};
            console.error("sap.n.Apps missing object: " + eventId + ", for app: " + value + ", in: AppCache.buildView");
        }

        // Custom init
        if (AppCache.LoadOptions.enableDoc && appObject.init) {

            var fields = $.grep(modelAppCacheFieldDoc.oData, function(fieldDoc, i) {
                return (value === fieldDoc.APPLID);
            });

            if (fields.length > 0) {

                sap.n.Documentation.load(applid);

                appObject.init.push(function(data) {
                    setTimeout(function() {
                        $.each(fields, function(i, fieldDoc) {
                            try {
                                var element = sap.ui.getCore().byId(sap.n.currentView.createId(fieldDoc.CONTENT_NAME));
                                element.addStyleClass("nepLabelHelp");
                                element.attachBrowserEvent('click', function(e) {

                                    sap.n.Documentation.openByElement({
                                        element: element,
                                        doc: function() {
                                            return fieldDoc.GUID;
                                        }
                                    });
                                });
                            } catch (e) {
                                // No message
                            }
                        });
                    }, 200);
                });
            }
        }

        var fromSplitView = (AppCache.LoadOptions.load === "splitview") ? true : false;

        $.each(appObject.init, function(i, data) {
            if (AppCache.LoadOptions.startParams) {
                try {
                    AppCache.LoadOptions.startParams = JSON.parse(AppCache.LoadOptions.startParams);
                } catch (e) {
                    // No message, startParams already in correct format
                }
            }
            var startParams = AppCache.LoadOptions.hashParams || AppCache.LoadOptions.startParams || {};
            data(startParams, AppCache.LoadOptions.navObjEventHandler, fromSplitView);
        });

        AppCache.LoadOptions.hashParams = null;
        appObject.init = null;

        try {
            // no cached objects in app, call the cacheLoaded event handler directly
            if ($.isEmptyObject(appObject.cache.objects) && appObject.cacheLoaded) {
                $.each(appObject.cacheLoaded, function(i, func) {
                    func(AppCache.LoadOptions.startParams, fromSplitView);
                });
            }
        } catch (e) {}

        sap.n.Launchpad.AppTitleFn = function() {};

        // Custom beforeDisplay
        if (appObject.beforeDisplay && AppCache.LoadOptions.load !== "init") {
            $.each(appObject.beforeDisplay, function(i, data) {

                try {
                    AppCache.LoadOptions.startParams = JSON.parse(AppCache.LoadOptions.startParams);
                } catch (e) {
                    // No message, startParams already in correct format
                }
                data(AppCache.LoadOptions.startParams, !appObject.initialized, fromSplitView);
                appObject.initialized = true;
            });
        }

        // Custom onNavigation
        if (appObject.onNavigation) {
            $.each(appObject.onNavigation, function(i, data) {
                data(sap.n.HashNavigation.data, true);
                sap.n.HashNavigation.data = {};
            });
        }

        // Turn off BusyIndicator
        if (AppCache.busyTile) AppCache.busyTile.setBusy(false);

        // Load Option: Not full load
        if (AppCache.LoadOptions.load === "init") {
            sap.ui.core.BusyIndicator.hide();
            AppCache.diaView = null;
            this._loadQueue();
            return;
        }

        // Dialog
        if (AppCache.LoadOptions.dialogShow) {

            var contHeight = AppCache.LoadOptions.dialogHeight;
            var contWidth = AppCache.LoadOptions.dialogWidth;
            var diaTitle = AppCache.LoadOptions.dialogTitle;
            var diaHideMinimize = AppCache.LoadOptions.dialogHideMinimize;
            var diaHideMosaic = AppCache.LoadOptions.dialogHideMosaic;
            var diaHideMaximize = AppCache.LoadOptions.dialogHideMaximize;
            var screenWidth = $(window).width();
            var onDialogClose = AppCache.LoadOptions.onDialogClose;

            // On Mobile
            if (!sap.ui.Device.system.desktop) {
                contWidth = "100%";
                contHeight = "100%";
            }

            // Create Dialog
            var dia = new sap.n.Dialog({
                contentWidth: contWidth,
                contentHeight: contHeight,
                type: "Message",
                resizable: true,
                draggable: true,
                stretchOnPhone: true,
                title: diaTitle,
                hideMinimize: diaHideMinimize,
                hideMosaic: diaHideMosaic,
                hideMaximize: diaHideMaximize,
                afterClose: function(oEvent) {

                    var diaId = dia.getId();

                    // Delete From Array
                    for (var i = 0; i < AppCache.Dialogs.length; i++) {
                        if (AppCache.Dialogs[i] === dia.getId()) {
                            AppCache.Dialogs.splice(i, 1);
                            break;
                        }
                    }

                    dia.destroyContent();
                    dia = null;

                    if (AppCache.Dialogs.length === 0) {
                        AppCacheShellDialog.setVisible(false);
                    }

                    // trigger afterClose event before closing
                    if (sap.n.Apps[appObject.app] && sap.n.Apps[appObject.app].afterClose) {
                        $.each(sap.n.Apps[appObject.app].afterClose, function(i, data) {
                            var oEvent = new sap.ui.base.Event('afterClose', new sap.ui.base.EventProvider());
                            data(oEvent);
                            oEvent = null;
                        });
                    }
                    delete sap.n.Apps[appObject.app];

                    if (AppCache.ViewChild[appObject.app]) {

                        // Close Objects Loaded into the App
                        $.each(AppCache.ViewChild[appObject.app], function(id, view) {

                            sap.n.Shell.clearObjects(view.sId);

                            // afterClose - Memory Cleanup
                            if (sap.n.Apps[id] && sap.n.Apps[id].afterClose) {
                                $.each(sap.n.Apps[id].afterClose, function(i, data) {
                                    var oEvent = new sap.ui.base.Event('afterClose', new sap.ui.base.EventProvider());
                                    data(oEvent);
                                    oEvent = null;
                                });
                            }
                            delete sap.n.Apps[id];
                        });

                        delete AppCache.ViewChild[appObject.app];
                    }
                },
                beforeClose: function(oEvent) {
                    onDialogClose(oEvent);
                }
            });

            // Add Dialog to Array
            AppCache.Dialogs.push(dia.getId());
            dia.addContent(AppCache.diaView);

            oStyle = sap.ui.getCore().byId('oStyle' + applid);
            oHtml = sap.ui.getCore().byId('oHtml' + applid);

            idFrom = "#" + applid + "--";
            idTo = "#" + AppCache.diaView.sId + "--";
            regex = new RegExp(idFrom, 'g');
            html;

            // Add Style / Html Code
            if (oStyle) {
                styleData = decodeURIComponent(oStyle.getContent()).replace(regex, idTo);
                styleData = sap.n.Utils.addViewIdToAppCss(styleData, AppCache.diaView.sId);

                html = new sap.ui.core.HTML(AppCache.diaView.sId.replace("view", "style"));
                html.setDOMContent(styleData);
            }

            if (oHtml) {
                htmlData = decodeURIComponent(oHtml.getContent()).replace(regex, idTo);

                html = new sap.ui.core.HTML(AppCache.diaView.sId.replace("view", "html"));
                html.setDOMContent(htmlData);
            }

            dia.open();
            sap.ui.core.BusyIndicator.hide();
            this._loadQueue();
            return;
        }

        // ParentObject
        if (AppCache.LoadOptions.parentObject) {

            var view = AppCache.childView;
            AppCache.childView = null;
            oStyle = sap.ui.getCore().byId('oStyle' + applid);
            oHtml = sap.ui.getCore().byId('oHtml' + applid);

            idFrom = "#" + applid + "--";
            idTo = "#" + view.sId + "--";
            regex = new RegExp(idFrom, 'g');

            // Add Style / Html Code
            if (oStyle) {
                styleData = decodeURIComponent(oStyle.getContent()).replace(regex, idTo);
                styleData = sap.n.Utils.addViewIdToAppCss(styleData, view.sId);

                html = new sap.ui.core.HTML(view.sId.replace("view", "style"));
                html.setDOMContent(styleData);
            }

            if (oHtml) {
                htmlData = decodeURIComponent(oHtml.getContent()).replace(regex, idTo);

                html = new sap.ui.core.HTML(view.sId.replace("view", "html"));
                html.setDOMContent(htmlData);
            }

            if (AppCache.LoadOptions.parentObject.addContent) {
                AppCache.LoadOptions.parentObject.removeAllContent();
                AppCache.LoadOptions.parentObject.addContent(view);
                AppCache.LoadOptions.parentObject.rerender();
            }

            if (typeof AppCache.LoadOptions.parentObject.setBusy === "function") {
                AppCache.LoadOptions.parentObject.setBusy(false);
            }

            var viewId = AppCache.LoadOptions.parentObject.sId.split("--")[0];

            this._loadQueue();
            AppCache.diaView = null;

            if (AppCache.LoadOptions.load !== "card") {
                AppCache.saveChildView(view, appObject, viewId);
            }
            return;
        }

        // Normal Page
        if (!AppCacheNav.getPage(sap.n.currentView.sId)) {
            AppCacheNav.addPage(sap.n.currentView);
        }

        // Navigate
        if (!AppCache.LoadOptions.loadInBackground) {
            AppCacheNav.to(sap.n.currentView);
        }

        // Apply Style
        oStyle = sap.ui.getCore().byId('oStyle' + applid);
        oHtml = sap.ui.getCore().byId('oHtml' + applid);

        idFrom = "#" + applid + "--";
        idTo = "#" + sap.n.currentView.sId + "--";
        regex = new RegExp(idFrom, 'g');

        // Add Style / Html Code
        if (oStyle) {
            styleData = decodeURIComponent(oStyle.getContent()).replace(regex, idTo);
            styleData = sap.n.Utils.addViewIdToAppCss(styleData, sap.n.currentView.sId);

            html = new sap.ui.core.HTML(sap.n.currentView.sId.replace("view", "style"));
            html.setDOMContent(styleData);
        }

        if (oHtml) {
            htmlData = decodeURIComponent(oHtml.getContent()).replace(regex, idTo);

            html = new sap.ui.core.HTML(sap.n.currentView.sId.replace("view", "html"));
            html.setDOMContent(htmlData);
        }

        // Set Shell Title
        if (sap.n.Launchpad.SetHeader) sap.n.Launchpad.SetHeader();

        // Set Shell Settings - Tiles
        var dataTile = ModelData.Find(AppCacheTiles, "GUID", AppCache.LoadOptions.appGUID)[0];

        sap.ui.core.BusyIndicator.hide();
        this._loadQueue();
    },

    getView: function(config) {

        var value = config.value;
        var applid = value.replace(/\//g, "");
        var option = config.option;
        var appWidthLimited = config.appWidthLimited;
        var url;
        var urlPath = "";
        var appName = value + '.view.js';
        appName = appName.replace(/\//, "");

        if (AppCache.isHCP) {
            appName = AppCache.hcpDestination + '/' + value + '.view.js?hcp-destination=' + AppCache.hcpDestination;
        }

        if (AppCache.allowIcfNode) {
            urlPath = "/" + AppCache.allowIcfNode.toLowerCase();
        }

        if (AppCache.isMobile) {
            if (AppCache.exportApps && location.protocol === "file:") {
                url = "views/" + appName;
            } else {
                url = AppCache.UrlBase + "/neptune" + urlPath + "/native/" + appName;
            }
        } else {
            if (AppCache.isHCP) {
                url = '/' + AppCache.hcpDestination + '/' + value + '.view.js?hcp-destination=' + AppCache.hcpDestination;
            } else {
                url = AppCache.UrlBase + "/neptune" + urlPath + "/" + appName;
            }
        }
        if (AppCache.neptuneUiDebug && AppCache.isHCP) {
            url += "&neptune-ui-debug=true";
        } else if (AppCache.neptuneUiDebug) {
            url += "?neptune-ui-debug=true";
        }

        $.ajax({
            datatype: "HTML",
            type: "POST",
            url: url,
            headers: {
                "X-Requested-With": "XMLHttpRequest"
            },
            success: function(data) {

                // Check data received
                if (data.substr(0, 15).indexOf('html') > -1) {
                    AppCache.handleAfterLoadError("App " + value + " not found or no policy");
                    return;
                }

                // No Data ?
                if (!data) {
                    AppCache.handleAfterLoadError("App " + value + " not found or no policy");
                    AppCache.loadRunning = false;
                    return;
                }

                if (AppCache.LoadOptions.load === "nav") {}

                // Save in DB/LocalStorage
                var viewName = AppCache.Client + '_' + AppCache.CurrentLanguage + '_' + value;

                if (p8Database) {
                    p8SaveView(viewName, data);
                } else {
                    $.sap.require("jquery.sap.storage");
                    var ls = $.sap.storage(jQuery.sap.storage.Type.local);
                    ls.put(viewName, data);
                }

                // Update Application Data
                if (!AppCache.exportApps) getOnlineAppCacheAppTimestamp(value);

                // Start View
                AppCache.initView({
                    value: value,
                    viewData: data,
                    isInvalid: true,
                    appWidthLimited: appWidthLimited,
                    option: option
                });
            },
            error: function(xhr, status, error) {

                if (xhr.status === 403) {
                    AppCache.Logout(xhr.status);
                    return;
                }
                AppCache.handleAfterLoadError("AppCache.getView: AJAX error posting " + url, true);
            }
        });
    },

    saveChildView: function(view, appObject, viewId) {

        var id;

        $.each(sap.n.Apps, function(key, app) {
            if (app.viewId === viewId) {
                id = app.app;
                return false;
            }
        });

        try {
            if (!AppCache.ViewChild[id]) {
                AppCache.ViewChild[id] = {};
            }
            if (typeof AppCache.ViewChild[id][appObject.app] === "undefined") {
                AppCache.ViewChild[id][appObject.app] = view;
            }

        } catch (e) {
            console.warn("AppCache.saveChildView: " + e.message);
        }
    },

    _loadQueue: function() {
        this.loadRunning = false;

        var appData = this.loadQueue[0];

        if (appData) {
            this.loadQueue.splice(0, 1);
            this.Load(appData.APPLID, appData.OPTIONS);
        }

    },

    // Use to reload all dynamic info. This will reset all intervals, load info and start new intervals
    reloadDynamicInfo: function() {

        var timers = [];

        for (var key in sap.n.Launchpad.Timers) {

            // skip loop if the property is from prototype
            if (!sap.n.Launchpad.Timers.hasOwnProperty(key)) continue;

            var obj = sap.n.Launchpad.Timers[key];
            timers.push(obj);
        }

        // Clear intervals and delete timers
        sap.n.Launchpad.DeleteTimers();

        $.each(timers, function(i, data) {

            // Start Timer
            sap.n.Launchpad.Timers[data.id] = {
                id: data.id,
                timer: setInterval(function(dataTile) {
                    data.dataFn(dataTile, data.id);
                }, parseInt(data.dataTile.AJAX_TIMER), data.dataTile),
                page: data.page,
                dataTile: data.dataTile,
                dataFn: data.dataFn
            };

            data.dataFn(data.dataTile, data.id, true);
        });
    },

    // AppCache Methods
    restrictedEnable: function(restrictedType) {

        console.log("restrictedEnable Start");
        var timestampStart = Date.now();

        AppCache.loadRunning = false;

        // var viewNumbers = AppCache.View.length;
        // var viewCompleted = 0;
        // objHeaderLockProgress.setTitle(AppCache_tLockViews.getText());
        // objHeaderLockProgress.setIntro(viewCompleted + "/" + viewNumbers);
        // progressLock.setPercentValue(0);

        // Close Tiles
        for (var view in AppCache.View) {

            var tile = ModelData.FindFirst(AppCacheTiles, "GUID", view);

            if (!tile.GUID) {
                tile = {
                    GUID: view
                };
            }

            if (tile.GUID !== undefined) {

                sap.n.Shell.closeTile(tile, {
                    restrictedEnable: true,
                    restrictedType: restrictedType,
                    forceClose: true
                });
            }
            // ++viewCompleted;
            // objHeaderLockProgress.setIntro(viewCompleted + "/" + viewNumbers);
            // progressLock.setPercentValue(parseInt(viewCompleted / viewNumbers * 100));
        }

        var timestampView = Date.now();
        // console.log("restrictedEnable AppCache.View: " + (timestampView - timestampStart) + "ms");

        // Close AppCache.Load Apps
        for (var key in sap.n.Apps) {

            if (sap.n.Apps[key].afterClose) {
                $.each(sap.n.Apps[key].afterClose, function(i, data) {
                    data();
                    // var oEvent = new sap.ui.base.Event('afterClose', new sap.ui.base.EventProvider());
                    // data(oEvent);
                    // oEvent = null;
                });
            }
            if (AppCache.View[key]) {
                AppCache.View[key].destroy();
                delete AppCache.View[key];
            }
        }

        var timestampApps = Date.now();
        // console.log("restrictedEnable sap.n.Apps: " + (timestampApps - timestampView) + "ms");

        // NavBar
        blockRunningRow.destroyItems();
        AppCacheAppButton.removeAllItems();
        launchpadContentNavigator.setWidth("0px");
        sap.n.Launchpad.setLaunchpadContentWidth();

        sap.n.Layout.setHeaderPadding(true);

        AppCacheShellFavorites.setVisible(false);
        sap.n.Launchpad.setHideHeader(false);

        // UI Handling
        sap.n.Shell.setUserText("");
        AppCacheUserActionSettings.setVisible(false);
        AppCacheUserActionSplitView.setVisible(false);
        AppCacheAppButton.setVisible(false);

        sap.n.Launchpad.overflowMenuClose();

        // Data
        modelAppCacheTiles.setData([]);
        modelAppCacheTilesRun.setData([]);
        modelAppCacheTilesFav.setData([]);
        modelAppCacheTilesLink.setData([]);
        modelAppCacheTileGroup.setData([]);
        modelAppCacheTileGroupLink.setData([]);
        modelAppCacheTileGroupSub.setData([]);
        modelAppCacheNotifList.setData([]);
        setCacheAppCacheNotifList();
        modelAppCacheSettings.setData({});
        modelAppCacheUserDefaults.setData({});

        modelAppCacheTilesDynInfo.setData([]);

        AppCache.CurrentLanguage = "";
        AppCache.CurrentUname = "";
        AppCache.CurrentUser = "";

        delete sap.n.Launchpad.tileGroupsInPage;
        delete sap.n.Launchpad.menu;
        delete sap.n.Launchpad.favButton;
        delete sap.n.Launchpad.tileContent;
        delete AppCache.LoadOptions;

        sap.n.Launchpad.tileGroupsInPage = {};
        sap.n.Launchpad.favButton = {};
        sap.n.Launchpad.tileContent = {};

        var timestampLaunchpad = Date.now();
        // console.log("restrictedEnable Launchpad: " + (timestampLaunchpad - timestampApps) + "ms");

        // Clear Pages
        $.each(AppCacheNav.getPages(), function(i, data) {
            if (data.sId === 'AppCachePageMenu' ||
                data.sId === 'AppCache_boxURL' ||
                data.sId === 'AppCache_boxLogon' ||
                data.sId === 'AppCache_boxPassword' ||
                data.sId === 'AppCache_boxPasscode' ||
                data.sId === 'AppCache_boxPasscodeEntry' ||
                data.sId === 'AppCache_boxCaptcha' ||
                data.sId === 'AppCache_boxOutbox' ||
                data.sId === 'AppCache_boxUsers' ||

                // mobile client extension
                data.sId === 'AppCache_boxIntro' ||
                data.sId === 'AppCache_boxRegister'
            ) {} else {
                if (data.getId().indexOf("__jsview") < 0) {
                    data.destroy();
                }
                AppCacheNav.removePage(data.sId);
            }
        });

        var timestampPages = Date.now();
        // console.log("restrictedEnable Pages: " + (timestampPages - timestampApps) + "ms");

        // Clear external URL
        var elem = document.getElementById("AppCache_URLDiv");
        if (elem) elem.innerHTML = "";

        // Clear Views
        // AppCache.View = [];
        for (var view in AppCache.View) {
            delete AppCache.View[key];
        }
        for (var viewChild in AppCache.ViewChild) {
            delete AppCache.ViewChild[viewChild];
        }

        // Clear Events
        for (var key in sap.n.Apps) {
            delete sap.n.Apps[key];
        }

        // Clear Timers - Tiles
        sap.n.Launchpad.DeleteTimers();

        // Clear Timers - Outbox
        sap.n.Outbox.stopScheduler();

        sap.n.Launchpad.currentTile = {};
        AppCache.isRestricted = true;

        launchpadContentMenu.setWidth("0px");
        sap.n.Launchpad.setLaunchpadContentWidth();

        sap.n.Launchpad.setAppWidthLimited();

        // Restore Original translation
        AppCache.translateRestore();
        location.hash = "";

        // Close Dialogs
        diaSettings.close();
        sap.m.InstanceManager.closeAllDialogs();

        var timestampRest = Date.now();
        // console.log("restrictedEnable Rest: " + (timestampRest - timestampPages) + "ms");

        // Extra memory cleanup
        // setTimeout(function() {
        sap.n.Shell.clearAllObjects();
        // }, 200);

        var timestampClear = Date.now();
        // console.log("restrictedEnable clearAllObjects: " + (timestampClear - timestampRest) + "ms");
    },

    p8GetViewAll: function() {
        var promise = new Promise(function(resolve, reject) {
            if (p8Database) {
                var db = p8Views.result;
                var tx = db.transaction("view", "readonly");
                var store = tx.objectStore("view");
                var request = store.openCursor();
                var items = [];

                request.onsuccess = function(evt) {
                    var cursor = evt.target.result;
                    if (cursor) {
                        items.push(cursor.value);
                        cursor.continue();
                    } else {
                        if (items.length > 0) {
                            resolve(items);
                        } else {
                            resolve([]);
                        }
                    }
                };

                request.onerror = function() {
                    resolve([]);
                };

            } else {
                var views = [];

                for (var i = 0; i < localStorage.length; i++) {
                    var key = localStorage.key(i);
                    var client = key.substr(11, 3);
                    var viewName = key.substr(11, 99);
                    if (key.substr(0, 9) === "state.key" && !isNaN(client)) {
                        views.push({
                            key: viewName
                        });
                    }
                }
                resolve(views);
            }
        });
        return promise;
    },

    p8DeleteView: function(key) {
        var promise = new Promise(function(resolve, reject) {
            var db = p8Views.result;
            var tx = db.transaction("view", "readwrite");
            var store = tx.objectStore("view");
            var request = store.delete(key);

            request.onsuccess = function() {
                if (request.result) {
                    resolve(request.result);
                } else {
                    resolve("[]");
                }
            };

            request.onerror = function() {
                resolve("[]");
            };

        });
        return promise;
    },

    restrictedDisable: function() {

        // PWA Auto Update
        if (neptune.pwa.update && !AppCache.isOffline) {
            sap.m.MessageBox.show(AppCache_tPWAUpdate.getText(), {
                title: AppCache_tPWAInfo.getText(),
                icon: 'INFORMATION',
                actions: ['OK'],
                onClose: function() {
                    neptune.pwa.update = false;
                    location.reload();
                }
            });
        }

        // UI Handling
        AppCacheShellTitle.setVisible(false);
        AppCacheUserActionSettings.setVisible(true);
        AppCacheUserActionSplitView.setVisible(!AppCache.noSplitview);

        AppCacheUserActionSwitch.setVisible(false);

        if (!AppCache.StartApp) {
            AppCacheAppButton.setVisible(true);
            AppCacheShellMenuOverflow.setVisible(true);
        }

        if (AppCache.enableCertificate || AppCache.publicAccess) {
            AppCacheUserActionLogout.setVisible(false);
        } else {
            AppCacheUserActionLogout.setVisible(true);
        }

        if (AppCache.enablePasscode && !AppCache.publicAccess) AppCacheUserActionLock.setVisible(true);

        AppCache.isRestricted = false;

        sap.n.Launchpad.setHideHeader(AppCache.hideTopMenu);
        sap.ui.core.BusyIndicator.hide();

        if (!AppCache.StartApp) AppCacheNav.to(AppCachePageMenu);

    },

    getParameterByName: function(name, str) {
        var match = RegExp('[?&]' + name + '=([^&]*)').exec(str);
        return match && decodeURIComponent(match[1].replace(/\+/g, ' '));
    },

    clearCookies: function() {

        // Disable when native logon
        if (AppCache.enableNativeLogin) return;

        // ENHANCEMENT: clearCookies
        // Implement the clearCookies enhancement spot in an enhancement: Cockpit => Run => Enhancements
        // Add the enhancement to a Launchpad or Mobile Client to use the enhancement
        var preventDefault = sap.n.Enhancement.clearCookies();
        if (preventDefault) return;

        // Cookie Clearing - Android/iOS
        if (typeof cookieMaster !== "undefined" && typeof MSApp === "undefined") {
            cookieMaster.clearCookies(
                function() {
                    // console.log('Cookies have been cleared');
                },
                function() {
                    console.warn('Cookies could not be cleared');
                });
        }

        // Cookie Clearing - Windows 10
        try {
            document.execCommand("ClearAuthenticationCache", "false");
        } catch (e) {
            console.error("AppCache.clearCookies: " + e.message);
        }

    },

    translateRestore: function() {

        // Apply default translation
        $.each(AppCache.translationRestore, function(i, data) {
            var object = sap.ui.getCore().byId(data.FIELD_NAME);
            if (object) {
                var jsFunction = data.FIELD_NAME + '.' + data.ATTRIBUTE + '("' + data.FIELD_LABEL + '");';
                try {
                    eval(jsFunction);
                } catch (e) {
                    console.error("AppCache.translateRestore: " + e.message);
                    return;
                }
            }
        });
    },

    translate: function() {

        getCacheAppCacheTranslation();

        setTimeout(function() {

            // Save to restore language
            if (AppCache.translationRestore.length === 0) {
                $.each(modelAppCacheTranslation.oData, function(i, data) {
                    var object = sap.ui.getCore().byId(data.FIELD_NAME);
                    if (object) {
                        var rec = {};
                        rec.ATTRIBUTE = data.ATTRIBUTE;
                        rec.FIELD_NAME = data.FIELD_NAME;

                        var jsFunction = data.FIELD_NAME + '.' + data.ATTRIBUTE.replace("set", "get") + '();';
                        try {
                            rec.FIELD_LABEL = eval(jsFunction);
                        } catch (error) {
                            return;
                        }
                        AppCache.translationRestore.push(rec);

                    }
                });
            }

            // Apply user translation
            $.each(modelAppCacheTranslation.oData, function(i, data) {
                var object = sap.ui.getCore().byId(data.FIELD_NAME);
                if (object) {
                    var jsFunction = data.FIELD_NAME + '.' + data.ATTRIBUTE + '("' + data.FIELD_LABEL + '");';
                    try {
                        eval(jsFunction);
                    } catch (e) {
                        console.error("AppCache.translate: " + e.message);
                        return;
                    }
                }
            });

        }, 200);
    },

    populateLanguages: function(deviceLanguage) {

        if (AppCache.defaultLanguage) {
            deviceLanguage = sap.n.Shell.getSapLanguage(AppCache.defaultLanguage);
        } else if (AppCache.useSapDefaultLanguage && AppCache.CurrentLanguage) {
            deviceLanguage = sap.n.Shell.getSapLanguage(AppCache.CurrentLanguage);
        } else if (typeof AppCache.availLanguages === 'undefined') {
            return;
        } else {

            // get languge from the user device
            if (!deviceLanguage) {
                $.each(navigator.languages, function(i, language) {

                    var macroLanguage = language.slice(0, 2);
                    if (language === 'zh-CN') {
                        macroLanguage = 'zh'; // simplified chinese
                    } else if (language === 'zh-TW') {
                        macroLanguage = 'zf'; // traditional chinese
                    } else if (macroLanguage === 'nb' || macroLanguage === 'nn') {
                        macroLanguage = 'no';
                    }

                    if (AppCache.availLanguages[macroLanguage]) {
                        deviceLanguage = macroLanguage;
                        return false;
                    }
                });
            }

            if (!deviceLanguage) {
                deviceLanguage = 'en';
            }

            if (!AppCache.useSapDefaultLanguage) {
                AppCache_lblLanguage.setVisible(true);
                AppCache_inLanguage.setVisible(true);
            }
        }

        // APP TRANSLATION
        var appTranslation;
        if (typeof AppCache.translation[deviceLanguage] !== 'undefined') {
            appTranslation = AppCache.translation[deviceLanguage];
        } else {
            appTranslation = AppCache.translation["en"];
        }
        $.each(appTranslation, function(i, field) {
            try {
                AppCache.setFieldAttribute(field.FIELD_NAME, field.ATTRIBUTE, field.FIELD_LABEL);
            } catch (e) {
                // No message
            }
        });

        AppCache_inLanguage.destroyItems();
        AppCache_inLanguage.addItem(new sap.ui.core.Item({ // langu from SU01
            key: '',
            text: AppCache_tUserDefaultSAP.getText()
        }));

        var laiso = deviceLanguage.toUpperCase();
        var sapLanguages = AppCache.availLanguages[deviceLanguage];

        if (Array.isArray(sapLanguages) && sapLanguages.length > 0) {
            $.each(sapLanguages, function(i, elem) {
                AppCache_inLanguage.addItem(new sap.ui.core.Item({
                    key: elem.LAISO,
                    text: elem.SPTXT
                }));
            });
        }
        if (AppCache.defaultLanguage) {

            laiso = sap.n.Shell.getSapLanguage(AppCache.defaultLanguage).toUpperCase();

            $.each(sapLanguages, function(i, language) {
                if (language.LAISO === laiso) {
                    AppCache_inLanguage.setSelectedKey(language.LAISO);
                    return false;
                }
            });
        } else if (sapLanguages) {

            $.each(sapLanguages, function(i, language) {
                if (language.LAISO === laiso) {
                    AppCache_inLanguage.setSelectedKey(language.LAISO);
                    return false;
                }
            });
        }
        $.each(AppCacheUsers.getItems(), function(i, item) {

            var btn = sap.ui.getCore().byId("btn" + item.getId());
            var data = modelAppCacheUsers.oData[i];
            var laiso = sap.n.Shell.getSapLanguage(data.LANGU_NAD);

            $.each(AppCache.translation[laiso], function(i, field) {

                if (field.FIELD_NAME === "btnAppCache_itemUsers" && field.ATTRIBUTE === "text") {
                    btn.setText(field.FIELD_LABEL);
                }
            });
        });
    },

    setFieldAttribute: function(fieldId, attribute, value) {

        var field = sap.ui.getCore().byId(fieldId);

        if (field) {

            switch (attribute) {
                case 'text':
                    field.setText(value);
                    break;

                case 'title':
                    field.setTitle(value);
                    break;

                case 'cancelButtonText':
                    field.setCancelButtonText(value);
                    break;

                case 'valueStateText':
                    field.setValueStateText(value);
                    break;

                case 'headerText':
                    field.setHeaderText(value);
                    break;

                case 'placeholder':
                    field.setPlaceholder(value);
                    break;

                default:
                    break;
            }
        }
    },

    handleAfterLoadError: function(msg, doNotBlock) {

        sap.n.Utils.MessageToast(msg, 6000);
        console.error(msg);

        AppCache.loadRunning = false;

        if (AppCache.busyTile) {
            AppCache.busyTile.setBusy(false);
        }
        try {
            if (!doNotBlock) {
                AppCache.busyTile.setBlocked(true);
            }
        } catch (e) {
            // No message, just do nothing...
        }

        // Close Sidebar
        var tileData = sap.n.Launchpad.currentTile;
        sap.n.Launchpad.currentTile = {};
        sap.n.Shell.closeTile(tileData);
    },

    Update: function() {

        try {
            //if running inside the layout editor, tell the parent that the launchpad has been loaded
            if (typeof window.top.afterPreviewLoad !== "undefined") {
                window.top.afterPreviewLoad(sap.n.Launchpad.applyLayout);
            }
        } catch (e) {
            console.warn("Error in Update: afterPreviewLoad...");
        }

        var PushUrl;
        var formData;
        var deviceType;

        // Build Client Info
        if (typeof device !== "undefined") {

            modelAppCacheClientInfo.setData({
                CONFIGURATION: AppCache.CurrentConfig,
                APPVERSION: AppCache.AppVersion,
                UI5VERSION: sap.ui.version,
                PHONE: sap.ui.Device.system.phone,
                TABLET: sap.ui.Device.system.tablet,
                DESKTOP: sap.ui.Device.system.desktop,
                OSNAME: sap.ui.Device.os.name,
                OSVERSION: sap.ui.Device.os.version,
                DEVICEID: device.uuid,
                DEVICEVERSION: device.version,
                DEVICEPLATFORM: device.platform,
                DEVICEMODEL: device.model,
                CORDOVA: device.cordova,
                MOBILE_PREVIEW: AppCache.mobilePreview,
                BUILD_VERSION: AppCache.buildVersion
            });
        }

        if (typeof cordova !== 'undefined' && typeof cordova.plugins !== 'undefined' && cordova.plugins.webViewChecker) {

            cordova.plugins.webViewChecker.getCurrentWebViewPackageInfo()
                .then(function(info) {

                    // console.log(info);
                    modelAppCacheClientInfo.oData.ANDROID_PACKAGE = info.packageName;
                    modelAppCacheClientInfo.oData.ANDROID_VER_NAME = info.versionName;
                    modelAppCacheClientInfo.oData.ANDROID_VER_CODE = info.versionCode;
                })
                .catch(function(error) {
                    console.warn(error);
                });
        }
        if (typeof udid !== "undefined") {
            modelAppCacheClientInfo.oData.UDID = udid.getUdid();
        }

        // Device Type
        if (sap.ui.Device.system.phone) {
            deviceType = 'P';
        } else if (sap.ui.Device.system.tablet) {
            deviceType = 'T';
        } else {
            deviceType = 'D';
        }

        // Get Cache Data
        AppCache.cacheLoaded = 0;
        getCacheAppCacheData();
        getCacheAppCacheTileGroup();
        getCacheAppCacheTilesLink();
        getCacheAppCacheTileGroupSub();
        getCacheAppCacheTileGroupLink();
        getCacheAppCacheTiles();
        getCacheAppCacheTilesFav();
        getCacheAppCacheTilesRun();
        getCacheAppCacheDebugLog();
        getCacheAppCacheDebugTrace();
        getCacheAppCacheUserLayout();
        getCacheAppCacheSettings();
        getCacheAppCacheLayout();
        getCacheAppCacheImageData();

        (function() {
            function waitForCache() {

                if (AppCache.cacheLoaded >= 14) {

                    // Mobile
                    if (AppCache.isMobile) {
                        AppCache.inLogon = false;
                        AppCache.restrictedDisable();
                    }

                    if (modelAppCacheLayout.oData.length < 1) {
                        modelAppCacheLayout.setData(AppCache.layout);
                        setCacheAppCacheLayout();
                    }
                    if (AppCache.isFullscreen) {
                        StatusBar.hide();
                    }

                    sap.n.Launchpad.getPersonalization();

                    sap.n.Utils.userSetting.read({
                        AREA: "LAUNCHPAD",
                        GROUPING: "LAYOUT",
                        NAME: "DEFAULT"
                    }, function(obj) {
                        if (obj.VAL0) {
                            modelAppCacheSettings.oData.UI5THEME = obj.VAL0;
                            setCacheAppCacheSettings();
                        }
                        sap.n.Launchpad.applyUserTheme();
                    }, function(xhr, status, error) {
                        sap.n.Launchpad.applyUserTheme();
                    });

                    // Build Menu or StartApp
                    if (AppCache.StartApp) {
                        AppCacheAppButton.setVisible(false);
                        AppCache.Load(AppCache.StartApp);
                    } else {
                        sap.n.Launchpad.BuildMenu();
                    }

                    // Get Online Data
                    AppCache.BeforeUpdate(deviceType);

                } else {
                    setTimeout(waitForCache, 50);
                }
            }
            waitForCache();
        })();
    },

    BeforeUpdate: function(deviceType) {

        if (AppCache.isMobile) {

            if (AppCache.useInAppSplash) {
                neptune.Splash.show();
            }

            if (modelAppCacheImageData.oData.length > 0) {

                //get base64 image data from cache
                AppCache.imageData = {};
                $.each(modelAppCacheImageData.oData, function(i, imageData) {
                    AppCache.imageData[imageData.GUID] = imageData.CONTENT;
                });

            } else {

                //save to cache on the very first run, basae 64 images are updated in AppCache.AfterUpdate
                if (!AppCache.imageData) AppCache.imageData = {};

                imageArr = [];
                $.each(AppCache.imageData, function(key, obj) {
                    imageArr.push({
                        GUID: key,
                        CONTENT: obj
                    });
                });
                modelAppCacheImageData.setData(imageArr);
                setCacheAppCacheImageData();
            }
        }

        if (AppCache.isMobile) {
            var imageDataIDs = [];

            $.each(AppCache.imageData, function(key, obj) {
                imageDataIDs.push({
                    GUID: key
                });
            });
            modelAppCacheImageDataId.setData(imageDataIDs);
        }

        // do not load base64 image data on previews
        modelAppCacheClientInfo.oData.MOBILE_PREVIEW = AppCache.mobilePreview;

        // add planet 8 buils version
        modelAppCacheClientInfo.oData.BUILD_VERSION = AppCache.buildVersion;

        // check if launchpad is loaded as a preview in the cockpit
        var layoutHash = location.hash;
        if (location.hash.indexOf("#layoutPreview") === 0) {
            AppCache.preview = true;
            location.hash = "";
        }

        if (layoutHash.indexOf("#layoutPreviewTile") === 0) {
            var tileInfo = layoutHash.split("&")[1];
            var tileObj = JSON.parse(decodeURIComponent(tileInfo));

            modelTilePreview.setData(tileObj);
            sap.n.Launchpad.setHideHeader(true);
        }
        if (layoutHash.indexOf("#layoutPreviewTilegroup") === 0) {
            var tilegroupInfo = layoutHash.split("&")[1];
            var tilegroupObj = JSON.parse(decodeURIComponent(tilegroupInfo));

            modelTilegroupPreview.setData(tilegroupObj);
        }

        AppCacheClientInfo.ISHCP = AppCache.isHCP;

        // Enhancement: AppCache BeforeUpdate
        var customData = sap.n.Enhancement.beforeUpdate(deviceType);

        // check if any data has been updated
        getOnlineCheckUpdate(AppCache.CurrentConfig + "|" + deviceType + "|" + customData + "|" + AppCache.previewLayout + "|" + AppCache.previewData);
    },

    AfterUpdate: function() {

        // apply customer colorset
        sap.n.Layout.applyCustomColorSet();

        // apply global style
        sap.n.Launchpad.applyGlobalSettings();

        // apply global style
        sap.n.Launchpad.applyCustomCSSGrid();

        var user = AppCache.getUserData();
        var usr = modelAppCacheUser.oData;

        if (user) {
            user.LANGU_SAP = usr.LANGU_SAP;
            user.DATE_FORMAT = usr.DATE_FORMAT;
            user.TZONE = usr.TZONE;
            user.TZONE_DESCRIPT = usr.TZONE_DESCRIPT;
            user.TIME_FORMAT = usr.TIME_FORMAT;
            user.NUMBER_GROUPING = usr.NUMBER_GROUPING;
            user.NUMBER_DECIMAL = usr.NUMBER_DECIMAL;

            ModelData.Update(AppCacheUsers, "UNAME", user.UNAME, user);
        }
        sap.n.Launchpad.updateNeptuneUserDefault();

        sap.n.Launchpad.setHideHeader(AppCache.hideTopMenu);

        // Add new base64 imageData
        if (AppCache.isMobile && modelAppCacheImageDataUpdate.oData.length > 0) {
            $.each(modelAppCacheImageDataUpdate.oData, function(i, imageData) {
                AppCache.imageData[imageData.GUID] = imageData.CONTENT;
            });

            ModelData.AddArray(AppCacheImageData, modelAppCacheImageDataUpdate.oData);
            setCacheAppCacheImageData();
        }

        if (!AppCache.isMobile) {
            sap.n.Launchpad.Splitview.startup();
        }

        // Handle Layout/Settings Update
        AppCache.layout = modelAppCacheLayout.oData;

        var validCurrentLayout = false;
        $.each(modelAppCacheUserLayout.oData, function(i, userLayout) {
            if (userLayout.GUID === currLayout.GUID) {
                validCurrentLayout = true;
            }
        });

        if (!validCurrentLayout || AppCache.preview) {
            currLayout = {};
            sap.n.Launchpad.applyLayout(sap.n.Launchpad.getDefaultUserLayout());
        } else {
            $.each(AppCache.layout, function(i, layout) {
                if (layout.GUID === currLayout.GUID) {
                    if (layout.UPDDAT !== currLayout.UPDDAT || layout.UPDTIM !== currLayout.UPDTIM) {
                        currLayout = {};
                        sap.n.Launchpad.applyLayout(layout);
                    }
                }
            });
        }

        var delApp = [];

        var headerCss = sap.n.Launchpad.buildContentCss(sap.n.Launchpad.currentTileGroupPage);
        $("#NeptuneTileGroupHeaderDiv").html("<style>" + headerCss + "</style>").trigger("create");

        neptune.Debug.loaded();

        sap.n.Utils.userSetting.read({
            AREA: "LAUNCHPAD",
            GROUPING: "MULTI_MENU",
            NAME: "EXPAND_OPEN_APPS"
        }, function(obj) {
            if (!obj.VAL0) obj.VAL0 = "no";
            sap.n.Launchpad.openAppExpanded = (obj.VAL0 === "yes");
            sap.n.Launchpad.setOpenAppsExpanded();
        });

        $.each(modelAppCacheData.oData, function(i, data) {

            // Check if UI5 Version Changed
            var ui5Version = localStorage.getItem("p8ui5version");

            if (ui5Version !== sap.ui.version) {
                $.each(data.apps, function(i, app) {
                    app.INVALID = true;
                });
                localStorage.setItem("p8ui5version", sap.ui.version);
            }
        });

        AppCache.p8GetViewAll().then(function(value) {

            function invalidateApp(viewName, viewApplid) {

                // Delete view from DB/LocalStorage
                if (p8Database) {
                    AppCache.p8DeleteView(viewName);
                } else {
                    for (var i = 0; i < localStorage.length; i++) {
                        var key = localStorage.key(i);
                        if (key.indexOf(viewName) > -1) {
                            localStorage.removeItem(localStorage.key(i));
                        }
                    }
                }

                // Delete from AppCacheData
                delApp.push(viewApplid);

                if (AppCache.View[viewApplid]) {
                    AppCache.View[viewApplid] = null;
                }
            }

            // Check Apps from views stored in DB
            $.each(value, function(i, view) {

                var viewClient = view.key.substr(0, 3);
                var viewLanguage = view.key.substr(4, 1);
                var viewApplid = view.key.substr(6, 99);

                // Check for AppCacheData
                var cachedApp = ModelData.Find(AppCacheData, "APPLID", viewApplid)[0];

                if (cachedApp) {
                    if (cachedApp.INVALID) invalidateApp(view.key, viewApplid);
                } else {
                    invalidateApp(view.key, viewApplid);
                }

            });

            $.each(delApp, function(i, applid) {
                ModelData.Delete(AppCacheData, "APPLID", applid);
            });

            // Save
            setCacheAppCacheData();

            // Hash Navigation at Start ?
            if (location.hash !== "" && location.hash !== "#") {
                sap.n.HashNavigation._handler();
            }

            // In offline scenarios, the user might expect the app to be there when going offline,
            // download the new app, so that the app is ready in offline scenarios
            $.each(delApp, function(i, applid) {
                AppCache.Load(applid, {
                    load: "download"
                });
            });
        });

        // New Mobile App ?
        AppCache.UpdateMobileApp();

        // Subscribe to Push
        sap.n.Push.Subscribe();

        // Download all Apps
        if (AppCache.loadAppsAtStart) {
            AppCache.DownloadApps();
        }

        sap.n.Enhancement.afterUnlock();
    },

    DownloadApps: function() {

        $.each(modelAppCacheTiles.oData, function(i, data) {

            if (data.APPLID) {
                AppCache.Load(data.APPLID, {
                    load: "download"
                });
            }
            if (data.APPLID_TILE) {
                AppCache.Load(data.APPLID_TILE, {
                    load: "download"
                });
            }
        });
    },

    updateMobileXHR: null,

    UpdateMobileApp: function() {

        // Update App - device check
        if (sap.ui.Device.os.name !== 'iOS' && sap.ui.Device.os.name !== 'Android' && sap.ui.Device.os.name !== "win") {
            return;
        }
        if (!AppCache.AppVersion) {
            return;
        }

        // Update App - iOS / Android
        if (modelAppCacheUpdate.oData.RELEASED === true && modelAppCacheUpdate.oData.PG_APP_VERSION !== AppCache.AppVersion && modelAppCacheUpdate.oData.AUTO_UPDATE === true) {

            sap.ui.core.BusyIndicator.hide();

            // iOS - Plist XML file with link to the actual .ipa file
            if (sap.ui.Device.os.name === 'iOS') {
                if (modelAppCacheUpdate.oData.URL_IPA) {
                    window.open(modelAppCacheUpdate.oData.URL_IPA, "_system");
                }
                return;
            }

            var localFile = AppCache.CurrentConfig;
            var remoteFile, contentType, totalXHR;

            if (sap.ui.Device.os.name === 'Android') {
                localFile += '.apk';
                remoteFile = encodeURI(AppCache.Url + modelAppCacheUpdate.oData.URL_APK);
                contentType = "application/vnd.android.package-archive";

                if (modelAppCacheUpdate.oData.URL_APK.indexOf('/neptune/public/media/') == -1 &&
                    (modelAppCacheUpdate.oData.APK_CREDAT === '' || typeof modelAppCacheUpdate.oData.APK_CREDAT === "undefined")) {
                    remoteFile = encodeURI(modelAppCacheUpdate.oData.URL_APK);
                }

            } else {
                localFile += '.appx';
                remoteFile = encodeURI(AppCache.Url + modelAppCacheUpdate.oData.URL_APPX);
                contentType = "application/vns.ms-appx";

                if (modelAppCacheUpdate.oData.URL_APK.indexOf('/neptune/public/media/') == -1 &&
                    (modelAppCacheUpdate.oData.APPX_CREDAT === '' || typeof modelAppCacheUpdate.oData.APPX_CREDAT === "undefined")) {
                    remoteFile = encodeURI(modelAppCacheUpdate.oData.URL_APPX);
                }
            }

            var appVersion = modelAppCacheUpdate.oData.PG_APP_VERSION;
            var percent = 0;

            // Delete Old File
            window.resolveLocalFileSystemURL(localFile, function(fileEntry) {
                fileEntry.remove();
            }, function(error) {});

            // Run XHR HEAD call to get filesize
            var xhr = new XMLHttpRequest();
            xhr.open("HEAD", remoteFile, true);
            xhr.onreadystatechange = function() {

                if (this.readyState == this.DONE) {

                    // Open Dialog
                    AppCache_diaDownload.open();
                    AppCache_diaDownload.setText(AppCache_tDownloading.getText() + " (v." + appVersion + ") ..." + parseInt(percent) + "%");

                    totalXHR = parseInt(xhr.getResponseHeader("Content-Length"));

                    // Download File
                    AppCache.updateMobileXHR = new XMLHttpRequest();
                    AppCache.updateMobileXHR.open('GET', remoteFile);
                    AppCache.updateMobileXHR.responseType = "arraybuffer";

                    AppCache.updateMobileXHR.onload = function() {

                        console.log("AppCache.updateMobileXHR.onload" + AppCache.updateMobileXHR.status);

                        if (AppCache.updateMobileXHR.status != 200) {
                            AppCache_diaDownload.close();
                            sap.m.MessageToast.show(AppCache.updateMobileXHR.statusText);
                        } else {

                            // Save File
                            window.requestFileSystem(LocalFileSystem.TEMPORARY, 0, function(fs) {

                                console.log("requestFileSystem...");

                                fs.root.getFile(localFile, {
                                    create: true,
                                    exclusive: false
                                }, function(fileEntry) {

                                    console.log("fs.root.getFile...");

                                    fileEntry.createWriter(function(fileWriter) {

                                        console.log("fileEntry.createWriter...");

                                        fileWriter.onwriteend = function(e) {

                                            console.log("fileWriter.onwriteend...");

                                            cordova.plugins.fileOpener2.open(
                                                //fileWriter.localURL,
                                                cordova.file.cacheDirectory + localFile,
                                                contentType, {
                                                    success: function() {
                                                        AppCache_diaDownload.close();
                                                        console.log("cordova.plugins.fileOpener2...");
                                                    },
                                                    error: function(e) {
                                                        AppCache_diaDownload.close();
                                                        console.error('Error opening file. Status: ' + e.status + ' - Error message: ' + e.message);
                                                    }
                                                });
                                        };

                                        fileWriter.onerror = function(e) {
                                            AppCache_diaDownload.close();
                                            console.error('Error saving file. Status: ' + e.status + ' - Error message: ' + e.message);
                                        };

                                        var blob = new Blob([AppCache.updateMobileXHR.response], {
                                            type: contentType
                                        });
                                        fileWriter.write(blob);

                                    });
                                }, function(e) {
                                    AppCache_diaDownload.close();
                                    console.error("fs.root.getFile: " + e);
                                });
                            }, function(e) {
                                AppCache_diaDownload.close();
                                console.error("requestFileSystem: " + e);
                            });
                        }
                    };

                    // AppCache.updateMobileXHR.onreadystatechange = function() {
                    //     if (this.readyState === this.DONE) {
                    //         callback(parseInt(xhr.getResponseHeader("Content-Length")));
                    //     }
                    // };

                    AppCache.updateMobileXHR.onprogress = function(event) {
                        percent = (100 / totalXHR) * event.loaded;
                        var progressTxt = AppCache_tDownloading.getText() + " (v." + appVersion + ") ..." + parseInt(percent) + "%";
                        if (percent >= 100) {
                            progressTxt = AppCache_tDownloadOpen.getText();
                        }
                        AppCache_diaDownload.setText(progressTxt);
                    };

                    AppCache.updateMobileXHR.onerror = function() {
                        AppCache_diaDownload.close();
                        sap.m.MessageToast.show(AppCache_tErrorDownloading.getText());
                    };

                    AppCache.updateMobileXHR.send();

                } else {
                    sap.m.MessageToast.show(AppCache_tErrorDownloading.getText());
                }
            };
            xhr.send();

            // // Status Update for BusyIndicator
            // fileTransfer.onprogress = function(progressEvent) {
            //     if (progressEvent.lengthComputable) {
            //         percent = (100 / progressEvent.total) * progressEvent.loaded;
            //         AppCache_diaDownload.setText(AppCache_tDownloading.getText() + " (v." + appVersion + ")..." + parseInt(percent) + "%");
            //     }
            // };
            // // Download
            // fileTransfer.download(
            //     remoteFile,
            //     localFile,
            //     function(entry) {
            //         AppCache_diaDownload.close();
            //         cordova.plugins.fileOpener2.open(
            //             localFile,
            //             contentType, {
            //                 success: function() {},
            //                 error: function(e) {
            //                     console.error('Error opening file. Status: ' + e.status + ' - Error message: ' + e.message);
            //                 }
            //             }
            //         );
            //     },
            //     function(error) {
            //         console.error('FileTransfer: ' + error);
            //         AppCache_diaDownload.close();
            //         jQuery.sap.require("sap.m.MessageToast");
            //         sap.m.MessageToast.show(AppCache_tErrorDownloading.getText());
            //     },
            //     true, {
            //     }
            // );
        }
    },

    Home: function() {
        location.hash = "Home";
    },

    _Home: function() {

        var _handle = function() {

            // Clear HashNavigation
            location.hash = "";

            sap.n.Launchpad.SelectHomeMenu();
            AppCacheUserActionSidepanel.setVisible(false);

            // Title
            sap.n.Launchpad.SetHeader();
        };

        if (sap.n.Application.beforeSuspend(sap.n.Application.event.home, {
            defaultAction: _handle
        })) return;

        _handle();
    },

    Back: function() {
        // location.hash = "Back";
        AppCache._Back();
    },

    _Back: function(homeButton) {

        var _handle = function() {

            // Clear HashNavigation
            location.hash = "";

            // Close Objects
            AppCacheShellFavorites.setVisible(false);
            AppCacheShellHelp.setVisible(false);
            AppCacheShellDebug.setVisible(false);
            sap.n.Shell.closeSidepanel();

            AppCacheShellAppTitle.setVisible(false);
            AppCacheShellAppTitle.setText("");
            AppCacheShellAppTitle.setIcon("");
            AppCacheShellAppTitle.setType("Default");

            // Clear currentTile
            sap.n.Launchpad.currentTile = {};

            // Navigate
            if (homeButton) {
                if (sap.n.Launchpad.backApp) {
                    AppCacheNav.backToPage(sap.n.Launchpad.backApp);
                } else {
                    AppCache.Home();
                }
            } else {
                if (AppCacheNav.getPreviousPage().getId() === "AppCachePageMenu") {
                    AppCache.Home();
                } else {
                    AppCacheNav.back();
                }
            }

            sap.n.Launchpad.setAppWidthLimited(!AppCache.isFullWidth);
            AppCacheUserActionSidepanel.setVisible(false);

            // Title
            sap.n.Launchpad.SetHeader();
        };

        if (sap.n.Application.beforeSuspend(sap.n.Application.event.back, {
            defaultAction: _handle
        })) return;

        _handle();
    },

    setEnableCaptchaScreen: function() {
        AppCacheNav.to(AppCache_boxCaptcha, "show");
        AppCache.handleErrorMessage();
        AppCache.handleUserMenu();
    },

    setEnablePasscodeScreen: function() {
        AppCache_inPasscode1.setValue();
        AppCache_inPasscode2.setValue();
        AppCache_inPasscode1.setMaxLength(AppCache.passcodeLength);
        AppCache_inPasscode2.setMaxLength(AppCache.passcodeLength);
        AppCacheShellTitle.setText(AppCache_headPasscode.getText());
        AppCacheShellTitle.setVisible(true);
        AppCacheShellMenuOverflow.setVisible(false);
        AppCacheNav.to(AppCache_boxPasscode, "show");
        AppCache.handleErrorMessage();
        AppCache.handleUserMenu();
    },

    setEnablePasswordScreen: function() {
        AppCacheShellTitle.setText(AppCache_headPassword.getText());
        AppCacheShellTitle.setVisible(true);
        AppCacheShellMenuOverflow.setVisible(false);
        AppCacheNav.to(AppCache_boxPassword, "show");
        AppCache.handleErrorMessage();
        AppCache.handleUserMenu();
    },

    setEnablePasscodeEntry: function(dataUser) {

        if (!dataUser) dataUser = AppCache.getUserData();
        AppCache.setUserInfo(dataUser);

        AppCacheShellTitle.setText(AppCache_headPasscodeEntry.getText());
        AppCacheShellTitle.setVisible(true);
        AppCacheShellMenuOverflow.setVisible(false);

        AppCache.populateLanguages(sap.n.Shell.getSapLanguage(AppCache.CurrentLanguage, true));

        AppCacheNav.to(AppCache_boxPasscodeEntry);
        AppCache.handleErrorMessage();
        AppCache.handleUserMenu();

        getCacheAppCacheUserDefaults();

        AppCache.cacheLoaded = 0;
        getCacheAppCacheSettings();

        (function() {
            function waitForCache() {
                if (AppCache.cacheLoaded >= 1) {
                    sap.n.Launchpad.applyUserTheme();
                    NumPad.Clear();
                } else {
                    setTimeout(waitForCache, 50);
                }
            }
            waitForCache();
        })();

        sap.ui.core.BusyIndicator.hide();

        setTimeout(function() {
            AppCacheShellTitle.setText(AppCache_headPasscodeEntry.getText());
            sap.n.Fingerprint.getPasscode();
        }, 100);
    },

    setEnableUsersScreen: function() {

        AppCacheShellUser.setIcon("sap-icon://fa-solid/user-circle");
        launchpadSettingsBtn.setIcon("sap-icon://fa-solid/user-circle");

        if (!Array.isArray(modelAppCacheUsers.oData) || modelAppCacheUsers.oData.length < 1) {
            AppCache.handleErrorMessage();
            AppCache.setEnableLogonScreen();
            return;
        }

        AppCacheShellTitle.setText(AppCache_headUsers.getText());
        AppCacheShellTitle.setVisible(true);
        AppCacheShellMenuOverflow.setVisible(false);
        AppCacheNav.to(AppCache_boxUsers, "show");
        AppCacheUsers.removeSelections();
        AppCache.handleErrorMessage();
        AppCache.handleUserMenu();

        modelAppCacheSettings.setData({});
        modelAppCacheUserDefaults.setData({});
    },

    setEnableLogonScreen: function(errorMessage) {

        AppCache_inUsername.setValue();
        AppCache_inPassword.setValue();
        AppCache.clearCookies();
        AppCacheShellTitle.setText(AppCache_headLogon.getText());
        AppCacheShellTitle.setVisible(true);
        AppCacheShellMenuOverflow.setVisible(false);
        AppCacheNav.to(AppCache_boxLogon, "show");
        AppCache.handleErrorMessage(errorMessage);
        AppCache.handleUserMenu();

        if (AppCache.enableAzure) AppCache.clearCookies();

        sap.ui.core.BusyIndicator.hide();

        setTimeout(function() {
            if (!AppCache.enablePasscode) sap.n.Fingerprint.getPasscode();
        }, 100);
    },

    getUserData: function() {

        var userData = {};

        if (AppCache.CurrentUname) {
            userData = ModelData.Find(AppCacheUsers, "UNAME", AppCache.CurrentUname)[0];
            if (!userData) userData = ModelData.Find(AppCacheUsers, "UNAME_SSO", AppCache.CurrentUname)[0];
        } else {
            userData = modelAppCacheUsers.oData[0];
        }
        modelAppCacheUser.oData = userData;

        return userData;
    },

    handleUserMenu: function() {

        AppCacheUserActionSettings.setVisible(false);
        AppCacheUserActionSidepanel.setVisible(false);
        AppCacheUserActionSplitView.setVisible(false);
        AppCacheUserActionLock.setVisible(false);
        AppCacheUserActionSwitch.setVisible(false);
        AppCacheUserActionLogout.setVisible(false);
        sap.n.Launchpad.overflowMenuClose();

        AppCacheShellUser.setEnabled(true);

        switch (AppCacheNav.getCurrentPage().sId) {

            case "AppCache_boxLogon":
                if (modelAppCacheUsers.oData.length >= 1) {
                    AppCacheUserActionSwitch.setVisible(true);
                } else {
                    AppCacheShellUser.setEnabled(false);
                }
                break;

            case "AppCache_boxPassword":
                AppCacheUserActionLogout.setVisible(true);
                break;

            case "AppCache_boxPasscode":
                AppCacheUserActionLogout.setVisible(true);
                break;

            case "AppCache_boxPasscodeEntry":
                AppCacheUserActionLogout.setVisible(true);

                if (modelAppCacheUsers.oData.length > 1) AppCacheUserActionSwitch.setVisible(true);
                break;

            case "AppCache_boxUsers":
                AppCacheShellUser.setEnabled(false);
                break;

            case "AppCache_boxCaptcha":
                AppCacheUserActionLogout.setVisible(true);
                break;

            default:
                break;
        }
    },

    handleErrorMessage: function(error) {

        // Turn all off
        messagePasscode.setVisible(false);
        messagePassword.setVisible(false);
        messageLogon.setVisible(false);
        messageCaptcha.setVisible(false);

        messagePasscode.setText();
        messagePassword.setText();
        messageLogon.setText();
        messageCaptcha.setVisible(false);

        if (!error) return;

        switch (AppCacheNav.getCurrentPage().sId) {

            case "AppCache_boxLogon":
                messageLogon.setText(error);
                messageLogon.setVisible(true);
                break;

            case "AppCache_boxPassword":
                messagePassword.setText(error);
                messagePassword.setVisible(true);
                break;

            case "AppCache_boxPasscode":
                messagePasscode.setText(error);
                messagePasscode.setVisible(true);
                break;

            case "AppCache_boxCaptcha":
                messageCaptcha.setText(error);
                messageCaptcha.setVisible(true);
                break;

            default:
                break;
        }
        console.error(error);
    },

    userLogout: function(username, sso, biometric) {

        var servicekey;

        modelAppCacheSettings.setData({});
        modelAppCacheUserDefaults.setData({});

        ModelData.Delete(AppCacheUsers, "UNAME", username);
        setCacheAppCacheUsers();

        // Remove iOS SAMKeychain library and Android SecureStorage key
        if (typeof window.cordova !== 'undefined' && !window.navigator.simulator && biometric) {

            if (sap.ui.Device.os.ios || sap.ui.Device.os.android) {

                // Set iOS SAMKeychain library and Android SecureStorage key
                if (sso) {
                    servicekey = sso.toString().toUpperCase();
                } else {
                    servicekey = username.toString().toUpperCase();
                }

                // Delete SecureStorage key
                if (cordova.plugins.SecureKeyStore) {

                    cordova.plugins.SecureKeyStore.remove(function(res) {
                        console.log(res);
                    }, function(error) {
                        console.warn(error);
                    }, servicekey);

                }

                // FingerprintAuth.delete
                if (window.FingerprintAuth) {
                    try {
                        FingerprintAuth.delete({
                            clientId: AppCache.AppID,
                            username: servicekey
                        }, function(result) {
                            console.log("Successfully deleted cipher: " + JSON.stringify(result));
                        }, function(error) {
                            console.warn(error);
                        });
                    } catch (e) {
                        console.warn("AppCacheUsers => FingerprintAuth.delete: " + e.message);
                    }
                }
            }
        }

        // Keychain SecureStorage
        var sksKey = AppCache.AppID + '-' + username;
        try {
            cordova.plugins.SecureKeyStore.remove(function(res) {
                console.log(res);
            }, function(error) {
                console.log(error);
            }, sksKey);
        } catch (e) {}

        // No User -> Logon Screen
        if (!modelAppCacheUsers.oData.length) {
            AppCache.setEnableLogonScreen();
        }
    },

    Logout: function(errorPage) {

        if (AppCache.publicAccess) {
            return;
        }

        sap.n.Application.beforeAllClose({

            closeType: "lock",
            defaultAction: function() {

                if (AppCache.isMobile) {

                    // Restricted Area
                    AppCache.restrictedEnable("logout");

                    // var preventDefault = AppCache.restrictedEnable("logout");
                    // if (preventDefault) {
                    //     return;
                    // }

                    AppCache.Initialized = false;
                    NumPad.numPasscode = 0;
                    NumPad.numValue = "";
                    AppCache_inUsername.setValue();
                    AppCache_inPassword.setValue();
                    sap.n.Shell.setUserText();

                    // do NOT use current language, we want the logon screen in device language
                    AppCache.populateLanguages();

                    // Show Logon Screen
                    AppCacheShellUser.setIcon("sap-icon://fa-solid/user-circle");
                    launchpadSettingsBtn.setIcon("sap-icon://fa-solid/user-circle");

                    if (AppCache.enablePasscode) {
                        AppCache.setEnableUsersScreen();
                    } else {
                        var user = modelAppCacheUsers.oData[0];
                        if (user) {
                            AppCache.userLogout(modelAppCacheUsers.oData[0].UNAME);
                        } else {
                            sap.m.MessageToast.show("AppCache.Logout: User not found");
                            console.error("AppCache.Logout: User not found");
                        }
                        return;
                    }

                    modelAppCacheSettings.setData({});
                    modelAppCacheUserDefaults.setData({});
                    sap.n.Launchpad.applyUserTheme();

                    // Logoff SAML
                    if (AppCache.enableSAML) {
                        AppCacheLogonSAML.Logoff();
                        return;
                    }

                    // Logoff OKTA
                    if (AppCache.enableOKTA) {
                        AppCacheLogonOKTA.Logoff();
                        return;
                    }

                    // Logoff BDC
                    if (AppCache.enableBDC) {
                        AppCacheLogonBDC.Logoff();
                        return;
                    }

                    // Logoff Enterprise Portal
                    if (AppCache.enablePortal) {
                        AppCacheLogonPortal.Logoff();
                        return;
                    }

                    // Logoff SMP
                    if (AppCache.enableSMP) {
                        AppCacheLogonSMP.Logoff();
                        return;
                    }

                    // Logoff Azure
                    if (AppCache.enableAzure) {
                        AppCacheLogonAzure.Logoff();
                        return;
                    }

                    // Custom Login
                    if (AppCache.enableCustomLogin) {
                        AppCacheLogonCustom.Logoff();
                        return;
                    }

                    // Native Login
                    if (AppCache.enableNativeLogin) {
                        AppCacheLogonNative.Logoff();
                        return;
                    }

                    // Logon ABAP Stack
                    AppCacheLogonABAP.Logoff();

                } else {

                    for (var view in AppCache.View) {

                        var tile = ModelData.FindFirst(AppCacheTiles, "GUID", view);
                        if (tile && tile.GUID !== undefined) {

                            if (sap.n.Shell.closeTile(tile, {
                                restrictedEnable: true,
                                restrictedType: "logout",
                                forceClose: true
                            })) {
                                return true;
                            }
                        }
                    }

                    // Close AppCache.Load Apps
                    for (var key in sap.n.Apps) {

                        if (sap.n.Apps[key].afterClose) {
                            $.each(sap.n.Apps[key].afterClose, function(i, data) {
                                var oEvent = new sap.ui.base.Event('afterClose', new sap.ui.base.EventProvider());
                                data(oEvent);
                                oEvent = null;
                            });
                        }
                        if (AppCache.View[key]) {
                            AppCache.View[key].destroy();
                            delete AppCache.View[key];
                        }
                    }

                    // // Close AppCache.Load Apps
                    // for (var key in sap.n.Apps) {

                    //     var loadAppPreventDefault = false;
                    //     if (sap.n.Apps[key].beforeClose) {

                    //         $.each(sap.n.Apps[key].beforeClose, function(i, data) {

                    //             if (AppCache.View[key]) {
                    //                 AppCacheNav.to(AppCache.View[key]);
                    //             }

                    //             var event = new sap.ui.base.Event('beforeClose', new sap.ui.base.EventProvider());
                    //             data(event, function() {

                    //                 if (sap.n.Apps[key]) {
                    //                     delete sap.n.Apps[key];
                    //                 }
                    //                 if (AppCache.View[key]) {
                    //                     AppCache.View[key].destroy();
                    //                     delete AppCache.View[key];
                    //                 }
                    //                 AppCache.Logout();
                    //             }, "logout");
                    //             if (event.bPreventDefault) loadAppPreventDefault = true;
                    //             event = null;
                    //         });
                    //     }
                    //     if (loadAppPreventDefault) {
                    //         return true;
                    //     }
                    //     if (AppCache.View[key]) {
                    //         AppCache.View[key].destroy();
                    //         delete AppCache.View[key];
                    //     }
                    // }

                    sessionStorage.NEPSECRET = "";

                    // delete userdata from cache
                    modelAppCacheUsers.setData([]);
                    setCacheAppCacheUsers();

                    if (AppCache.logoutUrl) {
                        sap.m.URLHelper.redirect(AppCache.logoutUrl, false);
                    } else {

                        var url = AppCache.UrlBase;
                        if (AppCache.isHCP) url += "/" + AppCache.hcpDestination;

                        var urlPath = "";
                        if (AppCache.allowIcfNode) urlPath = "/" + AppCache.allowIcfNode.toLowerCase();

                        url += "/neptune" + urlPath + "/native/neptune_login_ping.html?sap-clearsso2";

                        $.ajax({
                            type: "POST",
                            url: url,
                            success: function(data) {
                                location.hash = "";

                                // Build URL, clear language
                                var logoutUrl = location.origin + location.pathname;
                                var params = location.search.replace("?", "").split("&");

                                logoutUrl = logoutUrl + "?" + params.filter(function(param) {
                                    return param.split("=")[0] != "sap-language";
                                }).join("&");

                                location.href = logoutUrl;
                            },
                            error: function(xhr, status, error) {
                                console.error("AppCache.Logout: AJAX error posting " + url);
                            }
                        });
                    }
                }
            }
        });
    },

    Logon: function() {

        // Enable Screen
        AppCache.inLogon = true;

        // Checks
        if (AppCache_inUsername.getValue() === '' && !AppCache.enableCertificate && !AppCache.enableNativeLogin && !AppCache.enableAzure && !AppCache.enableCustomLogin) {
            AppCache.handleErrorMessage(AppCache_tEnterUsername.getText());

            setTimeout(function() {
                AppCache_inUsername.focus();
            }, 400);
            return;
        }

        if (AppCache_inPassword.getValue() === '' && !AppCache.enableCertificate && !AppCache.enableNativeLogin && !AppCache.enableAzure && !AppCache.enableCustomLogin) {
            AppCache.handleErrorMessage(AppCache_tEnterPassword.getText());

            setTimeout(function() {
                AppCache_inPassword.focus();
            }, 400);
            return;
        }

        // Language
        $.ajaxSetup({
            headers: {
                "sap-language": AppCache_inLanguage.getSelectedKey()
            }
        });

        // Logon SAML
        if (AppCache.enableSAML) {
            AppCacheLogonSAML.Logon();
            return;
        }

        // Logon OKTA
        if (AppCache.enableOKTA) {
            AppCacheLogonOKTA.Logon();
            return;
        }

        if (AppCache.enableBDC) {
            AppCacheLogonBDC.Logon(AppCache_inUsername.getValue(), AppCache_inPassword.getValue(),
                function() {
                    AppCache.AfterLogon();
                },
                function(errorMsg) {
                    AppCache.handleErrorMessage(errorMsg);
                }
            );
            return;
        }

        // Logon SMP/HCPms
        if (AppCache.enableSMP) {
            AppCacheLogonSMP.Logon();
            return;
        }

        // Logon Enterprise Portal
        if (AppCache.enablePortal) {
            AppCacheLogonPortal.Logon();
            return;
        }

        // Logon Azure
        if (AppCache.enableAzure) {
            AppCacheLogonAzure.Logon();
            return;
        }

        // Logon using X.509 Certificate
        if (AppCache.enableCertificate) {
            AppCacheLogonCertificate.Logon();
            return;
        }

        // Logon Custom
        if (AppCache.enableCustomLogin) {
            AppCacheLogonCustom.Logon();
            return;
        }

        // Logon Native
        if (AppCache.enableNativeLogin) {
            AppCacheLogonNative.Logon();
            return;
        }

        // Logon ABAP using form
        if (AppCache.enableABAPform) {
            AppCacheLogonABAPform.Logon();
            return;
        }

        // Logon ABAP Stack
        AppCacheLogonABAP.Logon();
    },

    AfterLogon: function() {

        // Clear Login Screen
        AppCache_inPassword.setValue();

        // Enable Settings etc.
        AppCacheShellUser.setEnabled(true);

        // Start Mocana
        if (AppCache.enableMocana) {
            NumPad.Verify = true;
            AppCache.CurrentUname = AppCache_inUsername.getValue().toUpperCase();
            sapUname = AppCache.CurrentUname;
            sap.n.Launchpad.getUserData(AppCache.CurrentConfig);
            AppCache.Update();
        }

        // Start Passcode
        else if (AppCache.enablePasscode) {

            // default language, all content should be displayed in this language!
            var translationLanguage = AppCache.defaultLanguage;

            // find selected language
            if (!translationLanguage) {
                translationLanguage = AppCache_inLanguage.getSelectedKey().toLowerCase();
            }
            if (translationLanguage) {
                AppCache.populateLanguages(translationLanguage);
            }

            AppCache.setEnablePasscodeScreen();
        }

        // Start Logon
        else {
            sap.n.Launchpad.getUserData();
        }
    },

    SetPassword: function() {

        var urlPath = "";

        // New password match ?
        if (AppCache_inPassNew.getValue() != AppCache_inPassRepeat.getValue()) {
            AppCache.handleErrorMessage(AppCache_tNewPasswordNoMatch.getText());
            AppCache_inPassNew.setValue();
            AppCache_inPassRepeat.setValue();
            return;
        }

        if (AppCache.allowIcfNode) {
            urlPath = "/" + AppCache.allowIcfNode.toLowerCase();
        }

        var pwdUrl = "";
        var formData = "";
        if (AppCache.enablePortal) {

            formData = "j_username=" + AppCache_inUsername.getValue() +
                "&j_user=" + AppCache_inUsername.getValue() +
                "&j_sap_current_password=" + encodeURIComponent(AppCache_inPassOld.getValue()) +
                "&oldPassword=" + encodeURIComponent(AppCache_inPassOld.getValue()) +
                "&j_sap_password=" + encodeURIComponent(AppCache_inPassNew.getValue()) +
                "&j_password=" + encodeURIComponent(AppCache_inPassNew.getValue()) +
                "&confirmNewPassword=" + encodeURIComponent(AppCache_inPassRepeat.getValue()) +
                "&j_sap_again=" + encodeURIComponent(AppCache_inPassRepeat.getValue()) +
                "&cancelPasswordChange=off" +
                "&login_submit=on" +
                "&login_do_redirect=1" +
                "&performChangePassword=Change" +
                "&j_salt=" + encodeURIComponent(AppCache.PortalSalt);
            pwdUrl = AppCache.PortalUrl;

        } else {

            formData = "sap-system-login-password=" + encodeURIComponent(AppCache_inPassOld.getValue()) +
                "&sap-system-login-passwordnew=" + encodeURIComponent(AppCache_inPassNew.getValue()) +
                "&sap-system-login-passwordrepeat=" + encodeURIComponent(AppCache_inPassRepeat.getValue()) +
                "&sap-system-login-oninputprocessing=onDoChangePwd" +
                "&sap-system-login=onContinuePwd" +
                "&sap-system-login-basic_auth" +
                "&sap-client=" + AppCache.Client +
                "&sap-user=" + AppCache_inUsername.getValue();
            pwdUrl = AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html";
        }

        $.ajax({
            type: "POST",
            url: pwdUrl,
            data: formData,
            success: function(data, status, request) {

                AppCache_inPassword.setValue(AppCache_inPassNew.getValue());
                AppCache_inPassNew.setValue();
                AppCache_inPassRepeat.setValue();

                var LoginText = request.getResponseHeader("SAPLoginMessage");
                var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                if (AppCache.enablePortal && !LoginStatus) {
                    var loginObj = AppCacheLogonPortal.ParseResponse(request);
                    LoginStatus = loginObj.LoginStatus;
                    LoginText = loginObj.LoginText;
                }

                switch (LoginStatus) {

                    case "Password":
                        AppCache.handleErrorMessage(LoginText);
                        AppCache_inPassNew.setValue();
                        AppCache_inPassRepeat.setValue();
                        setTimeout(function() {
                            AppCache_inPassNew.focus();
                        }, 400);
                        break;

                    default:
                        //Build Auth String with new password
                        if (AppCache.enablePortal) {
                            AppCache.Auth = "j_user=" + AppCache_inUsername.getValue() +
                                "&j_username=" + AppCache_inUsername.getValue() +
                                "&j_password=" + encodeURIComponent(AppCache_inPassword.getValue());

                        } else if (AppCache.enableABAPform) {
                            AppCache.Auth = encodeURIComponent(AppCache_inPassword.getValue());

                        } else {
                            var tok = AppCache_inUsername.getValue() + ':' + AppCache_inPassword.getValue();
                            var hash = Base64.encode(tok);
                            AppCache.Auth = "Basic " + hash;
                        }
                        AppCache.AfterLogon();
                        break;
                }
            },
            error: function(xhr, status, error) {

                if (xhr.status === 403) {
                    AppCache.Logout(xhr.status);
                    return;
                }
            }
        });
    },

    Lock: function() {

        // diaLockProgress.open();
        // setTimeout(function() {

        sap.n.Application.beforeAllClose({

            closeType: "lock",
            defaultAction: function() {

                // diaLockProgress.open();
                neptune.Splash.show();

                setTimeout(function() {

                    AppCache.restrictedEnable("lock");

                    // Navigation
                    if (!AppCache.enablePasscode) {
                        AppCache.Logout();
                        neptune.Splash.hide();
                        return;
                    }

                    // Clear NumPad
                    NumPad.numPasscode = 0;
                    NumPad.numValue = '';
                    NumPad.Verify = false;

                    // Start passcode if only One user
                    if (modelAppCacheUsers.getData().length > 1) {
                        AppCache.populateLanguages();
                        AppCache.setEnableUsersScreen();
                        sap.n.Launchpad.applyUserTheme();
                        neptune.Splash.hide();
                    } else {

                        // Timeout to avoid immediate FaceID unlock
                        setTimeout(function() {
                            AppCache.setEnablePasscodeEntry();
                            neptune.Splash.hide();
                        }, 200);
                    }

                    // Logoff SAML
                    if (AppCache.enableSAML) {
                        AppCacheLogonSAML.Logoff();
                        return;
                    }

                    // Logoff OKTA
                    if (AppCache.enableOKTA) {
                        AppCacheLogonOKTA.Logoff();
                        return;
                    }

                    // Logon Enterprise Portal
                    if (AppCache.enablePortal) {
                        AppCacheLogonPortal.Logoff();
                        return;
                    }

                    // BDC
                    if (AppCache.enableBDC) {
                        AppCacheLogonBDC.Logoff();
                        return;
                    }

                    // Custom Login
                    if (AppCache.enableCustomLogin) {
                        AppCacheLogonCustom.Logoff();
                        return;
                    }

                    // Native Login
                    if (AppCache.enableNativeLogin) {
                        AppCacheLogonNative.Logoff();
                        return;
                    }

                    // Azure
                    if (AppCache.enableAzure) {
                        AppCacheLogonAzure.Logoff();
                        return;
                    }

                    // Logon ABAP Stack
                    AppCacheLogonABAP.Logoff();

                    // diaLockProgress.close();

                }, 0);
            }
        });
        // }, 0);
    },

    RemoveAllCache: function() {

        // Remove iOS SAMKeychain library and Android SecureStorage keys
        if (typeof window.cordova !== 'undefined' && !window.navigator.simulator) {

            if (sap.ui.Device.os.ios || sap.ui.Device.os.android) {

                // KeyChain & SecureStorage
                if (typeof cordova !== 'undefined' && typeof cordova.plugins !== 'undefined' && cordova.plugins.SecureKeyStore) {

                    for (i = 0; i < modelAppCacheUsers.oData.length; i++) {

                        var sksKey = AppCache.AppID + '-' + modelAppCacheUsers.oData[i].UNAME;

                        cordova.plugins.SecureKeyStore.remove(function(res) {
                            console.log(res);
                        }, function(error) {
                            console.error(error);
                        }, sksKey);
                    }
                }

                var serviceKey;

                // FingerprintAuth.delete
                if (window.FingerprintAuth) {
                    $.each(modelAppCacheUsers.oData, function(i, data) {
                        if (!data.BIOMETRIC) return true;
                        if (data.UNAME_SSO) {
                            serviceKey = data.UNAME_SSO.toString().toUpperCase();
                        } else {
                            serviceKey = data.toString().toUpperCase();
                        }
                        try {
                            FingerprintAuth.delete({
                                clientId: AppCache.AppID,
                                username: serviceKey
                            }, function(result) {
                                console.log("Successfully deleted cipher: " + JSON.stringify(result));
                            }, function(error) {
                                console.warn(error);
                            });
                        } catch (e) {
                            console.warn("AppCache.RemoveAllCache => FingerprintAuth.delete: " + e.message);
                        }
                    });
                }
            }
        }

        // // Delete LocalStorage
        $.sap.require("jquery.sap.storage");
        var ls = $.sap.storage(jQuery.sap.storage.Type.local);
        ls.removeAll();

        // Delete Database
        if (window.openDatabase && AppDB) {
            try {
                AppDB.transaction(function(tx) {
                    tx.executeSql('DELETE FROM model');
                });
            } catch (e) {
                console.error("AppCache.RemoveAllCache => Error processing SQL: " + e.message);
            }
        }

        if (p8Database) {
            var db = p8Models.result;
            var tx = db.transaction("model", "readwrite");
            var store = tx.objectStore("model");
            store.clear();

            db = p8Views.result;
            tx = db.transaction("view", "readwrite");
            store = tx.objectStore("view");
            store.clear();
        }

        modelAppCacheUsers.setData([]);
        if (AppCache.isMobile) AppCache.Logout();
        if (AppCache.enableAzure) AppCache.clearCookies();

    },

    SetPasscode: function() {

        AppCache.handleErrorMessage();

        // Checks
        if (AppCache_inPasscode1.getValue() === '') {
            AppCache.handleErrorMessage(AppCache_tEnterNewPasscode.getText());
            setTimeout(function() {
                AppCache_inPasscode1.focus();
            }, 200);
            return;
        }

        if (AppCache_inPasscode2.getValue() === '') {
            AppCache.handleErrorMessage(AppCache_tEnterRepeatPasscode.getText());
            setTimeout(function() {
                AppCache_inPasscode2.focus();
            }, 200);
            return;
        }

        if (AppCache_inPasscode2.getValue().length !== AppCache.passcodeLength) {
            AppCache.handleErrorMessage(AppCache_tPasscodeToShort.getText() + " (" + AppCache.passcodeLength + ")");
            AppCache_inPasscode1.setValue();
            AppCache_inPasscode2.setValue();
            setTimeout(function() {
                AppCache_inPasscode1.focus();
            }, 200);
            return;
        }

        if (AppCache_inPasscode1.getValue() !== AppCache_inPasscode2.getValue()) {
            AppCache.handleErrorMessage(AppCache_tNoPasscodeMatch.getText());
            AppCache_inPasscode1.setValue();
            AppCache_inPasscode2.setValue();
            setTimeout(function() {
                AppCache_inPasscode1.focus();
            }, 200);
            return;
        }

        // Set Passcode
        AppCache.Passcode = AppCache_inPasscode1.getValue();

        // Get User Data
        sap.ui.core.BusyIndicator.show();
        sap.n.Launchpad.getUserData(encodeURIComponent(AppCache.CurrentConfig + "|" + AppCache_inUsername.getValue()));
    },

    // NOT Device UUID
    genID: function() {
        var d = new Date().getTime();
        var id = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
            var r = (d + Math.random() * 16) % 16 | 0;
            d = Math.floor(d / 16);
            return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16);
        });
        return id;
    },

    Startup: function() {

        if (AppCache.isMobile && !AppCache.enableAzure) {
            AppCache.clearCookies();
        }
        if (AppCache.isMobile) {
            try {
                sap.n.Launchpad.applyLayout(AppCache.layout[0]);
            } catch (e) {}
        }

        // Check if CurrentConfig
        if (AppCache.CurrentConfig === '') {
            jQuery.sap.require("sap.m.MessageToast");
            sap.m.MessageToast.show(AppCache_tNoConnection.getText());
            console.error(AppCache_tNoConnection.getText());
            return;
        }

        // apply global style
        AppCache.cacheLoadedGlobalSettings = 0;
        getCacheAppCacheGlobalSettings();

        (function() {
            function waitForCache() {
                if (AppCache.cacheLoadedGlobalSettings >= 1) {
                    sap.n.Launchpad.applyGlobalSettings();
                } else {
                    setTimeout(waitForCache, 10);
                }
            }
            waitForCache();
        })();

        // apply custom colorset
        AppCache.cacheLoadedCustomColorset = 0;
        getCacheAppCacheCustomColorset();

        (function() {
            function waitForCache() {
                if (AppCache.cacheLoadedCustomColorset >= 1) {
                    sap.n.Layout.applyCustomColorSet();
                } else {
                    setTimeout(waitForCache, 50);
                }
            }
            waitForCache();
        })();

        // AjaxHeader
        $.ajaxSetup({
            headers: {
                "sap-client": AppCache.Client,
                "NeptuneLaunchpad": AppCache.CurrentConfig,
                // "NeptuneLaunchpadBuild": AppCache.buildVersion
            }
        });

        var startUpParams = false;
        if (typeof params !== "undefined") {
            startUpParams = params;
        }

        // Enhancement: AppCache Startup
        // Implement the beforeStartup enhancement spot in an enhancement: Cockpit => Run => Enhancements
        // Add the enhancement to a Launchpad or Mobile Client to use the enhancement
        sap.n.Enhancement.appCacheStartUp(startUpParams);

        // DESKTOP
        if (!AppCache.isMobile) {

            // Build URL
            AppCache.Url = location.origin;
            AppCache.UrlBase = AppCache.Url;

            // CSRF Token
            if (AppCache.enableCSRF) {

                // AjaxHeader
                $.ajaxSetup({
                    headers: {
                        "NeptuneSecret": sessionStorage.NEPSECRET
                    }
                });

                getOnlineCSRFToken(AppCache.CurrentConfig);
                return;
            }

            sap.n.Launchpad.getUserData();
            return;
        }

        // MOBILE

        // In App, clear cookes at start
        if (document.URL.indexOf("file") > -1) {
            if (!AppCache.enableAzure) AppCache.clearCookies();
        }

        // Get User Data
        AppCache.cacheLoadedUsers = 0;
        getCacheAppCacheUsers();

        (function() {
            function waitForCache() {
                if (AppCache.cacheLoadedUsers >= 1) {
                    AppCache.StartupMobile();
                } else {
                    setTimeout(waitForCache, 50);
                }
            }
            waitForCache();
        })();
    },

    StartupMobile: function() {

        // Device Splashscreen
        setTimeout(function() {
            if (typeof navigator.splashscreen !== "undefined") navigator.splashscreen.hide();
            if (typeof cordova !== "undefined" && cordova.InAppBrowser) window.open = cordova.InAppBrowser.open;
        }, 200);

        // this can be a PWA, so hide the desktop splashscreen just in case
        neptune.Splash.hide();

        // Logon Intro Msg
        if (AppCache.introMsg) {
            AppCache_introMsg.setText(AppCache.introMsg);
            AppCache_introMsg.setVisible(true);
        }

        // Languages
        if (AppCache.enableLanguSelection) {
            AppCache.populateLanguages(sap.n.Shell.getSapLanguage(AppCache.CurrentLanguage, true));
        }
        // Reset Password Link
        if (AppCache.passUrlReset) {
            AppCache_resetPassword.setVisible(true);
        }
        // Init Logon Handler
        if (AppCache.enableSAML) AppCacheLogonSAML.Init();
        if (AppCache.enableOKTA) AppCacheLogonOKTA.Init();
        if (AppCache.enableBDC) AppCacheLogonBDC.Init();
        if (AppCache.enableSMP) AppCacheLogonSMP.Init();
        if (AppCache.enablePortal) AppCacheLogonPortal.Init();
        if (AppCache.enableABAPform) AppCacheLogonABAPform.Init();
        if (AppCache.enableCertificate) AppCacheLogonCertificate.Init();
        if (AppCache.enableCustomLogin) AppCacheLogonCustom.Init();
        if (AppCache.enableNativeLogin) AppCacheLogonNative.Init();
        if (AppCache.enableAzure) AppCacheLogonAzure.Init();

        // Logon ABAP Stack
        if (!AppCache.enableABAPform &&
            !AppCache.enableSAML &&
            !AppCache.enableSMP &&
            !AppCache.enablePortal &&
            !AppCache.enableOKTA &&
            !AppCache.enableAzure &&
            !AppCache.enableBDC &&
            !AppCache.enableCustomLogin &&
            !AppCache.enableNativeLogin) {
            AppCacheLogonABAP.Init();
        }

        // Build URL
        if (AppCache.enableSMP) {
            AppCache.UrlBase = AppCache.Url + '/' + AppCache.smpApplication;
        } else {
            AppCache.UrlBase = AppCache.Url;
        }

        // Device Type
        switch (sap.ui.Device.os.name) {
            case 'win':
                AppCache.deviceType = 'Windows';
                break;

            case 'winphone':
                AppCache.deviceType = 'WinPhone8';
                break;

            case 'mac':
                AppCache.deviceType = 'iOS';
                break;

            case 'bb':
                AppCache.deviceType = 'Blackberry';
                break;

            default:
                AppCache.deviceType = sap.ui.Device.os.name;
        }

        // SMP Onboard String
        AppCache.xmlString = '<?xml version="1.0" encoding="utf-8"?>' +
            '<entry xmlns="http://www.w3.org/2005/Atom" xmlns:d="http://schemas.microsoft.com/ado/2007/08/dataservices" xmlns' +
            ':m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata">' +
            '<title type="text"/><updated>2012-06-15T02:23:29Z</updated><author><name/>' +
            '</author><category term="applications.Connection" scheme="http://schemas.microsoft.com/ado/2007/08/dataservices/scheme"/>' +
            '<content type="application/xml"><m:properties><d:DeviceType>' + AppCache.deviceType + '</d:DeviceType></m:properties></content></entry>';

        var deviceUUID = (typeof device !== "undefined") ? device.uuid : "~";
        var deviceUDID = (typeof udid !== "undefined") ? udid.getUdid() : "~";

        // Set ajaxheader
        $.ajaxSetup({
            headers: {
                "NeptuneServer": AppCache.UrlBase,
                "Access-Control-Allow-Origin": "*",
                "uuid": deviceUUID,
                "udid": deviceUDID
            }
        });

        // Set ajaxheader - SMP
        if (AppCache.enableSMP) {
            $.ajaxSetup({
                headers: {
                    "X-SMP-APPCID": AppCache.deviceID,
                    "X-SUP-APPCID": AppCache.deviceID
                }
            });
        }

        try {
            //if running inside the layout editor, tell the parent that the launchpad has been loaded
            window.top.afterPreviewLoad(sap.n.Launchpad.applyLayout);
        } catch (e) {}

        // Passcode or Logon
        if (AppCache.enablePasscode && !AppCache.publicAccess) {

            AppCacheUserActionLock.setVisible(true);

            // No Users -> Logon Screen
            if (!modelAppCacheUsers.oData.length) {
                AppCache.setEnableLogonScreen();
                return;
            }

            // Start if mocana enabled
            if (AppCache.enableMocana) {
                var dataUser = modelAppCacheUsers.getData()[0];
                AppCache.setUserInfo(dataUser);

                // Build Auth
                $.ajaxSetup({
                    headers: {
                        "Authorization": dataUser.AUTH
                    }
                });

                AppCache.Update();
                return;
            }

            // Start passcode if only One user
            if (modelAppCacheUsers.oData.length > 1) {
                AppCache.setEnableUsersScreen();
                AppCacheUsers.removeSelections();
            } else {
                AppCache.setEnablePasscodeEntry();
            }

        } else {
            if (AppCache.publicAccess) {
                AppCacheUserActionLogout.setVisible(false);
                AppCacheUserActionLock.setVisible(false);
                AppCacheUserActionSwitch.setVisible(false);

                if (AppCache.StartApp) {
                    AppCache.Load(AppCache.StartApp);
                    AppCache.Update();
                } else {
                    AppCache.Update();
                }
            } else {
                AppCache.setEnableLogonScreen();
            }
        }
    },

    StartupBrowser: function() {

        console.warn("StartupBrowser... In use?");
        var deviceType;

        // Device Type
        if (sap.ui.Device.system.phone) {
            deviceType = 'P';
        } else if (sap.ui.Device.system.tablet) {
            deviceType = 'T';
        } else {
            deviceType = 'D';
        }

        // Get Cache Data
        AppCache.cacheLoaded = 0;
        getCacheAppCacheData();
        getCacheAppCacheTileGroup();
        getCacheAppCacheTilesLink();
        getCacheAppCacheTileGroupSub();
        getCacheAppCacheTileGroupLink();
        getCacheAppCacheTiles();
        getCacheAppCacheTilesFav();
        getCacheAppCacheTilesRun();
        getCacheAppCacheDebugLog();
        getCacheAppCacheDebugTrace();
        getCacheAppCacheUserLayout();
        getCacheAppCacheSettings();
        getCacheAppCacheLayout();
        getCacheAppCacheImageData();
        // getCacheAppCacheClientInfo();

        (function() {
            function waitForCache() {

                if (AppCache.cacheLoaded >= 14) {

                    if (modelAppCacheLayout.oData.length < 1) {
                        modelAppCacheLayout.setData(AppCache.layout);
                        setCacheAppCacheLayout();
                    }
                    if (AppCache.isFullscreen) {
                        StatusBar.hide();
                    }
                    sap.n.Launchpad.applyUserTheme();

                    // Build Menu from Cache
                    sap.n.Launchpad.BuildMenu();

                    // Get Online Data
                    AppCache.BeforeUpdate(deviceType);

                } else {
                    setTimeout(waitForCache, 50);
                }
            }
            waitForCache();
        })();
    },

    setUserInfo: function(dataUser) {

        AppCache.CurrentUser = dataUser.NAME;
        AppCache.CurrentUname = dataUser.UNAME;
        AppCache.CurrentLanguage = dataUser.LANGU_NAD;
        AppCache.CurrentUserDateFormat = dataUser.DATE_FORMAT;
        AppCache.CurrentUserDisplayText = AppCache.CurrentUser;

        if (AppCache.useSapDefaultLanguage) {
            AppCache.CurrentLanguage = dataUser.LANGU_NAD = dataUser.LANGU_SAP;
        }

        // Enhancement: AppCache UserInfo
        sap.n.Enhancement.appCacheUserInfo();

        // Important to set for set/get Cache Handling
        sapUname = AppCache.CurrentUname;

        if (dataUser.USER_IMAGE) {
            AppCacheShellUser.setIcon(dataUser.USER_IMAGE);
            launchpadSettingsBtn.setIcon(dataUser.USER_IMAGE);
        } else {
            AppCacheShellUser.setIcon("sap-icon://fa-solid/user-circle");
            launchpadSettingsBtn.setIcon("sap-icon://fa-solid/user-circle");
        }

        if (AppCache.enableAzure && AppCache.Auth) dataUser.UNAME_SSO = AppCache.Auth;

        sap.n.Shell.setUserText(AppCache.CurrentUserDisplayText);

        // Settings Dialog if Open
        if (diaSettings.isOpen()) {
            AppCacheSettingsUser.setIcon(AppCacheShellUser.getIcon());
        }
    }
};

var Base64 = {
    _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    encode: function(input) {
        var output = "";
        var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
        var i = 0;
        input = Base64._utf8_encode(input);
        while (i < input.length) {
            chr1 = input.charCodeAt(i++);
            chr2 = input.charCodeAt(i++);
            chr3 = input.charCodeAt(i++);
            enc1 = chr1 >> 2;
            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
            enc4 = chr3 & 63;

            if (isNaN(chr2)) {
                enc3 = enc4 = 64;
            } else if (isNaN(chr3)) {
                enc4 = 64;
            }

            output = output +
                this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +
                this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);
        }
        return output;
    },
    _utf8_encode: function(string) {
        string = string.replace(/\r\n/g, "\n");
        var utftext = "";
        for (var n = 0; n < string.length; n++) {
            var c = string.charCodeAt(n);
            if (c < 128) {
                utftext += String.fromCharCode(c);
            } else if ((c > 127) && (c < 2048)) {
                utftext += String.fromCharCode((c >> 6) | 192);
                utftext += String.fromCharCode((c & 63) | 128);
            } else {
                utftext += String.fromCharCode((c >> 12) | 224);
                utftext += String.fromCharCode(((c >> 6) & 63) | 128);
                utftext += String.fromCharCode((c & 63) | 128);
            }
        }
        return utftext;
    }
};
var AppCacheLogonAzure = {

    state: null,
    options: {},
    fullUri: null,
    prompt: "none",
    frameLoginSilent: null,
    authResponse: null,

    Logon: function(loginHint) {

        var prompt = "select_account";

        this.authresponse = null;
        this.options = this._getLogonData();
        this.state = Date.now();

        if (loginHint) prompt = AppCacheLogonAzure.prompt;

        var logonWin = this._openPopup(this._loginUrl(loginHint, prompt), prompt);

        if (!isCordova()) {

            if (prompt === "none") logonWin.blur();

            if (location.protocol === "file:") {
                sap.m.MessageToast.show("Testing Azure AD from file is not allowed due to CSRF issues. Please test in mobile app");
                return;
            }

            if (logonWin.focus) logonWin.focus();

            // Browser
            this._waitForPopupDesktop(logonWin, function(url) {

                authResponse = AppCacheLogonAzure._getHashParams(url);

                // Get response
                if (authResponse) {

                    if (authResponse.error) {

                        if (authResponse.error === "login_required") {
                            AppCacheLogonAzure.prompt = "login";
                            AppCacheLogonAzure.Logon(loginHint);
                        } else {
                            sap.m.MessageToast.show(authResponse.error);
                        }
                        return;
                    }

                    if (AppCache.enableLogging) {
                        console.log("Azure Logon: Got code");
                        console.log(authResponse.code);
                    }

                    // Prevent cross-site request forgery attacks
                    if (parseInt(authResponse.state) !== AppCacheLogonAzure.state) {
                        sap.m.MessageToast.show("Cross-site request forgery detected");
                        return;
                    }

                    // Request Access/Refresh Tokens
                    AppCacheLogonAzure.prompt = "none";

                    setTimeout(function() {
                        sap.ui.core.BusyIndicator.show(0);
                        AppCacheLogonAzure._getToken(authResponse, loginHint);
                    }, 25);

                } else {
                    if (AppCache.enableLogging) console.log("No token response, or window closed manually");
                }

            }.bind(this));

        } else {

            // Mobile
            if (prompt !== "none") sap.ui.core.BusyIndicator.hide();

            // Mobile InAppBrowser - LoadStop
            logonWin.addEventListener('loadstop', function() {

                logonWin.executeScript({
                    code: "location.search"
                }, function(url) {

                    AppCacheLogonAzure.authResponse = AppCacheLogonAzure._getHashParams(url[0]);

                    // Get response
                    if (AppCacheLogonAzure.authResponse) {

                        // Logging
                        if (AppCache.enableLogging) {
                            console.log("LoadStop: Got search response");
                            console.log(AppCacheLogonAzure.authResponse);
                        }

                        if (AppCacheLogonAzure.authResponse.error) logonWin.close();
                        if (AppCacheLogonAzure.authResponse.state && AppCacheLogonAzure.authResponse.code) logonWin.close();

                    }

                });

            });

            // Mobile InAppBrowser - Exit
            logonWin.addEventListener('exit', function() {

                // Error
                if (AppCacheLogonAzure.authResponse.error) {
                    if (AppCacheLogonAzure.authResponse.error === "login_required") {
                        AppCacheLogonAzure.prompt = "login";
                        AppCacheLogonAzure.Logon(loginHint);
                    } else {
                        sap.m.MessageToast.show(AppCacheLogonAzure.authResponse.error);
                    }
                }

                if (AppCacheLogonAzure.authResponse.state && AppCacheLogonAzure.authResponse.code) {

                    // Prevent cross-site request forgery attacks
                    if (parseInt(AppCacheLogonAzure.authResponse.state) !== AppCacheLogonAzure.state) {
                        sap.m.MessageToast.show("Cross-site request forgery detected");
                        return;
                    }

                    // Request Access/Refresh Tokens
                    AppCacheLogonAzure.prompt = "none";

                    sap.ui.core.BusyIndicator.show(0);
                    AppCacheLogonAzure._getToken(AppCacheLogonAzure.authResponse, loginHint);

                }

            });

        }
    },

    LogonSilent: function(loginHint) {

        this.options = this._getLogonData();
        this.state = Date.now();

        var logonUrl = this._loginUrl(loginHint, "none");
        var responseReceived = false;

        sap.ui.core.BusyIndicator.show(0);
        AppCacheLogonAzure.frameLoginSilent.setAttribute("src", logonUrl);

        (function() {
            function waitForResponse() {

                if (responseReceived) return;

                var token = null;

                if (isWinApp()) {
                    token = AppCacheLogonAzure.frameLoginSilent.getAttribute("src");
                } else {
                    token = AppCacheLogonAzure.frameLoginSilent.contentWindow.location.search;
                }

                authResponse = AppCacheLogonAzure._getHashParams(token);

                if (authResponse.code) {

                    responseReceived = true;

                    if (AppCache.enableLogging) console.log("Azure Logon: Got code");

                    // Prevent cross-site request forgery attacks
                    if (parseInt(authResponse.state) !== AppCacheLogonAzure.state) {
                        sap.m.MessageToast.show("Cross-site request forgery detected");
                        sap.ui.core.BusyIndicator.hide();
                        return;
                    }

                    // Request Access/Refresh Tokens
                    AppCacheLogonAzure.prompt = "none";

                    setTimeout(function() {
                        AppCacheLogonAzure._getToken(authResponse, loginHint);
                        var redirectUri = AppCache.Url + AppCache.azureRedir;
                        AppCacheLogonAzure.frameLoginSilent.setAttribute("src", redirectUri);
                    }, 25);

                } else if (authResponse.error) {

                    responseReceived = true;

                    if (authResponse.error === "login_required") {

                        AppCacheLogonAzure.prompt = "login";

                        setTimeout(function() {
                            AppCacheLogonAzure.Logon(loginHint);
                            var redirectUri = AppCache.Url + AppCache.azureRedir;
                            AppCacheLogonAzure.frameLoginSilent.setAttribute("src", redirectUri);
                        }, 25);

                    } else {
                        sap.m.MessageToast.show(authResponse.error);
                        sap.ui.core.BusyIndicator.hide();
                    }

                } else {
                    if (!responseReceived) setTimeout(waitForResponse, 250);
                }

            }
            setTimeout(waitForResponse, 250);
        })();

    },

    Relog: function(upn, process) {
        if (AppCache.isOffline) {
            AppCacheLogonAzure._handleLogonP8(process);
        } else {
            // wkwebview blocker for ios/iframe
            if (sap.ui.Device.os.name === "iOS") {
                AppCacheLogonAzure.prompt = "none";
                AppCacheLogonAzure.Logon(upn);
            } else {
                AppCacheLogonAzure.LogonSilent(upn);
            }
        }
    },

    Logoff: function() {

        var urlPath = "";

        if (AppCache.allowIcfNode) urlPath = "/" + AppCache.allowIcfNode.toLowerCase();

        // Clear SSO
        var logoffUrl = AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html?sap-clearsso2";

        if (navigator.onLine && AppCache.isOffline === false) {

            $.ajax({
                type: "POST",
                url: logoffUrl,
                success: function(data, status, request) {

                },
                error: function(result, status) {
                    if (AppCache.enableLogging) console.log("AppCacheLogonAzure.Logoff: AJAX error " + logoffUrl);
                    sap.ui.core.BusyIndicator.hide();
                }
            });

        }

        // Clear Auth
        AppCache.Auth = "";
        AppCacheLogonAzure.prompt = "none";

    },

    Init: function() {

        if (!AppCache.azureRedir) AppCache.azureRedir = "/sap/saml2/sp/acs/" + AppCache.Client + "?saml2=disabled";

        if (isWinApp()) {
            AppCacheLogonAzure.frameLoginSilent = document.createElement("x-ms-webview");
        } else {
            AppCacheLogonAzure.frameLoginSilent = document.createElement("iframe");
        }

        AppCacheLogonAzure.frameLoginSilent.style.display = "none";
        document.body.appendChild(AppCacheLogonAzure.frameLoginSilent);

        AppCache_inUsername.setVisible(false);
        AppCache_inPassword.setVisible(false);

        $(document).ajaxError(function(event, request, settings) {

            switch (request.status) {

                case 400:

                    // Error messages
                    if (request && request.responseJSON) {
                        console.log(request.responseJSON);
                        var log = request.responseJSON.error_description.split("\n");
                        if (log && log.length) {
                            sap.m.MessageToast.show(log[0]);
                        } else {
                            sap.m.MessageToast.show(request.responseJSON.error_description);
                        }
                    }
                    break;

                case 401:
                    break;

                default:
                    //execute code default
                    break;

            }

        }.bind(this));
    },

    _getHashParams: function(token) {

        if (!token) return {};

        if (token.indexOf("?") > -1) token = token.split("?")[1];

        var params = token.replace(/^(#|\?)/, '');
        var hashParams = {};
        var e,
            a = /\+/g,
            r = /([^&;=]+)=?([^&;]*)/g,
            d = function(s) {
                return decodeURIComponent(s.replace(a, " "));
            };
        while (e = r.exec(params))
            hashParams[d(e[1])] = d(e[2]);
        return hashParams;
    },

    _getLogonData: function() {

        var logonData = {
            tenantId: AppCache.azureTenantId,
            clientID: AppCache.azureClientId,
            scope: AppCache.azureScope,
            client_secret: AppCache.azureClientSecret,
        };

        if (!this.fullUri) this.fullUri = AppCache.UrlBase;
        return logonData;
    },

    _authUrl: function(endPoint) {
        return "https://login.microsoftonline.com/" + AppCacheLogonAzure.options.tenantId + "/oauth2/v2.0/" + endPoint + "?";
    },

    _loginUrl: function(loginHint, prompt) {
        var data = {
            client_id: AppCacheLogonAzure.options.clientID,
            redirect_uri: this.fullUri + AppCache.azureRedir,
            scope: AppCacheLogonAzure.options.scope,
            nonce: ModelData.genID(),
            state: this.state,
            prompt: prompt,
            response_type: "code",
            domain_hint: "organizations",
        };

        if (loginHint) data.login_hint = loginHint;
        return this._authUrl("authorize") + $.param(data);

    },

    _logoutUrl: function() {

        var data = {
            post_logout_redirect_uri: this.fullUri + AppCache.azureRedir
        };

        return this._authUrl("logout") + $.param(data);
    },

    _onTokenReady: function(data) {

        if (!data.expires_on) {
            data.expires_on = new Date();
            data.expires_on.setSeconds(data.expires_on.getSeconds() + data.expires_in);
            data.expires_on = data.expires_on.getTime();
        }

        AppCacheLogonAzure.azureToken = data;
        return data;
    },

    _getToken: function(response, loginHint) {

        var url = this._authUrl("token");

        var data = {
            client_id: AppCacheLogonAzure.options.clientID,
            redirect_uri: this.fullUri + AppCache.azureRedir,
            code: response.code,
            scope: AppCacheLogonAzure.options.scope,
            client_secret: AppCacheLogonAzure.options.client_secret,
            grant_type: "authorization_code",
        };

        $.ajax({
            type: "POST",
            url: url,
            contentType: "application/x-www-form-urlencoded",
            data: data,
            success: function(data) {

                if (!data && !data.refresh_token) {
                    sap.m.MessageToast.show("Error getting refresh_token from Azure");
                    if (AppCache.enableLogging) console.error("Azure Logon: Error getting refresh_token");
                    return;
                }

                if (AppCache.enableLogging) {

                    console.log("Azure Logon: Got token");
                    console.log(data);

                    if (data.id_token) {
                        console.log("Azure Logon: Parsing id_token");
                        console.log(AppCacheLogonAzure._parseJwt(data.id_token));
                    }

                    if (data.access_token) {
                        console.log("Azure Logon: Parsing access_token");
                        console.log(AppCacheLogonAzure._parseJwt(data.access_token));
                    }

                }

                var idToken = AppCacheLogonAzure._parseJwt(data.id_token);

                AppCache.Auth = idToken[AppCache.azureUPN];
                AppCacheLogonAzure._onTokenReady(data);

                var process = "login";
                if (loginHint) process = "pin";

                AppCacheLogonAzure._loginP8(data, process);

            },
            error: function(result, status) {
                var errorMsg = "Error getting token from Azure AD";
                if (result.responseJSON && result.responseJSON.SAP_MESSAGE) errorMsg += ": " + result.responseJSON.SAP_MESSAGE;
                sap.m.MessageToast.show(errorMsg);
                console.log(errorMsg);
                sap.ui.core.BusyIndicator.hide();
            }

        });

    },

    _samlRequest: function(samlRequest, samlRelayState, process, token) {

        var url = "https://login.microsoftonline.com/" + AppCacheLogonAzure.options.tenantId + "/saml2?login_hint=" + AppCache.Auth;

        var dataRequest = {
            SAMLRequest: samlRequest,
            RelayState: samlRelayState
        };

        $.ajax({
            type: "POST",
            url: url,
            contentType: "application/x-www-form-urlencoded",
            data: dataRequest,
            success: function(data) {

                var parser = new DOMParser();
                var htmlDoc = parser.parseFromString(data, 'text/html');

                if (htmlDoc.getElementsByName("SAMLResponse") && htmlDoc.getElementsByName("SAMLResponse").length) {
                    if (AppCache.enableLogging) console.log("Azure Logon: SAML Request OK");
                    var samlResponse = htmlDoc.getElementsByName("SAMLResponse")[0].value;
                    var samlRelayState = htmlDoc.getElementsByName("RelayState")[0].value;
                    AppCacheLogonAzure._samlResponse(samlResponse, samlRelayState, process);
                } else {
                    sap.m.MessageToast.show("SAML Request: Login to Azure/SAML2 failed");
                    if (AppCache.enableLogging) console.log("SAML Request: Login to Azure/SAML2 failed");
                    sap.ui.core.BusyIndicator.hide();
                }

            },
            error: function(result, status) {
                sap.m.MessageToast.show("SAML Response: Network error. Azure Server not reachable");
                if (AppCache.enableLogging) console.log("SAML Response: Network error. Azure Server not reachable");
                sap.ui.core.BusyIndicator.hide();
            }

        });


    },

    _samlResponse: function(samlResponse, samlRelayState, process) {

        var dataResponse = {
            SAMLResponse: samlResponse,
            RelayState: samlRelayState
        };

        $.ajax({
            type: "POST",
            url: AppCache.UrlBase + "/sap/saml2/sp/acs/" + AppCache.Client,
            contentType: "application/x-www-form-urlencoded",
            data: dataResponse,
            success: function(data) {

                var pingUrl = AppCache.UrlBase + "/neptune/native/neptune_login_ping";
                if (AppCache.samlRelayState) pingUrl += "?RelayState=" + AppCache.samlRelayState;

                $.ajax({
                    type: "POST",
                    url: pingUrl,
                    contentType: "application/x-www-form-urlencoded",
                    data: dataResponse,
                    success: function(data) {

                        var parser = new DOMParser();
                        var htmlDoc = parser.parseFromString(data, 'text/html');

                        if (htmlDoc.getElementById("ping")) {
                            AppCacheLogonAzure._handleLogonP8(process);
                        } else {
                            sap.m.MessageToast.show("SAML Response: Failed, please check SAP/SAML2 configuration");
                            if (AppCache.enableLogging) console.log("SAML Response: Failed, please check SAP/SAML2 configuration");
                            sap.ui.core.BusyIndicator.hide();
                        }

                    },
                    error: function(result, status) {
                        sap.m.MessageToast.show("SAML Response: Failed, please check SAP/SAML2 configuration");
                        if (AppCache.enableLogging) console.log("SAML Response: Failed, please check SAP/SAML2 configuration");
                        sap.ui.core.BusyIndicator.hide();
                    }
                });

            },
            error: function(result, status) {
                sap.m.MessageToast.show("SAML Response: Network error, check SAML2 setup application path or RelayState");
                if (AppCache.enableLogging) console.log("SAML Response, check SAML2 setup application path or RelayState");
                sap.ui.core.BusyIndicator.hide();
            }

        });


    },

    _loginP8: function(token, process) {

        var pingUrl = AppCache.UrlBase + "/neptune/native/neptune_login_ping";
        if (AppCache.samlRelayState) pingUrl += "?RelayState=" + AppCache.samlRelayState;

        // Check for SAMLResponse
        $.ajax({
            type: "GET",
            url: pingUrl,
            success: function(data) {

                var parser = new DOMParser();
                var htmlDoc = parser.parseFromString(data, 'text/html');

                if (htmlDoc.getElementById("ping")) {
                    if (AppCache.enableLogging) console.log("SAP Logon: OK, got ping");
                    AppCacheLogonAzure._handleLogonP8(process);
                } else {
                    if (AppCache.enableLogging) console.log("SAP Logon: In process, starting SAML Request");
                    if (htmlDoc.getElementsByName("SAMLRequest")) {
                        var samlRequest = htmlDoc.getElementsByName("SAMLRequest")[0].value;
                        var samlRelayState = htmlDoc.getElementsByName("RelayState")[0].value;
                        AppCacheLogonAzure._samlRequest(samlRequest, samlRelayState, process, token);
                    } else {
                        sap.m.MessageToast.show("SAP Ping reached, but no SAML/Azure handshake triggered.");
                        if (AppCache.enableLogging) console.log("SAP Ping reached, but no SAML/Azure handshake triggered.");
                    }
                }

            },
            error: function(result, status) {
                sap.m.MessageToast.show("SAP Logon: Network error. SAP Server not reachable");
                if (AppCache.enableLogging) console.log("SAP Logon: Network error. SAP Server not reachable");
                sap.ui.core.BusyIndicator.hide();
            }

        });

    },

    _handleLogonP8: function(process) {

        AppCacheLogonAzure.authResponse = null;

        if (process === "pin") {
            NumPad.Verify = true;
            AppCache.Update();
        } else {
            AppCache.AfterLogon();
            sap.ui.core.BusyIndicator.hide();
        }
    },

    _waitForPopupDesktop: function(popupWin, onClose) {
        var url = "";
        var winCheckTimer = setInterval(function() {

            try {
                url = popupWin.location.href || "";
            } catch (e) {}

            if (url.indexOf("code=") > -1 || url.indexOf("error=") > -1 || popupWin.closed) {
                clearInterval(winCheckTimer);
                popupWin.close();
                onClose(url);
            }

        }, 100);
    },

    _parseJwt: function(token) {
        try {
            return JSON.parse(atob(token.split('.')[1]));
        } catch (e) {
            return null;
        }
    },

    _openPopup: function(url, prompt) {

        popUpWidth = 483;
        popUpHeight = 600;

        var winLeft = window.screenLeft ? window.screenLeft : window.screenX;
        var winTop = window.screenTop ? window.screenTop : window.screenY;

        var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        var height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;

        var left = ((width / 2) - (popUpWidth / 2)) + winLeft;
        var top = ((height / 2) - (popUpHeight / 2)) + winTop;

        return window.open(url, "_blank", "zoom=no,hideurlbar=yes,useWideViewPort=no,location=yes,width=" + popUpWidth + ",height=" + popUpHeight + ",left=" + left + ",top=" + top);
    }

};
var AppCacheLogonSAML = {

    inRelog: false,

    Logon: function() {

        sap.ui.core.BusyIndicator.show();

        var SAMLDomain = "";

        // Domain
        if (AppCache.samlPrefix) SAMLDomain = AppCache.samlPrefix + "/";

        // Build Auth String
        AppCache.Auth = {
            "User": SAMLDomain + AppCache_inUsername.getValue(),
            "Pass": encodeURIComponent(AppCache_inPassword.getValue()),
            "samlUserField": AppCache.samlUserField,
            "samlPasswordField": AppCache.samlPasswordField,
            "samlUrlLogon": AppCache.samlUrlLogon,
            "samlUrlLogoff": AppCache.samlUrlLogoff,
            "samlPrefix": AppCache.samlPrefix
        };

        // Build Form Data
        var formData = AppCache.samlUserField + "=" +
            SAMLDomain +
            AppCache_inUsername.getValue() +
            "&" + AppCache.samlPasswordField + "=" +
            encodeURIComponent(AppCache_inPassword.getValue()) +
            "&AuthMethod=FormsAuthentication";

        AppCache.Auth = JSON.stringify(AppCache.Auth);

        $.ajax({
            type: "POST",
            data: formData,
            url: AppCache.samlUrlLogon,
            success: function(data, status, request) {

                var SAMLAction = "";

                // Logged On
                if ($(data).filter('Form').length > 0) {
                    var aForm = $(data).filter('Form');

                    // SAML Response
                    var SAMLResponse = aForm.serializeArray();
                    for (index = 0; index < SAMLResponse.length; ++index) {
                        if (SAMLResponse[index].name === AppCache.samlUserField) SAMLResponse[index].value = AppCache_inUsername.getValue();
                        if (SAMLResponse[index].name === AppCache.samlPasswordField) SAMLResponse[index].value = AppCache_inPassword.getValue();
                    }

                    SAMLResponse = jQuery.param(SAMLResponse);

                    // SAML Action
                    SAMLAction = $(aForm).attr('action');

                    if (SAMLAction.substring(0, 4).toLowerCase() !== "http") {
                        SAMLAction = AppCache.samlUrlLogon.split('/')[0] + "//" + AppCache.samlUrlLogon.split('/')[2] + SAMLAction;
                        $(aForm).attr('action', SAMLAction);
                    }

                    AppCacheLogonSAML.Redirect(SAMLResponse, SAMLAction);
                }

                // Not Logged On
                if (!SAMLAction) {
                    sap.ui.core.BusyIndicator.hide();

                    var loginObj = AppCacheLogonSAML.ParseResponse(data);

                    AppCache.handleErrorMessage(loginObj.LoginText);
                    AppCache_inUsername.setValue();
                    AppCache_inPassword.setValue();
                }
            }
        });
    },

    Logoff: function() {

        // Clear SSO
        var logoffUrl = AppCache.samlUrlLogoff;

        if (navigator.connection.type !== 'none' && AppCache.isOffline === false) {
            $.ajax({
                type: "POST",
                url: logoffUrl,
                success: function(data, status, request) {
                    AppCache.Auth = ''; // Clear Auth
                },
                error: function(result, status) {}
            });
        }

        // Clear Cookies
        AppCache.clearCookies();

        $.ajaxSetup({
            headers: {
                "Authorization": ""
            }
        });
    },

    Redirect: function(SAMLResponse, SAMLAction) {

        $.ajax({
            type: "POST",
            data: SAMLResponse,
            url: SAMLAction,
            success: function(data, status, request) {

                var SAMLAction = "";
                var LoggedOnCheck = '<div id="ping"></div>';
                var LoginStatus = "";

                // Parse Response
                var loginObj = AppCacheLogonSAML.ParseResponse(request.responseText);
                LoginStatus = loginObj.LoginStatus;

                // Check Response Header from SAP
                if (!LoginStatus) {
                    LoginStatus = request.getResponseHeader("SAPLoginStatus");
                }

                switch (LoginStatus) {

                    case "Logon":
                        AppCache.handleErrorMessage(loginObj.LoginText);
                        AppCache_inUsername.setValue();
                        AppCache_inPassword.setValue();
                        sap.ui.core.BusyIndicator.hide();
                        return;

                    case "Password":
                        AppCache.setEnablePasswordScreen();
                        AppCache_inPassOld.setValue(AppCache_inPassword.getValue());

                        setTimeout(function() {
                            AppCache_inPassNew.focus();
                        }, 400);
                        return;
                }

                // Redirect
                if ($(data).filter('Form').length > 0) {
                    var aForm = $(data).filter('Form');

                    // SAML Response
                    var SAMLResponse = aForm.serializeArray();
                    for (index = 0; index < SAMLResponse.length; ++index) {
                        if (SAMLResponse[index].name === AppCache.samlUserField) SAMLResponse[index].value = AppCache_inUsername.getValue();
                        if (SAMLResponse[index].name === AppCache.samlPasswordField) SAMLResponse[index].value = encodeURIComponent(AppCache_inPassword.getValue());
                    }

                    SAMLResponse = jQuery.param(SAMLResponse);

                    // SAML Action
                    SAMLAction = $(aForm).attr('action');

                    if (SAMLAction.substring(0, 4).toLowerCase() !== "http") {
                        SAMLAction = AppCache.Url + SAMLAction;
                        $(aForm).attr('action', SAMLAction);
                    }

                    AppCacheLogonSAML.Redirect(SAMLResponse, SAMLAction);
                }

                // Done Authentication
                if (!SAMLAction && data.indexOf(LoggedOnCheck) > -1) {
                    sap.ui.core.BusyIndicator.hide();

                    // Handle Logon Successfull
                    if (AppCacheLogonSAML.inRelog) {
                        AppCacheLogonSAML.inRelog = false;
                        AppCache.Update();
                    } else {
                        AppCache.AfterLogon();
                    }
                }
            }
        });
    },

    ParseResponse: function(data) {

        var LoginText = "";
        var LoginStatus = "";

        // Get HTML Document
        var tempDiv = document.createElement('div');
        tempDiv.innerHTML = data;

        // Check for Error - Labels
        var error1 = tempDiv.getElementsByTagName("label");
        $.each(error1, function(i, data) {
            if (data.id === "errorText") {
                LoginText = data.innerText;
            }
        });

        // Check for Error - Class
        var error2 = tempDiv.getElementsByClassName("errorMessage")[0];

        if (error2) {
            LoginStatus = "Logon";
            LoginText = error2.innerText;
        }

        // No LoginText ?
        if (!LoginText) {
            LoginText = AppCache_tWrongUserNamePass.getText();
        }

        // Check for relog
        var form = tempDiv.getElementsByTagName("form");
        $.each(form, function(i, data) {
            if (data.name === "idp") {
                LoginStatus = "Logon";
            }
        });

        return {
            "LoginStatus": LoginStatus,
            "LoginText": LoginText
        };
    },

    Relog: function() {

        sap.ui.core.BusyIndicator.show();

        var LogonData = JSON.parse(AppCache.Auth);

        AppCache.samlUserField = LogonData.samlUserField;
        AppCache.samlPasswordField = LogonData.samlPasswordField;
        AppCache.samlUrlLogon = LogonData.samlUrlLogon;
        AppCache.samlUrlLogoff = LogonData.samlUrlLogoff;
        AppCache.samlPrefix = LogonData.samlPrefix;

        AppCacheLogonSAML.inRelog = true;

        // Build Form Data
        var formData = AppCache.samlUserField + "=" +
            LogonData.User +
            "&" + AppCache.samlPasswordField + "=" +
            LogonData.Pass +
            "&AuthMethod=FormsAuthentication";

        $.ajax({
            type: "POST",
            data: formData,
            url: AppCache.samlUrlLogon,
            success: function(data, status, request) {

                var SAMLAction = "";

                // Logged On
                if ($(data).filter('Form').length > 0) {
                    var aForm = $(data).filter('Form');

                    // SAML Response
                    var SAMLResponse = aForm.serializeArray();
                    for (index = 0; index < SAMLResponse.length; ++index) {
                        if (SAMLResponse[index].name === AppCache.samlUserField) SAMLResponse[index].value = LogonData.User;
                        if (SAMLResponse[index].name === AppCache.samlPasswordField) SAMLResponse[index].value = LogonData.Pass;
                    }

                    SAMLResponse = jQuery.param(SAMLResponse);

                    // SAML Action
                    SAMLAction = $(aForm).attr('action');

                    if (SAMLAction.substring(0, 4).toLowerCase() !== "http") {
                        SAMLAction = AppCache.samlUrlLogon.split('/')[0] + "//" + AppCache.samlUrlLogon.split('/')[2] + SAMLAction;
                        $(aForm).attr('action', SAMLAction);
                    }

                    AppCacheLogonSAML.Redirect(SAMLResponse, SAMLAction);
                }

                // Not Logged On
                if (!SAMLAction) {
                    AppCacheLogonSAML.inRelog = false;
                    sap.ui.core.BusyIndicator.hide();
                    var currUname = AppCache.CurrentUname;
                    AppCache.Logout();

                    ModelData.Delete(AppCacheUsers, "UNAME", currUname);
                    setCacheAppCacheUsers();

                    AppCache.setEnableLogonScreen();
                }
            }
        });
    },

    Init: function() {

        // Show Multi ADFS Selection
        if (AppCache.adfsMultiSetup.length) {
            AppCache_inADFS.setVisible(true);
            AppCache_lblADFS.setVisible(true);

            modelAppCache_inADFS = new sap.ui.model.json.JSONModel();
            AppCache_inADFS.setModel(modelAppCache_inADFS);
            AppCache_inADFS.bindAggregation("items", "/", new sap.ui.core.Item({
                key: "{GUID}",
                text: "{SAML_NAME}"
            }));
            modelAppCache_inADFS.setData(AppCache.adfsMultiSetup);

            // Fire change if one user
            if (modelAppCacheUsers.oData.length === 1) {
                var dataUsers = modelAppCacheUsers.getData()[0];
                AppCache_inADFS.setSelectedKey(dataUsers.SAML_GUID);
                AppCache_inADFS.fireChange();
            }
        }

        $(document).ajaxError(function(event, request, settings) {

            sap.ui.core.BusyIndicator.hide();

            switch (request.status) {

                case 401:
                    if (AppCacheNav.getCurrentPage().sId !== "AppCache_boxLogon") {
                        AppCacheLogonSAML.Relog();
                    }
                    break;

                case 200:
                    var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                    if (!LoginStatus) {
                        LoginStatus = request.getResponseHeader("connection");

                        if (LoginStatus == 'close') {
                            LoginStatus = 'Logon';
                        }
                    }

                    if (!LoginStatus) {
                        var loginObj = AppCacheLogonSAML.ParseResponse(request.responseText);
                        LoginStatus = loginObj.LoginStatus;
                    }

                    switch (LoginStatus) {
                        case "Password":
                            AppCache.Logout();
                            break;
                        case "Logon":
                            if (AppCacheNav.getCurrentPage().sId !== "AppCache_boxLogon") {
                                AppCacheLogonSAML.Relog();
                            }
                            break;
                    }
                    break;

                default:
                    if (!AppCache.isOffline && request.status !== 0) {
                        sap.m.MessageToast.show(request.status + " - " + request.statusText);
                    }
            }

        });
    }
};
var AppCacheLogonABAP = {

    Logon: function() {

        sap.ui.core.BusyIndicator.show();

        // Build Auth String
        var tok = AppCache_inUsername.getValue() + ':' + AppCache_inPassword.getValue();
        var hash = Base64.encode(tok);
        AppCache.Auth = "Basic " + hash;

        // Ajax Header Authorization
        $.ajaxSetup({
            headers: {
                "Authorization": AppCache.Auth
            }
        });

        var urlPath = "";

        if (AppCache.allowIcfNode) {
            urlPath = "/" + AppCache.allowIcfNode.toLowerCase();
        }

        $.ajax({
            type: "POST",
            url: AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html",
            // data: formData,
            success: function(data, status, request) {

                sap.ui.core.BusyIndicator.hide();

                var LoginText = request.getResponseHeader("SAPLoginMessage") || AppCache_tWrongUserNamePass.getText();
                var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                switch (LoginStatus) {

                    case "Logon":
                        AppCache_inPassword.setValue();
                        AppCache.handleErrorMessage(LoginText);

                        setTimeout(function() {
                            AppCache_inPassword.focus();
                        }, 400);
                        return;

                    case "Password":
                        AppCache.setEnablePasswordScreen();
                        AppCache_inPassOld.setValue(AppCache_inPassword.getValue());

                        setTimeout(function() {
                            AppCache_inPassNew.focus();
                        }, 400);
                        return;
                }

                // Handle Logon Successfull
                AppCache.AfterLogon();
            },
            error: function(xhr, status, error) {
                if (!AppCache.isOffline && xhr.status !== 0) {
                    sap.m.MessageToast.show(xhr.status + " - " + xhr.statusText);
                }
            }
        });
    },

    Logoff: function() {

        var urlPath = "";

        if (AppCache.allowIcfNode) {
            urlPath = "/" + AppCache.allowIcfNode.toLowerCase();
        }

        // Clear SSO
        var logoffUrl = AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html?sap-clearsso2";

        if (navigator.connection.type !== 'none' && AppCache.isOffline === false) {
            $.ajax({
                type: "POST",
                url: logoffUrl,
                success: function(data, status, request) {
                    AppCache.clearCookies();
                },
                error: function(xhr, status, error) {
                    AppCache.clearCookies();

                    // if (xhr.status === 0) {
                        // sap.n.Utils.killToasts();
                        // sap.n.Utils.MessageToast("Logoff error: Could not connect to server", 6000);
                        console.error("Logoff error: Could not connect to server: " + logoffUrl);
                    // }
                }
            });
        } else {
            AppCache.clearCookies();
        }

        // Clear Auth
        AppCache.Auth = '';
        $.ajaxSetup({
            headers: {
                "Authorization": ""
            }
        });
    },

    Init: function() {

        $(document).ajaxError(function(event, request, settings) {

            sap.ui.core.BusyIndicator.hide();
            // console.error(request.status + " - " + request.statusText);

            switch (request.status) {

                // 403 should NOT log the user off! We know who it is, user has general access, just not to this specific resource
                // case 403:
                //     AppCache.Logout();
                //     AppCache.setEnableLogonScreen(request.status + " - " + request.statusText);
                //     break;

                // case 401:
                //     if (AppCacheNav.getCurrentPage().sId !== "AppCache_boxLogon") {
                //         AppCache.Logout();
                //     } else {
                //         AppCache.handleErrorMessage(AppCache_tWrongUserNamePass.getText());
                //     }
                //     break;

                case 200:
                    var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                    switch (LoginStatus) {
                        case "Password":

                            AppCache.restrictedEnable("logout");
                            AppCache.setEnablePasswordScreen();
                            AppCache.handleErrorMessage(AppCache_tPwdChangeReq.getText());
                            AppCache_inPassOld.setValue();

                            setTimeout(function() {
                                AppCache_inPassOld.focus();
                            }, 400);

                            break;
                        case "Logon":

                            var currUname = AppCache.CurrentUname;
                            AppCache.Logout();
                            AppCache.userLogout(currUname);
                            AppCache.setEnableLogonScreen();
                            AppCache.handleErrorMessage(AppCache_tUserLocked.getText());
                            break;
                    }
                    break;

                default:
                    // if (!AppCache.isOffline) {
                        // sap.n.Utils.MessageToast(request.status + " - " + request.statusText);
                    // }
                    // if (request.status !== 0) {
                    //     sap.n.Utils.MessageToast(request.status + " - " + request.statusText);
                    // }
            }
        });
    }
};
var AppCacheLogonNative = {

    Logon: function() {


        var urlPath = "";

        if (AppCache.allowIcfNode) {
            urlPath = "/" + AppCache.allowIcfNode.toLowerCase();
        }

        // Do we have connection ?
        $.ajax({
            type: "POST",
            url: AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html",
            success: function(data, status, request) {

                sap.ui.core.BusyIndicator.hide();

                // User
                var sapUser = request.getResponseHeader("x-user-sap") || "";

                if (sapUser !== "") {
                    AppCache_inUsername.setValue(sapUser);
                } else {
                    AppCacheLogonNative.OpenLogon();
                    return;
                }

                var LoginText = request.getResponseHeader("SAPLoginMessage");
                var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                switch (LoginStatus) {

                    case "Logon":
                        AppCacheLogonNative.OpenLogon();
                        return;

                    case "Password":
                        AppCacheLogonNative.OpenLogon();
                        return;

                }

                if (AppCacheNav.getCurrentPage().sId === "AppCache_boxPasscodeEntry") {
                    AppCache.Encrypted = '';
                    AppCache.Update();
                } else if (AppCacheNav.getCurrentPage().sId === "AppCache_boxLogon") {
                    AppCache.AfterLogon();
                }
            }
        });
    },

    OpenLogon: function() {

        var urlPath = "";

        if (AppCache.allowIcfNode) {
            urlPath = "/" + AppCache.allowIcfNode.toLowerCase();
        }

        // var loggedIn = false;
        var url = AppCache.UrlBase + "/neptune" + urlPath + "/webapp/neptune_login_ping.html";
        var logonWin = window.open(url, "_blank", "location=no");

        if (logonWin === null) {
            console.log("Please test in a real mobile device");
            return;
        }

        logonWin.addEventListener('loadstop', function(event) {

            (function() {
                function waitForLogin() {

                    logonWin.executeScript({
                            code: "document.getElementById('ping');"
                        },
                        function(values) {

                            var aPing = values[0];

                            if (aPing) {

                                logonWin.hide();

                                setTimeout(function() {

                                    if (AppCache.isRestricted) {
                                        sap.ui.core.BusyIndicator.hide();
                                        AppCacheLogonNative.Logon();
                                    }

                                    logonWin.close();

                                }, 250);

                            } else {
                                setTimeout(function() {
                                    waitForLogin();
                                }, 50);
                            }

                        });
                }

                waitForLogin();

            })();

        });

        logonWin.addEventListener('exit', function(event) {
            sap.ui.core.BusyIndicator.hide();
        });

    },

    Relogin: function() {

        if (navigator.connection.type !== 'none' && AppCache.isOffline === false) {
            AppCacheLogonNative.Logon();
        } else {
            AppCache.Encrypted = '';
            AppCache.Update();
        }

    },

    Logoff: function() {

        var urlPath = "";

        if (AppCache.allowIcfNode) {
            urlPath = "/" + AppCache.allowIcfNode.toLowerCase();
        }

        // Clear SSO
        var logoffUrl = AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html?sap-clearsso2";

        if (navigator.connection.type !== 'none' && AppCache.isOffline === false) {
            $.ajax({
                type: "POST",
                url: logoffUrl,
                success: function(data, status, request) {
                    AppCache.clearCookies();
                },
                error: function(result, status) {
                    AppCache.clearCookies();
                }
            });
        } else {
            AppCache.clearCookies();
        }

        if (AppCache.logoutUrl) {
            $.ajax({
                type: "POST",
                url: AppCache.logoutUrl,
                success: function(data, status, request) {

                },
                error: function(result, status) {

                }
            });
        }


    },

    Init: function() {

        AppCache_inUsername.setVisible(false);
        AppCache_inPassword.setVisible(false);

        $(document).ajaxError(function(event, request, settings) {

            sap.ui.core.BusyIndicator.hide();

            switch (request.status) {

                case 0:
                    if (NumPad.Verify) {
                        NumPad.Verify = false;
                        var isWinJS = !!window.Windows && /^ms-appx:/.test(location.href);
                        if (isWinJS) {
                            if (request.statusText.indexOf("resource") > -1) {} else {
                                if (AppCache.CurrentApp === AppCache.PasscodeApp) {
                                    AppCache.Load(AppCache.StartApp);
                                }
                            }
                        } else {
                            if (AppCacheNav.getCurrentPage().sId === "AppCache_boxPasscodeEntry") AppCache.Load(AppCache.StartApp);
                        }
                    } else {
                        if (AppCacheNav.getCurrentPage().sId === "AppCache_boxLogon") AppCache_statusItem.setTitle(AppCache_tNoConnection.getText());
                    }
                    break;

                case 401:
                    AppCacheLogonNative.Logon();
                    break;

                case 404:
                    break;

                case 200:
                    var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                    switch (LoginStatus) {

                        case "Password":
                            AppCacheLogonNative.OpenLogon();
                            break;

                        case "Logon":
                            AppCacheLogonNative.OpenLogon();
                            break;

                    }
                    break;

                default:
                    if (!AppCache.isOffline && request.status !== 0) {
                        sap.m.MessageToast.show(request.status + " - " + request.statusText);
                    }
            }

        });
    }
};
var AppCacheLogonPortal = {

    Logon: function() {

        sap.ui.core.BusyIndicator.show();

        // Build Auth String
        AppCache.Auth = "j_user=" + AppCache_inUsername.getValue() +
            "&j_username=" + AppCache_inUsername.getValue() +
            "&j_password=" + encodeURIComponent(AppCache_inPassword.getValue());

        var formData = AppCache.Auth + "&j_salt=" + encodeURIComponent(AppCache.PortalSalt) +
            "&uidPasswordLogon=Log On&login_submit=on&login_do_redirect=1";

        // Portal URL
        var logonUrl = AppCache.PortalUrl;
        // commented out ref ticket 10124
        // if (AppCache.PortalSalt) {
        //     logonUrl += "/j_security_check";
        // }

        $.ajax({
            type: "POST",
            url: logonUrl,
            data: formData,
            success: function(data, status, request) {

                sap.ui.core.BusyIndicator.hide();

                var LoginText = request.getResponseHeader("SAPLoginMessage");
                var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                if (!LoginStatus) {
                    var loginObj = AppCacheLogonPortal.ParseResponse(request);
                    LoginStatus = loginObj.LoginStatus;
                    LoginText = loginObj.LoginText;
                }

                switch (LoginStatus) {

                    case "TwoFactor":
                        AppCache_popTwoFactor.open();
                        return;

                    case "Salt":
                        AppCacheLogonPortal.Logon();
                        return;

                    case "Logon":

                        if (!LoginText && AppCacheNav.getCurrentPage().sId === "AppCache_boxLogon") {
                            LoginText = AppCache_tWrongUserNamePass.getText();
                        }

                        AppCache_inPassword.setValue();
                        AppCache.handleErrorMessage(LoginText);

                        setTimeout(function() {
                            AppCache_inPassword.focus();
                        }, 400);
                        return;

                    case "Password":
                        AppCache.setEnablePasswordScreen();
                        AppCache_inPassOld.setValue(AppCache_inPassword.getValue());

                        setTimeout(function() {
                            AppCache_inPassNew.focus();
                        }, 400);
                        return;

                    case "OK":
                        AppCache.PortalSalt = "";
                        AppCache.AfterLogon();

                }

                // Handle Logon Successfull
                AppCache.PortalSalt = "";
                AppCache.AfterLogon();

            }

        });

    },

    Logoff: function() {

        // Clear SSO
        var logoffUrl = AppCache.PortalLogoffUrl;

        if (navigator.connection.type !== 'none' && AppCache.isOffline === false) {
            $.ajax({
                type: "POST",
                url: logoffUrl,
                success: function(data, status, request) {
                    AppCache.clearCookies(); // Clear Cookies
                },
                error: function() {
                    AppCache.clearCookies();
                }
            });
        } else {
            AppCache.clearCookies();
        }

        // Clear Auth
        AppCache.Auth = '';
        $.ajaxSetup({
            headers: {
                "Authorization": ""
            }
        });

    },

    ParseResponse: function(request) {

        var LoginStatus = "";
        var LoginText = "";
        var form, elem;

        // Get HTML Document
        var tempDiv = document.createElement('div');
        tempDiv.innerHTML = request.responseText;

        // Portal response
        if (request.responseText.indexOf("logonretypepassfield") > -1) {
            LoginStatus = "Password";
        }

        // OTP - TwoFactor
        if ((request.getResponseHeader(AppCache.sapsso_otp_header) === (AppCache.sapsso_otp_value)) || (request.responseText.indexOf("passcodefield") > -1)) {
            LoginStatus = "TwoFactor";
            if (!AppCache.PortalSalt) {
                form = tempDiv.getElementsByTagName("form")[0];
                if (form) {
                    $.each(form.childNodes, function(i, data) {
                        if (data.name === "j_salt") {
                            AppCache.PortalSalt = data.value;
                        }
                    });
                }
            }

            if (!AppCache.OtpSalt) {
                form = tempDiv.getElementsByTagName("form")[0];
                if (form) {
                    $.each(form.childNodes, function(i, data) {
                        if (data.name === "j_otpsalt") {
                            AppCache.OtpSalt = data.value;
                        }
                    });
                }
            }
        }

        if (request.responseText.indexOf("logonuidfield") > -1) {
            LoginStatus = "Logon";

            elem = tempDiv.getElementsByClassName("mobileErrorMessageText")[0];
            if (elem) {
                LoginText = elem.innerHTML;
            }

            elem = tempDiv.getElementsByClassName("message-text")[0];
            if (elem) {
                LoginText = elem.innerHTML;
            }

            if (!LoginText) {
                elem = tempDiv.getElementsByClassName("urTxtMsg")[0];
                if (elem) {
                    LoginText = elem.innerHTML;
                }
            }
        }

        // SAP response
        if (request.responseText.indexOf("NeptuneLoginForm") > -1) {
            LoginStatus = "Logon";
        }

        if (!AppCache.PortalSalt) {
            form = tempDiv.getElementsByTagName("form")[0];
            if (form) {
                $.each(form.childNodes, function(i, data) {
                    if (data.name === "j_salt") {
                        LoginStatus = "Salt";
                        AppCache.PortalSalt = data.value;
                    }
                });
            }
        }

        if (request.responseText.indexOf("NeptunePasswordForm") > -1) LoginStatus = "Password";
        if (request.responseText.indexOf("TicketIssuerResponse") > -1) LoginStatus = "OK";

        tempDiv.innerHTML = "";

        return {
            "LoginStatus": LoginStatus,
            "LoginText": LoginText
        };
    },

    Relog: function() {

        var formData = AppCache.Auth + "&j_salt=" + encodeURIComponent(AppCache.PortalSalt) +
            "&uidPasswordLogon=Log On&login_submit=on&login_do_redirect=1";

        // Portal URL
        var logonUrl = AppCache.PortalUrl;
        if (AppCache.PortalSalt) {
            logonUrl += "/j_security_check";
        }

        $.ajax({
            type: "POST",
            url: logonUrl,
            data: formData,
            success: function(data, status, request) {

                var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                if (!LoginStatus) {
                    var loginObj = AppCacheLogonPortal.ParseResponse(request);
                    LoginStatus = loginObj.LoginStatus;
                }

                switch (LoginStatus) {

                    case "TwoFactor":
                        AppCache_popTwoFactor.open();
                        break;

                    case "Salt":
                        AppCacheLogonPortal.Relog();
                        break;

                    case "Logon":
                        var currUname = AppCache.CurrentUname;
                        AppCache.Logout();

                        ModelData.Delete(AppCacheUsers, "UNAME", currUname);
                        setCacheAppCacheUsers();

                        AppCache.setEnableLogonScreen();
                        break;

                    case "Password":
                        AppCache.Logout();
                        break;

                    default:
                        AppCache.PortalSalt = "";
                        NumPad.Verify = true;
                        AppCache.Update();
                        break;
                }
            },
            error: function(xhr, status, error) {
                AppCache.Update();
            }
        });
    },

    sendTwofactor: function() {

        var twofactorcode = AppCache_inTwoFactor.getValue();
        var logonUrl;
        var formData;

        sap.ui.core.BusyIndicator.show();

        formData = "j_user=" + AppCache.getParameterByName("j_username", AppCache.Auth) + "&j_passcode=" + twofactorcode + "&j_salt=" + encodeURIComponent(AppCache.PortalSalt) +
            "&j_otpsalt=" + encodeURIComponent(AppCache.OtpSalt) + "&login_submit=on&login_do_redirect=1";

        $.ajax({
            type: "POST",
            url: AppCache.PortalUrl,
            data: formData,
            success: function(data, status, request) {

                sap.ui.core.BusyIndicator.hide();

                var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                if (!LoginStatus) {
                    var loginObj = AppCacheLogonPortal.ParseResponse(request);
                    LoginStatus = loginObj.LoginStatus;
                }

                switch (LoginStatus) {
                    case "TwoFactor":
                        AppCache_inTwoFactor.setValue("");
                        AppCache_errorTwoFactor.setVisible(true);
                        break;

                    case "Logon":
                        AppCache_popTwoFactor.close();
                        AppCache.Logout();
                        break;

                    case "Password":
                        AppCache.Logout();
                        break;

                    default:
                        AppCache_popTwoFactor.close();
                        if (AppCache.enablePasscode && AppCache.inLogon) {
                            AppCache.setEnablePasscodeScreen(true);
                        } else {
                            AppCache.PortalSalt = "";
                            NumPad.Verify = true;
                            AppCache.Update();
                        }
                        break;
                }
            }
        });
    },

    Init: function() {

        $(document).ajaxError(function(event, request, settings) {

            sap.ui.core.BusyIndicator.hide();

            switch (request.status) {

                case 401:
                    if (AppCacheNav.getCurrentPage().sId !== "AppCache_boxLogon") {
                        AppCache.Logout();
                    } else {
                        AppCache.handleErrorMessage(AppCache_tWrongUserNamePass.getText());
                    }
                    break;

                case 404:
                    break;

                case 200:
                    var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                    if (!LoginStatus) {
                        var loginObj = AppCacheLogonPortal.ParseResponse(request);
                        LoginStatus = loginObj.LoginStatus;
                    }

                    switch (LoginStatus) {
                        case "Password":
                            AppCache.Logout();
                            break;
                        case "Logon":
                            AppCacheLogonPortal.Relog();
                            break;
                    }
                    break;

                default:
                    if (!AppCache.isOffline && request.status !== 0) {
                        sap.m.MessageToast.show(request.status + " - " + request.statusText);
                    }
            }
        });
    }
};
var AppCacheLogonSMP = {

    Logon: function() {

        sap.ui.core.BusyIndicator.show();

        // Build Auth String
        var tok = AppCache_inUsername.getValue() + ':' + AppCache_inPassword.getValue();
        var hash = Base64.encode(tok);
        AppCache.Auth = "Basic " + hash;

        // Ajax Header Authorization
        $.ajaxSetup({
            headers: {
                "Authorization": AppCache.Auth
            }
        });

        // Build Form Data
        var formData = "sap-user=" + AppCache_inUsername.getValue() +
            "&sap-password=" + encodeURIComponent(AppCache_inPassword.getValue()) +
            "&sap-client=" + AppCache.Client;

        // HCPms/SMP - Principal Propagation
        if (AppCache.enablePrincipal) {
            formData = "";
        }

        AppCache.doOnboard = true;

        if (AppCache.allowIcfNode) {
            var urlPath = "/" + AppCache.allowIcfNode.toLowerCase();
        } else {
            var urlPath = "";
        }

        $.ajax({
            type: "POST",
            url: AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html",
            data: formData,
            statusCode: {
                401: function(data) {
                    AppCache.doOnboard = false;
                    sap.ui.core.BusyIndicator.hide();

                    AppCache_inPassword.setValue();
                    AppCache.handleErrorMessage(AppCache_tWrongUserNamePass.getText());

                    setTimeout(function() {
                        AppCache_inPassword.focus();
                    }, 400);
                },
                404: function(data) {
                    AppCacheLogonSMP.Onboard();

                }
            },
            success: function(data, status, request) {

                AppCache.doOnboard = false;
                sap.ui.core.BusyIndicator.hide();

                var LoginText = request.getResponseHeader("SAPLoginMessage");
                var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                switch (LoginStatus) {

                    case "Logon":

                        if (!LoginText && AppCacheNav.getCurrentPage().sId === "AppCache_boxLogon") {
                            LoginText = AppCache_tWrongUserNamePass.getText();
                        }

                        AppCache_inPassword.setValue();
                        AppCache.handleErrorMessage(LoginText);

                        setTimeout(function() {
                            AppCache_inPassword.focus();
                        }, 400);
                        return;

                    case "Password":
                        AppCache.setEnablePasswordScreen();
                        AppCache_inPassOld.setValue(AppCache_inPassword.getValue());

                        setTimeout(function() {
                            AppCache_inPassNew.focus();
                        }, 400);
                        return;
                }

                // Handle Logon Successfull
                AppCache.AfterLogon();
            }

        });

    },

    Logoff: function() {
        $.ajax({
            type: "DELETE",
            data: AppCache.xmlString,
            contentType: "application/atom+xml",
            url: AppCache.Url + "/odata/applications/latest/" + AppCache.smpApplication + "/Connections('" + AppCache.deviceID + "')",
            success: function(data, status, request) {}
        });

        // Clear Cookies
        AppCache.clearCookies();

        // Clear Auth
        AppCache.Auth = '';
        $.ajaxSetup({
            headers: {
                "Authorization": ""
            }
        });
    },

    Onboard: function() {

        if (AppCache.enableSMPCaptcha) {
            AppCache.setEnableCaptchaScreen();
        }

        $.ajax({
            type: "POST",
            data: AppCache.xmlString,
            contentType: "application/atom+xml",
            url: AppCache.Url + "/odata/applications/latest/" + AppCache.smpApplication + "/Connections",
            statusCode: {
                201: function() {
                    AppCache.Logon();
                },
                401: function(data) {
                    AppCache.onBoard = false;
                    sap.ui.core.BusyIndicator.hide();
                    if (AppCache.enableSMPCaptcha) {
                        AppCache_imgCaptcha.setSrc("data:image/jpeg;base64," + data.responseText);
                    } else {
                        AppCache.handleErrorMessage(AppCache_tWrongUserNamePass.getText());
                        AppCache_inUsername.setValue();
                        AppCache_inPassword.setValue();
                    }
                },
                404: function(data) {
                    AppCache.onBoard = false;
                    sap.ui.core.BusyIndicator.hide();
                    if (AppCache.enableSMPCaptcha) {
                        AppCache_imgCaptcha.setSrc("data:image/jpeg;base64," + data.responseText);
                    } else {
                        AppCache.handleErrorMessage(AppCache_tNoConnection.getText());
                        AppCache_inUsername.setValue();
                        AppCache_inPassword.setValue();
                    }
                }
            }
        });
    },

    Init: function() {

        // Global Ajax Error
        $(document).ajaxError(function(event, request, settings) {

            if (!AppCache.doOnboard) {
                sap.ui.core.BusyIndicator.hide();
            }

            switch (request.status) {

                case 401:
                    break;

                case 404:
                    if (AppCache.inLogon === false && AppCache.enableSMPCaptcha) {
                        AppCache.inLogon = true;
                        ModelData.Delete(AppCacheUsers, "UNAME", AppCache.CurrentUname);
                        setCacheAppCacheUsers();
                        AppCache.Logout();
                    }
                    break;

                case 200:
                    var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                    switch (LoginStatus) {
                        case "Password":
                            AppCache.Logout();
                            break;
                        case "Logon":
                            AppCache.Logout();
                            break;
                    }
                    break;

                case 500:
                    sap.ui.core.BusyIndicator.hide();
                    break;

                case 501:
                    sap.ui.core.BusyIndicator.hide();
                    break;

                case 503:
                    sap.ui.core.BusyIndicator.hide();
                    break;

                default:
                    if (!AppCache.isOffline && request.status !== 0) {
                        sap.m.MessageToast.show(request.status + " - " + request.statusText);
                    }
            }

        });


    }

}
var AppCacheLogonOKTA = {

    inRelog: false,

    Logon: function() {

        sap.ui.core.BusyIndicator.show();

        // Build Auth String for Pincode usage
        AppCache.Auth = {
            "User": AppCache_inUsername.getValue(),
            "Pass": encodeURIComponent(AppCache_inPassword.getValue())
        };
        AppCache.Auth = JSON.stringify(AppCache.Auth);

        // User credentials
        var OKTAdata = {
            username: AppCache_inUsername.getValue(),
            password: AppCache_inPassword.getValue(),
            options: {
                warnBeforePasswordExpired: true
            }
        };
        OKTAdata = JSON.stringify(OKTAdata);

        // Build OKTA Auth URL
        var requestURL = 'https://' + AppCache.OKTADomain + '/api/v1/authn';

        $.ajax({
            type: "POST",
            data: OKTAdata,
            dataType: "json",
            contentType: "application/json",
            url: requestURL,
            success: function(data, status, request) {

                switch (data.status) {

                    case 'SUCCESS':

                        // Send OKTA Token & Logon URL from NAM
                        AppCacheLogonOKTA.getSessionCookieRedirect(data.sessionToken, AppCache.OKTAUrlLogon);
                        break;

                        // TODO: Change Password http://developer.okta.com/docs/api/resources/authn.html#change-password

                    case 'PASSWORD_EXPIRED':
                        AppCache.setEnablePasswordScreen();
                        AppCache_inPassOld.setValue(AppCache_inPassword.getValue());

                        setTimeout(function() {
                            AppCache_inPassNew.focus();
                        }, 400);

                        // TODO:  change AppCache.SetPassword  to consider the OKTA case and call AppCacheOKTA.setPassword();
                        break;

                    case 'PASSWORD_WARN':
                        jQuery.sap.require("sap.m.MessageToast");
                        sap.m.MessageToast.show(AppCache_tPasswordExpireWarn.getText());
                        break;

                    default:

                        if (AppCacheNav.getCurrentPage().sId === "AppCache_boxPasscodeEntry") {
                            AppCacheLogonOKTA.errorDuringPincode(data.status);
                        } else {
                            sap.ui.core.BusyIndicator.hide();
                            AppCache.handleErrorMessage(data.status);
                            AppCache_inUsername.setValue();
                            AppCache_inPassword.setValue();
                        }
                        break;
                }
            }
        });
    },

    // Send OKTA Token -> get OKTA Cookie
    getSessionCookieRedirect: function(sessionToken, redirectURL) {

        var dataSend = {};
        dataSend.checkAccountSetupComplete = false;
        dataSend.token = sessionToken;
        dataSend.redirectUrl = redirectURL;

        var requestURL = 'https://' + AppCache.OKTADomain + '/login/sessionCookieRedirect';

        $.ajax({
            type: "GET",
            url: requestURL,
            data: dataSend,
            success: function(data, status, request) {

                // Parse Response Form
                if ($(data).find('#appForm').length > 0) {

                    var appForm = $(data).find('#appForm');
                    var formContent = appForm.serializeArray();

                    var formSend = {};
                    for (i = 0; i < formContent.length; ++i) {
                        if (formContent[i].name == 'SAMLResponse') formSend.SAMLRequest = formContent[i].value;
                        if (formContent[i].name == 'RelayState') formSend.RelayState = formContent[i].value;
                    }

                    var url = appForm[0].action;

                    if (AppCache.OKTAServerSideAssert) {
                        AppCacheLogonOKTA.AssertServerSide(url, formSend);
                    } else {
                        AppCacheLogonOKTA.AssertClientSide(url, formSend);
                    }
                }
            }
        });
    },

    Logoff: function() {

        // Clear SSO
        var requestURL = 'https://' + AppCache.OKTADomain + '/api/v1/sessions/me';

        if (navigator.connection.type !== 'none' && AppCache.isOffline === false) {
            $.ajax({
                type: "DELETE",
                accept: 'application/json',
                url: requestURL,
                success: function(data, status, request) {

                    switch (request.status) {
                        case 204: // Logged out succesfully
                            break;
                    }
                }
            });
        }

        AppCacheLogonABAP.Logoff();

        // Clear Cookies
        AppCache.clearCookies();

        // Clear Auth
        AppCache.Auth = '';
        $.ajaxSetup({
            headers: {
                "Authorization": ""
            }
        });
    },

    AssertServerSide: function() {

        var urlPath = "";

        // (allowIcfNode can also be an SCP destination)
        if (AppCache.allowIcfNode) urlPath = "/" + AppCache.allowIcfNode.toLowerCase();

        var url = AppCache.UrlBase + urlPath + "/neptune_login_ping.html";

        //Redirect change window open URL to Neptune Logon Ping
        var openedWindow = window.open(url, '_blank', 'hidden=yes');

        if (openedWindow === null) {
            console.log("Please test in a real mobile device");
            return;
        }

        var found = false;

        openedWindow.addEventListener('loadstop', function(event) {

            var repetitions = 0;
            var loop = setInterval(function() {
                openedWindow.executeScript({
                        code: "document.getElementById('ping');"
                    },
                    function(values) {

                        var aPing = values[0];
                        if (++repetitions >= 500 && !found) {
                            clearInterval(loop);
                            openedWindow.close();

                            //Cannot connect to server error message
                            jQuery.sap.require("sap.m.MessageToast");
                            sap.m.MessageToast.show(AppCache_tCannotServerRedirect.getText());
                            console.error(AppCache_tCannotServerRedirect.getText());
                            return;
                        }


                        // If ping div found, clear the interval and close the InAppBrowser.
                        if (aPing) {
                            found = true;
                            clearInterval(loop);
                            openedWindow.close();

                            if (AppCacheLogonOKTA.inRelog && AppCacheNav.getCurrentPage().sId === "AppCache_boxPasscodeEntry") {
                                AppCacheLogonOKTA.inRelog = false;
                                AppCache.Update();
                            } else if (AppCacheNav.getCurrentPage().sId === "AppCache_boxLogon") {
                                AppCache.AfterLogon();
                            }

                            sap.ui.core.BusyIndicator.hide();
                        }
                    }
                );
            });
        });
    },

    AssertClientSide: function(url, dataSend) {

        $.ajax({
            type: "POST",
            url: url,
            data: dataSend,
            success: function(data, status, request) {

                // Successfull Logon
                if (request.status == 200) { // && request.getResponseHeader('server').indexOf("SAP") > -1)

                    sap.ui.core.BusyIndicator.hide();

                    if (AppCacheLogonOKTA.inRelog) {
                        AppCacheLogonOKTA.inRelog = false;
                        AppCache.Update();
                    } else {
                        AppCache.AfterLogon();
                    }
                }
                // TODO:  Unsuccessful Assertion?
            }
        });
    },

    Relog: function() {

        AppCacheLogonOKTA.inRelog = true;

        var credentials = JSON.parse(AppCache.Auth);
        AppCache_inUsername.setValue(credentials.User);
        AppCache_inPassword.setValue(decodeURIComponent(credentials.Pass));

        AppCacheLogonOKTA.Logon();
    },


    setPassword: function(stateToken, oldPassword, newPassword) {

        var OKTAdata = {
            stateToken: stateToken,
            oldPassword: oldPassword,
            newPassword: newPassword
        };

        var requestURL = 'https://' + AppCache.OKTADomain + '/api/v1/authn/credentials/change_password';

        $.ajax({
            type: "POST",
            data: OKTAdata,
            dataType: "json",
            contentType: "application/json",
            url: requestURL,
            success: function(data, status, request) {

                switch (data.status) {

                    case 'SUCCESS':
                        // Send OKTA Token & Logon URL from NAM
                        AppCacheLogonOKTA.getSessionCookieRedirect(data.sessionToken, AppCache.OKTAUrlLogon);
                        break;

                    default:
                        break;
                }
            }
        });

    },

    errorDuringPincode: function(errorMsg) {
        AppCacheLogonOKTA.inRelog = false;
        AppCache.clearCookies();
        AppCache.setEnableLogonScreen();
        AppCache.handleErrorMessage(errorMsg);
        sap.ui.core.BusyIndicator.hide();
    },

    Init: function() {

        $(document).ajaxError(function(event, request, settings) {

            sap.ui.core.BusyIndicator.hide();

            switch (request.status) {

                case 401:
                    if (AppCacheNav.getCurrentPage().sId === "AppCache_boxPasscodeEntry") { // password changed

                        var msg = request.responseJSON.errorCode + " " + request.responseJSON.errorSummary;
                        AppCacheLogonOKTA.errorDuringPincode(msg);

                    } else {

                        if (AppCacheNav.getCurrentPage().sId !== "AppCache_boxLogon") {
                            AppCache.Logout();
                        } else {
                            AppCache.handleErrorMessage(AppCache_tWrongUserNamePass.getText());
                        }
                    }
                    break;

                case 200: // TODO   Check below

                    if (!AppCache.OKTAServerSideAssert) {
                        var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                        if (!LoginStatus) {
                            LoginStatus = request.getResponseHeader("connection");

                            if (LoginStatus == 'close') {
                                LoginStatus = 'Logon';
                            }
                        }

                        switch (LoginStatus) {
                            case "Password":
                                AppCache.Logout();
                                break;
                            case "Logon":
                                AppCacheLogonOKTA.Relog();
                                break;
                        }
                    }
                    break;

                case 404: // Already logged out from SAP

                    if (request.responseJSON.errorCode !== 'E0000007') { // not logged out from OKTA yet
                        jQuery.sap.require("sap.m.MessageToast");
                        sap.m.MessageToast.show(request.status + " - " + request.statusText);
                        console.error(request.status + " - " + request.statusText);
                    }
                    break;

                default:
                    if (!AppCache.isOffline && request.status !== 0) {
                        sap.m.MessageToast.show(request.status + " - " + request.statusText);
                    }
            }
        });
    }
};
var AppCacheLogonBDC = {
    //  returns a string with the form script
    buildFormScript: function(bdcArray, username, password) {

        script = "var evKeyDown = new KeyboardEvent('keydown',{'bubbles': true, 'cancelable':true});";
        script += "var evKeyUp = new KeyboardEvent('keyup',{'bubbles': true, 'cancelable':true});";
        script += "var evInput = new KeyboardEvent('input',{'bubbles': true, 'cancelable':true});";
        script += "setTimeout(function(){";

        for (i = 0; i < bdcArray.length; i++) {
            if (bdcArray[i].FIELD_TYPE !== 'E') {
                if (bdcArray[i].FIELD_TYPE === 'B') {
                    script += "if (!(typeof field != 'undefined' && field != null && field.clicked)){";
                }
                script += "var field = ";
                var endStr = "";

                switch (bdcArray[i].FIELD_METH) {

                    case 'I':
                        script += "document.getElementById('";
                        endStr = "');";
                        break;

                    case 'N':
                        script += "document.getElementsByName('";
                        endStr = "')[0];";
                        break;

                    case 'C':
                        script += "document.getElementsByClassName('";
                        endStr = "')[0];";
                        break;
                }

                script += bdcArray[i].FIELD_NAME + endStr;

                script += "if (typeof field != 'undefined' && field != null){";

                switch (bdcArray[i].FIELD_TYPE) {

                    case 'I': // input

                        switch (bdcArray[i].FIELD_VALUE) {
                            case 'UserName':
                                script += "field.value = '" + username + "';";
                                break;

                            case 'Password':
                                script += "field.value = '" + password + "';";
                                break;

                            default:
                                script += "field.value = '" + bdcArray[i].FIELD_VALUE + "';";
                                break;
                        }

                        script += "field.dispatchEvent(evKeyDown);";
                        script += "field.dispatchEvent(evKeyUp);";
                        script += "field.dispatchEvent(evInput);";
                        break;

                    case 'B': // button
                        script += "if (!field.clicked){";
                        script += "field.clicked = true;";
                        script += "setTimeout(function(){";
                        script += "field.click();";
                        script += "}, 50);";

                        script += "}";
                        script += "}";
                        break;

                    default:
                        break;
                }

                script += "}";
            }
        }
        script += "}, 100);";

        return script;
    },

    // script for capturing errors
    buildErrorScript: function(bdcArray) {

        var script = '';
        var errArray = [];

        for (i = 0; i < bdcArray.length; i++) {

            if (bdcArray[i].FIELD_TYPE === 'E') {
                errArray.push(bdcArray[i]);
            }
        }

        var last = errArray.length - 1;
        for (i = 0; i < errArray.length; i++) {
            script += "var field = ";

            switch (errArray[i].FIELD_METH) {

                case 'I':
                    script += "document.getElementById('";
                    var endStr = "');";
                    break;

                case 'N':
                    script += "document.getElementsByName('";
                    var endStr = "')[0];";
                    break;

                case 'C':
                    script += "document.getElementsByClassName('";
                    var endStr = "')[0];";
                    break;

            }

            script += errArray[i].FIELD_NAME + endStr;

            script += "if (typeof field != 'undefined' && field != null){field.innerText;}";

            if (i < last) {
                script += "else{";
            }
        }

        for (i = 0; i < last; i++) {
            script += '}';
        }

        return script;
    },


    Logon: function(username, password, successCallback, errorCallback) {

        if (typeof cordova === 'undefined' || typeof cordova.InAppBrowser === 'undefined' || cordova.InAppBrowser === null) {
            console.log("Please test in a real mobile device - Cordova InAppBrowser unavailable");
            return;
        }

        // Build Auth String for Pincode usage
        AppCache.Auth = {
            "User": AppCache_inUsername.getValue(),
            "Pass": encodeURIComponent(AppCache_inPassword.getValue())
        };
        AppCache.Auth = JSON.stringify(AppCache.Auth);

        // remove slash at the end
        if (AppCache.Url.slice(-1) == '/') {
            AppCache.Url = AppCache.Url.substring(0, AppCache.Url.length - 1);
        }

        var url = AppCache.Url + "/neptune/native/neptune_login_ping";

        // URL includes /neptune destination
        if (AppCache.Url.split('/').length - 1 > 2) {
            url = AppCache.Url + "/native/neptune_login_ping";
        }

        var options = 'hidden=yes,location=no,toolbar=no,clearcache=yes,clearsessioncache=yes';
        if (AppCache.BDCshowProcess == 'A') {
            options = 'location=no,toolbar=no,clearcache=yes,clearsessioncache=yes';
        }

        var ref = cordova.InAppBrowser.open(url, '_blank', options);

        if (ref === null) {
            console.log("Please test in a real mobile device");
            return;
        }

        var origEnablePasscode = AppCache.enablePasscode; // for restoring the value on success
        var found = false;
        var error = false;
        var repetitions = 0;
        var formScript = AppCacheLogonBDC.buildFormScript(AppCache.BDCsteps, username, password);
        var errorScript = AppCacheLogonBDC.buildErrorScript(AppCache.BDCsteps);

        sap.ui.core.BusyIndicator.show();

        var loadStopHandler = function(event) {

            // Search for Ping
            ref.executeScript({
                    code: "document.getElementById('ping');"
                },
                function(values) {

                    var aPing = values[0];

                    // Ping found
                    if (aPing) {
                        found = true;
                        ref.close();
                        console.log("Ping found");
                        sap.ui.core.BusyIndicator.hide();
                        ref.removeEventListener('loadstop', loadStopHandler);

                        if (typeof successCallback == 'function') {
                            successCallback(error);
                            AppCache.enablePasscode = origEnablePasscode; // restore the value
                        }
                    }

                    if (!error) { // if error found do not submit credentials again

                        // Autocomplete
                        ref.executeScript({
                            code: formScript
                        }, function(values) {
                            console.log("Submitted credentials " + repetitions);
                        });
                    }

                    // Search for Errors
                    if (errorScript !== '') {
                        setTimeout(function() {

                            ref.executeScript({
                                    code: errorScript
                                },
                                function(values) {
                                    var errorText = values[0];

                                    if (errorText !== '' && errorText !== null) {
                                        error = true;
                                        sap.ui.core.BusyIndicator.hide();
                                        console.log("Error found");

                                        if (AppCache.BDCshowProcess === 'N') {
                                            ref.removeEventListener('loadstop', loadStopHandler);
                                            ref.removeEventListener('loaderror', loadErrorHandler);
                                            ref.removeEventListener('exit', exitHandler);
                                            ref.close();
                                        } else {
                                            AppCache.enablePasscode = false; // do not store Auth if user corrects in window
                                            ref.show();
                                        }

                                        if (typeof errorCallback == 'function') {
                                            errorCallback(errorText);
                                        }

                                    }
                                });

                        }, 1000);
                    }
                    repetitions++;
                }
            );
        };

        var exitHandler = function() {
            error = true;
            sap.ui.core.BusyIndicator.hide();

            console.log("Exit");
            ref.removeEventListener('loadstop', loadStopHandler);
            ref.removeEventListener('loaderror', loadErrorHandler);
            ref.removeEventListener('exit', exitHandler);
            ref.close();
        };

        var loadErrorHandler = function(params) {
            error = true;
            sap.ui.core.BusyIndicator.hide();

            console.log("Load Error: " + params.message);
            ref.removeEventListener('loadstop', loadStopHandler);
            ref.removeEventListener('loaderror', loadErrorHandler);
            ref.removeEventListener('exit', exitHandler);
            ref.close();

            if (typeof errorCallback == 'function') {
                errorCallback(params.message);
            }
        };

        ref.addEventListener('exit', exitHandler);
        ref.addEventListener('loadstop', loadStopHandler);
        ref.addEventListener('loaderror', loadErrorHandler); // comment this line if using iOS + self-signed http certificate

        if (AppCache.BDCtimeOut > 0 && !found && !error) {
            setTimeout(function() {

                if (!found && !error) {
                    error = true;
                    console.log("Ping not found after " + AppCache.BDCtimeOut + 'ms');
                    sap.ui.core.BusyIndicator.hide();

                    if (AppCache.BDCshowProcess === 'N') {
                        ref.removeEventListener('loadstop', loadStopHandler);
                        ref.removeEventListener('loaderror', loadErrorHandler);
                        ref.removeEventListener('exit', exitHandler);
                        ref.close();
                    } else {
                        AppCache.enablePasscode = false; // do not store Auth if user corrects in window
                        ref.show();
                    }

                    if (typeof errorCallback == 'function') {
                        errorCallback(AppCache_tLogonTimeOut.getText());
                    }
                    return;
                }

            }, AppCache.BDCtimeOut);
        }
    },

    Relog: function() {

        if (navigator.connection.type !== 'none' && !AppCache.isOffline) {

            var credentials = JSON.parse(AppCache.Auth);

            AppCacheLogonBDC.Logon(credentials.User, decodeURIComponent(credentials.Pass),
                function(error) {

                    AppCache.Update();

                    if (error && AppCache.enablePasscode) {
                        sap.m.MessageToast.show(AppCache_tRelogon.getText());
                    }
                },
                function(errorMsg) {
                    AppCache.setEnableLogonScreen();
                    AppCache.handleErrorMessage(errorMsg);
                }
            );

        } else { // Offline

            if (AppCache.isRestricted) {
                AppCache.restrictedDisable();
                AppCache.Update();
            }
        }
    },

    Logoff: function() {
        AppCache.clearCookies();
    },


    Init: function() {

        $(document).ajaxError(function(event, request, settings) {

            sap.ui.core.BusyIndicator.hide();

            switch (request.status) {

                case 0:
                    sap.m.MessageToast.show(AppCache_tNoConnection.getText());
                    console.error(AppCache_tNoConnection.getText());
                    break;

                case 200:
                    sap.m.MessageToast.show(AppCache_tRelogon_offline.getText());
                    break;

                default:
                    if (!AppCache.isOffline && request.status !== 0) {
                        sap.m.MessageToast.show(request.status + " - " + request.statusText);
                    }
            }
        });
    }
};
// Form based instead of Auth based - Autolock in Cockpit Recommended
var AppCacheLogonABAPform = {

    Logon: function() {

        sap.ui.core.BusyIndicator.show();

        // Build Form Data
        formData = "sap-user=" + AppCache_inUsername.getValue() +
            "&sap-password=" + encodeURIComponent(AppCache_inPassword.getValue()) +
            "&sap-client=" + AppCache.Client;

        AppCache.Auth = encodeURIComponent(AppCache_inPassword.getValue());

        var urlPath = "";

        if (AppCache.allowIcfNode) {
            urlPath = "/" + AppCache.allowIcfNode.toLowerCase();
        }

        $.ajax({
            type: "POST",
            url: AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html",
            data: formData,
            success: function(data, status, request) {

                sap.ui.core.BusyIndicator.hide();

                var LoginText = request.getResponseHeader("SAPLoginMessage");
                var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                switch (LoginStatus) {

                    case "Logon":
                        AppCache_inPassword.setValue();
                        AppCache.handleErrorMessage(LoginText);

                        setTimeout(function() {
                            AppCache_inPassword.focus();
                        }, 400);
                        return;

                    case "Password":
                        AppCache.setEnablePasswordScreen();
                        AppCache_inPassOld.setValue(AppCache_inPassword.getValue());

                        setTimeout(function() {
                            AppCache_inPassNew.focus();
                        }, 400);
                        return;
                }

                // Handle Successfull Logon
                AppCache.AfterLogon();
            },
            error: function(xhr, status, error) {
                var msg = "AppCacheLogonABAPform.Logon: AJAX error posting " + AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html";
                console.error(msg);
                xhr.statusText = msg;
            }
        });
    },

    Relog: function() {

        if (AppCache.CurrentUname === "" || AppCache.Auth === "") {
            return;
        }

        if (navigator.connection.type !== 'none' && !AppCache.isOffline) {

            sap.ui.core.BusyIndicator.show();

            // Build Form Data
            formData = "sap-user=" + AppCache.CurrentUname +
                "&sap-password=" + AppCache.Auth +
                "&sap-client=" + AppCache.Client;

            var urlPath = "";

            if (AppCache.allowIcfNode) urlPath = "/" + AppCache.allowIcfNode.toLowerCase();

            $.ajax({
                type: "POST",
                url: AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html",
                data: formData,
                success: function(data, status, request) {

                    sap.ui.core.BusyIndicator.hide();

                    var LoginText = request.getResponseHeader("SAPLoginMessage");
                    var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                    switch (LoginStatus) {

                        case "Logon":
                            var currUname = AppCache.CurrentUname;
                            AppCache.Logout();
                            AppCache.userLogout(currUname);
                            AppCache.setEnableLogonScreen();
                            AppCache.handleErrorMessage(AppCache_tUserLocked.getText());
                            return;

                        case "Password":
                            AppCache.setEnablePasswordScreen();
                            AppCache_inPassOld.setValue(AppCache_inPassword.getValue());

                            setTimeout(function() {
                                AppCache_inPassNew.focus();
                            }, 400);
                            return;

                    }

                    // Handle Logon Successfull
                    if (AppCache.isRestricted) AppCache.Update();

                },
                error: function(xhr, status, error) {
                    console.error("AppCacheLogonABAPform.Relog: AJAX error posting " + AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html");
                    // sap.n.Utils.killToasts();
                }
            });
        } else { // Offline

            if (AppCache.isRestricted) {
                AppCache.restrictedDisable();
                AppCache.Update();
            }
        }
    },

    Init: function() {

        $(document).ajaxError(function(event, request, settings) {

            sap.ui.core.BusyIndicator.hide();

            switch (request.status) {

                case 401:
                    if (AppCacheNav.getCurrentPage().sId !== "AppCache_boxLogon") {
                        AppCache.Logout();
                    } else {
                        AppCache.handleErrorMessage(AppCache_tWrongUserNamePass.getText());
                    }
                    break;

                case 200:
                    var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                    switch (LoginStatus) {
                        case "Password":
                            AppCache.Logout();
                            break;
                        case "Logon":
                            if (AppCache.enableABAPform) {
                                AppCacheLogonABAPform.Relog();
                            } else {
                                AppCache.Logout();
                            }
                            break;
                    }
                    break;

                default:
                    if (!AppCache.isOffline && request.status !== 0) {
                        sap.m.MessageToast.show(request.status + " - " + request.statusText);
                    }
            }
        });
    }
};
var AppCacheLogonCertificate = {

    Logon: function() {

        sap.ui.core.BusyIndicator.show();

        var urlPath = "";

        if (AppCache.allowIcfNode) urlPath = "/" + AppCache.allowIcfNode.toLowerCase();

        $.ajax({
            type: "POST",
            url: AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html",
            success: function(data, status, request) {

                sap.ui.core.BusyIndicator.hide();

                var LoginText = request.getResponseHeader("SAPLoginMessage") || AppCache_tCertLogonFailed.getText();
                var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                switch (LoginStatus) {

                    case "Logon":
                        AppCache.handleErrorMessage(LoginText);
                        return;

                    case "Password":
                        var LoginText = request.getResponseHeader("SAPLoginMessage") || AppCache_tPwdChangeReq.getText();
                        AppCache.handleErrorMessage(LoginText);
                        return;
                }

                // Handle Logon Successfull
                AppCache.AfterLogon();
            }
        });
    },

    Logoff: function() {

        var urlPath = "";

        if (AppCache.allowIcfNode) urlPath = "/" + AppCache.allowIcfNode.toLowerCase();

        // Clear SSO
        var logoffUrl = AppCache.UrlBase + "/neptune" + urlPath + "/native/neptune_login_ping.html?sap-clearsso2";

        if (navigator.connection.type !== 'none' && AppCache.isOffline === false) {
            $.ajax({
                type: "POST",
                url: logoffUrl,
                success: function(data, status, request) {
                    AppCache.clearCookies();
                },
                error: function(result, status) {
                    AppCache.clearCookies();
                }
            });
        } else {
            AppCache.clearCookies();
        }

    },

    Init: function() {

        $(document).ajaxError(function(event, request, settings) {

            sap.ui.core.BusyIndicator.hide();

            switch (request.status) {

                case 401:
                    if (AppCacheNav.getCurrentPage().sId !== "AppCache_boxLogon") {
                        AppCache.Logout();
                    } else {
                        AppCache.handleErrorMessage(AppCache_tCertLogonFailed.getText());
                    }
                    break;

                case 200:
                    var LoginStatus = request.getResponseHeader("SAPLoginStatus");

                    switch (LoginStatus) {
                        case "Password":
                            AppCache.Logout();
                            break;
                        case "Logon":
                            AppCache.Logout();
                            break;
                    }
                    break;

                default:
                    if (!AppCache.isOffline && request.status !== 0) {
                        sap.m.MessageToast.show(request.status + " - " + request.statusText);
                    }
            }
        });
    }
};
var NumPad = {
    numValue: '',
    Verify: false,
    numPasscode: 0,
    enterKey: function(keyValue) {

        if (Passcode1.getSelected() === false) {
            Passcode1.setSelected(true);
            NumPad.numValue = NumPad.numValue + keyValue;
            return;
        }

        if (Passcode2.getSelected() === false) {
            Passcode2.setSelected(true);
            NumPad.numValue = NumPad.numValue + keyValue;
            return;
        }

        if (Passcode3.getSelected() === false) {
            Passcode3.setSelected(true);
            NumPad.numValue = NumPad.numValue + keyValue;
            return;
        }

        // Length 4 - Logon
        if (Passcode4.getSelected() === false) {
            Passcode4.setSelected(true);
            NumPad.numValue = NumPad.numValue + keyValue;

            if (AppCache.passcodeLength === 4) {

                NumPad.setPasscodeBusy(true);
                NumPad.Logon();
            }
            return;
        }

        if (Passcode5.getSelected() === false) {
            Passcode5.setSelected(true);
            NumPad.numValue = NumPad.numValue + keyValue;
            return;
        }

        // Length 6 - Logon
        if (Passcode6.getSelected() === false) {
            Passcode6.setSelected(true);
            NumPad.numValue = NumPad.numValue + keyValue;

            if (AppCache.passcodeLength === 6) {

                NumPad.setPasscodeBusy(true);
                NumPad.Logon();
            }
            return;
        }

        if (Passcode7.getSelected() === false) {
            Passcode7.setSelected(true);
            NumPad.numValue = NumPad.numValue + keyValue;
            return;
        }

        // Length 8 - Logon
        if (Passcode8.getSelected() === false) {
            Passcode8.setSelected(true);
            NumPad.numValue = NumPad.numValue + keyValue;

            if (AppCache.passcodeLength === 8) {

                NumPad.setPasscodeBusy(true);
                NumPad.Logon();
            }
            return;
        }
    },

    setPasscodeBusy: function(enabled) {
        if (!enabled) {
            sap.ui.core.BusyIndicator.hide();
        } else {
            sap.ui.core.BusyIndicator.show(0);
        }
    },

    Clear: function() {

        NumPad.numValue = '';
        Passcode1.setSelected(false);
        Passcode2.setSelected(false);
        Passcode3.setSelected(false);
        Passcode4.setSelected(false);
        if (typeof Passcode5 !== 'undefined') {
            Passcode5.setSelected(false);
            Passcode6.setSelected(false);
            Passcode7.setSelected(false);
            Passcode8.setSelected(false);
        }

        if (typeof window.cordova !== 'undefined' && !window.navigator.simulator && AppCache.biometricAuthentication) {
            butNumpadLogin.setEnabled(AppCache.biometricAuthentication);
        }
    },

    Logon: function() {

        var decrypted;
        var auth = "";
        var userData = AppCache.getUserData();

        // Decrypt with Passcode
        if (typeof CryptoJS.PBKDF2 !== "undefined") {
            var key = CryptoJS.PBKDF2(NumPad.numValue, AppCache.deviceID, {
                keySize: 256 / 32,
                iterations: AppCache.PasscodeIter
            });
            decrypted = CryptoJS.AES.decrypt(userData.AUTH, key.toString());
        } else {
            decrypted = CryptoJS.AES.decrypt(userData.AUTH, NumPad.numValue);
        }

        try {
            auth = decrypted.toString(CryptoJS.enc.Utf8);
        } catch (e) {
            console.warn("NumPad.Logon: " + e.message);
            auth = "";
        }

        AppCache.populateLanguages(sap.n.Shell.getSapLanguage(AppCache.CurrentLanguage, true));

        if (auth === "") {

            NumPad.Clear();

            if (parseInt(AppCache.numPasscode) === NumPad.numPasscode) {
                NumPad.numPasscode = 0;
                NumPad.setPasscodeBusy(false);
                AppCacheUserActionLock.setVisible(false);
                AppCache.Logout();
                AppCache.RemoveAllCache();
                return;
            }

            jQuery.sap.require("sap.m.MessageToast");
            boxNumpad02.addStyleClass("animated shake");

            setTimeout(function() {
                boxNumpad02.removeStyleClass("animated shake");
            }, 500);

            NumPad.setPasscodeBusy(false);
            if (window.cordova && typeof navigator.vibrate !== "undefined") {
                navigator.vibrate(300);
            }
            NumPad.numPasscode++;
            return;
        }

        // Clear
        NumPad.numPasscode = 0;
        NumPad.Clear();
        NumPad.Verify = true;

        // Ajax - Authorization
        if (!AppCache.enableNativeLogin && !AppCache.enableAzure) {
            $.ajaxSetup({
                headers: {
                    "Authorization": auth,
                }
            });
        }

        // Ajax - Language
        $.ajaxSetup({
            headers: {
                "sap-language": sap.n.Shell.getSapLaiso(AppCache.CurrentLanguage)
            }
        });

        // Set ajaxheader - SMP
        if (AppCache.enableSMP) {
            $.ajaxSetup({
                headers: {
                    "X-SMP-APPCID": AppCache.deviceID,
                    "X-SUP-APPCID": AppCache.deviceID
                }
            });
        }

        userData = AppCache.getUserData();

        // TwoFactor
        if (userData && userData.ENABLE_TWOFACTOR === 'X') {
            // debugger;
            if (!userData.TWOFACTOR) {
                AppCache_inTwoFactor.setValue();
                AppCache_errorTwoFactor.setVisible(false);
                AppCache_popTwoFactor.open();
                setTimeout(function() {
                    AppCache_popTwoFactor.rerender();
                }, 800);
                return;
            }
        }

        // Logon Portal
        if (AppCache.enablePortal) {
            AppCache.Auth = auth;
            AppCacheLogonPortal.Relog();
            return;
        }

        // Logon SAML
        if (AppCache.enableSAML) {
            AppCache.Auth = auth;
            AppCacheLogonSAML.Relog();
            return;
        }

        // Logon Azure
        if (AppCache.enableAzure) {
            if (AppCache.enableLogging) {
                console.log("Starting AppCacheLogonAzure.Relog");
            }
            AppCache.Auth = auth;
            AppCacheLogonAzure.Relog(auth, "pin");
            return;
        }

        // Logon OKTA
        if (AppCache.enableOKTA) {
            AppCache.Auth = auth;
            AppCacheLogonOKTA.Relog();
            return;
        }

        // Logon BDC
        if (AppCache.enableBDC) {
            AppCache.Auth = auth;
            AppCacheLogonBDC.Relog();
            return;
        }

        // Logon Custom
        if (AppCache.enableCustomLogin) {
            AppCacheLogonCustom.Relogin(auth);
            return;
        }

        // Logon Native
        if (AppCache.enableNativeLogin) {
            AppCacheLogonNative.Relogin();
            return;
        }

        // Logon using ABAP form
        if (AppCache.enableABAPform) {
            AppCache.Auth = auth;
            AppCacheLogonABAPform.Relog();
            return;
        }

        // Start App
        AppCache.Update();
    }
};
function AppSyncStart(numPackage) {
    var applid = AppCache.CurrentApp.toUpperCase().replace(/\//g, ""); // Format ID
    var dynFunction = "sap.n.Database." + applid + ".Init()";
    eval(dynFunction);
    var dynFunction = "sap.n.Database." + applid + ".Sync(numPackage)";
    eval(dynFunction);
}

function AppSyncAfterUpdate(syncData) {
    var applid = syncData.applid.toUpperCase().replace(/\//g, ""); // Format ID
    var dynFunction = "sap.n.Database." + applid + ".AfterUpdate()";
    eval(dynFunction);
}

function AppSyncBeforeUpdate(syncData) {
    var applid = syncData.applid.toUpperCase().replace(/\//g, ""); // Format ID
    var dynFunction = "sap.n.Database." + applid + ".BeforeUpdate()";
    eval(dynFunction);
}

function AppSyncAjaxSuccess() {
    var applid = AppCache.CurrentApp.toUpperCase().replace(/\//g, ""); // Format ID
    var dynFunction = "sap.n.Database." + applid + ".AjaxSuccess()";
    eval(dynFunction);
}

function AppSyncAjaxError() {
    var applid = AppCache.CurrentApp.toUpperCase().replace(/\//g, ""); // Format ID
    var dynFunction = "sap.n.Database." + applid + ".AjaxError()";
    eval(dynFunction);
}

/**
 * ENHANCEMENT object
 * Implement the the enhancement spots in an enhacement: Cockpit => Run => Enhancements
 * Add the enhancement to a Launchpad or Mobile Client to use the enhancement abd the implemented enhancement spots
 * @object
 */
sap.n.Enhancement = {

    /**
     * ENHANCEMENT: After Startup: Add logic during the start up process
     * @function
     * @param     : params: request params
     */
    appCacheStartUp: function(params) {},

    /**
     * ENHANCEMENT: After Unlock
     * @function
     */
    afterUnlock: function() {},

    /**
     * ENHANCEMENT: Before Update
     * @function
     */
    beforeUpdate: function(deviceType) {
        return "";
    },

    /**
     * ENHANCEMENT: Hash Navigation
     * @function
     * @property  : locationHash  : The hash part of the navigation URL #semantic-action&<URL encoded params>
     * @return    : preventDefault: Prevent default in the calling function
     */
    hashNavigation: function(hash) {
        return false;
    },

    /**
     * ENHANCEMENT: Before Startup
     * @function
     * @return    : preventDefault: Prevent launchpad startup
     */
    beforeStartup: function(hash) {
        return false;
    },

    /**
     * ENHANCEMENT: Launchpad Search
     * @function
     * @param     : config               : Configuration object
     * @property  : config.customFilters : Add customer filters
     * @property  : config.searchValue   : Search value from the UI
     * @property  : config.liveSearch    : Set true if  search should fire on live search, false if search should fire on normal search
     * @property  : config.preventDefault: Prevent default in the calling function
     */
    launchpadSearch: function(config) {},

    /**
     * ENHANCEMENT: User Action Logout
     * @function
     * @param     : config               : Configuration object
     * @property  : config.preventDefault: Prevent default in the calling function, or return true/false
     * @return    : preventDefault       : Prevent launchpad startup, or set config.preventDefault
     * @property  : defaultAction        : Perform default logout action. Call if all custom checks are okay.
     */
    userActionLogout: function(config) {
        return false;
    },

    /**
     * ENHANCEMENT: AppCache User Info
     * @function
     */
    appCacheUserInfo: function() {},

    /**
     * ENHANCEMENT: Clear cookies
     * @function
     * @return    : preventDefault: Prevent launchpad startup
     */
    clearCookies: function() {
        return false;
    }
};
sap.n.Explored = {
    Init: function() {},
    HashNavigation: function() {}
};
sap.n.Client = {
    beforeStartup: function() {
        return false;
    },
    afterUserDefaultRead: function() {
        return false;
    }
};
// Globals
var currNotif;
var isLaunchpadGUI = false;
var enableFavDnD = false;
var navBarTimeout;
var navBarPinned = false;
var navBarClosedJustNow = false;
var statusbarTimer = 0;
var currLayout = {};
AppCacheNav.views = {};

sapNepApp.onAjaxError = function(code, reason, responseText) {
    sap.n.Launchpad.onAjaxError(code, reason, responseText);
};

// Get URL Parameters
var params = {};
if (location.search) {
    var parts = location.search.substring(1).split('&');
    for (var i = 0; i < parts.length; i++) {
        var nv = parts[i].split('=');
        if (!nv[0]) continue;
        params[nv[0]] = nv[1];
    }
}

// Enable SAPGUI
if (params.sapgui) {
    isLaunchpadGUI = true;
}

launchpadOverflow.onAfterRendering = function(e) {
    $("#launchpadOverflow").on("swipeleft", function() {
        sap.n.Launchpad.overflowMenuClose();
    });
};
launchpadSettings.onAfterRendering = function(e) {
    $("#launchpadSettings").on("swiperight", function() {
        sap.n.Launchpad.settingsMenuClose();
    });
};

// Wrapper for OnInit Event
sap.ui.getCore().attachInit(function() {

    jQuery.sap.require("sap.ui.core.format.DateFormat");
    jQuery.sap.require("sap.m.MessageBox");
    jQuery.sap.require("sap.m.MessageToast");

    sap.n.Explored.Init();

    // hideTopMenu should be available at this point
    sap.n.Launchpad.setHideHeader(AppCache.hideTopMenu);

    // Add Check for Opera
    sap.ui.Device.browser.BROWSER.OPERA = "op";
    if (navigator.userAgent.indexOf("Opera") > -1 || navigator.userAgent.indexOf("OPR") > -1) sap.ui.Device.browser.name = "op";

    // Device ID
    AppCache.deviceID = localStorage.getItem("AppCacheID");
    if (!AppCache.deviceID) {
        AppCache.deviceID = AppCache.genID(); // NOT Device UUID
        localStorage.setItem("AppCacheID", AppCache.deviceID);
    }

    setTimeout(function() {

        sap.n.Debug.sort(AppCache_tDebugSortAsc.getText(), AppCache_tDebugSortDec.getText());

        // Mobile/Browser UI Settings
        if (AppCache.isMobile) {

            AppCache.isRestricted = true;

            // PIN Code length
            if (AppCache.enablePasscode) {
                switch (AppCache.passcodeLength) {

                    case 6:
                        Passcode5.setVisible(true);
                        Passcode6.setVisible(true);
                        break;

                    case 8:
                        Passcode5.setVisible(true);
                        Passcode6.setVisible(true);
                        Passcode7.setVisible(true);
                        Passcode8.setVisible(true);
                        break;

                    default:
                        break;
                }
            }

            // Hide username/password
            if (AppCache.enableCertificate) {
                AppCache_inUsername.setVisible(false);
                AppCache_inPassword.setVisible(false);
            }


        } else {
            AppCacheUserActionSettings.setVisible(true);
            AppCacheUserActionSplitView.setVisible(!AppCache.noSplitview);
        }

        // AppStart settings
        if (AppCache.StartApp) {
            AppCacheAppButton.setVisible(false);
        }

        // Phone/Desktop UI Settings
        if (sap.ui.Device.system.phone) {

            openDiaDoc.setVisible(false);
            closePopDoc.setVisible(false);
        }

        // Add Fav Dnd Support
        sap.n.Launchpad.addFavDndSupport();
        sap.n.Launchpad.addSplitviewDndSupport();

        //set open apps button to closed by default
        sap.n.Launchpad.setOpenAppsExpanded();

        // Inizialize the notification framework
        sap.n.Notif.Init();

        AppCacheNotifList.getBinding("items").sort([
            new sap.ui.model.Sorter("DATE", true, false),
            new sap.ui.model.Sorter("TIME", true, false)
        ]);

        sap.ui.Device.resize.attachHandler(function(mParams) {
            if (mParams.width < sap.n.Launchpad.verticalMenuLimit) {
                launchpadContentMenu.setWidth("0px");
                sap.n.Launchpad.setLaunchpadContentWidth();
            }
        });
        launchpadOverflowClickArea.attachBrowserEvent("click", function(e) {
            sap.n.Launchpad.overflowMenuClose();
        });
        launchpadSettingsClickArea.attachBrowserEvent("click", function(e) {
            sap.n.Launchpad.settingsMenuClose();
        });

        toolVerticalMenuFilter.addEventDelegate({
            onfocusin: function(e) {
                sap.n.Launchpad.searchFocus = true;
            }
        });
        toolVerticalMenuFilter.addEventDelegate({
            onfocusout: function(e) {
                sap.n.Launchpad.searchFocus = false;
            }
        });

        diaDiaDoc.oPopup.setModal(false);

        AppCache_inPassword.attachSubmit(function(e) {
            AppCache_butLogon.firePress();
        });

        if (!AppCache.isMobile) AppCacheAppButton.setVisible(true);

        // Check for OffLine
        if (navigator.onLine) {
            onOnline();
        } else {
            onOffline();
        }

        if (sap.ui.Device.system.phone) {
            diaDebugDisplay.setStretch(true);
            diaTraceDisplay.setStretch(true);
            diaFavDnD.setStretch(true);
            diaSettings.setStretch(true);
            diaTimezone.setStretch(true);
            TabTimezone.removeStyleClass("sapUiSizeCompact");
            pageVerticalMenu.removeStyleClass("sapUiSizeCompact");
            AppCacheListMenu.removeStyleClass("sapUiSizeCompact");

            flexLogon.removeStyleClass("nepLogonContainer");
            flexPassword.removeStyleClass("nepLogonContainer");
            flexPasscode.removeStyleClass("nepLogonContainer");
            containerNumpadPanel.removeStyleClass("nepLogonContainer");
            containerAppCacheUsers.removeStyleClass("nepLogonContainer");

            boxLogon.removeStyleClass("nepLogonLayout");
            boxPassword.removeStyleClass("nepLogonLayout");
            boxPasscode.removeStyleClass("nepLogonLayout");
            layoutNumpadPanel.removeStyleClass("nepLogonLayout");
            layoutAppCacheUsers.removeStyleClass("nepLogonLayout");
        }

        // ENHANCEMENT: beforeStartup
        // Implement the beforeStartup enhancement spot in an enhancement: Cockpit => Run => Enhancements
        // Add the enhancement to a Launchpad or Mobile Client to use the enhancement
        var preventDefault = sap.n.Enhancement.beforeStartup();
        if (preventDefault) return;

        // Start AppCache
        (function() {
            function waitForCache() {
                if (sap.n.Phonegap.loaded) {
                    AppCache.Startup();
                } else {
                    setTimeout(waitForCache, 50);
                }
            }
            waitForCache();
        })();

    }, 200);

    // PWA Install
    setTimeout(function() {
        if (neptune.pwa.install) {
            actionPWA.setVisible(true);
        }
    }, 500);

    // Late actions
    setTimeout(function() {
        sap.n.Notif.list();
    }, 2500);
});

// Sorter Function
var sort_by = function(field, reverse, primer) {
    var key = primer ?
        function(x) {
            return primer(x[field]);
        } :
        function(x) {
            return x[field];
        };
    reverse = !reverse ? 1 : -1;
    return function(a, b) {
        return a = key(a), b = key(b), reverse * ((a > b) - (b > a));
    };
};
// Public
window.AppCache = AppCache;
window.AppCacheNav = AppCacheNav;

window.AppCacheTiles = AppCacheTiles;
window.modelAppCacheTiles = modelAppCacheTiles;
window.getCacheAppCacheTiles = getCacheAppCacheTiles;
window.setCacheAppCacheTiles = setCacheAppCacheTiles;

window.AppSyncStart = AppSyncStart;
window.AppSyncAfterUpdate = AppSyncAfterUpdate;
window.AppSyncBeforeUpdate = AppSyncBeforeUpdate;
window.AppSyncAjaxSuccess = AppSyncAjaxSuccess;
window.AppSyncAjaxError = AppSyncAjaxError;

window.onOnline = onOnline;
window.onOffline = onOffline;

txtAppCache_itemUsersDate.bindProperty("text",{parts:["TRDAT","LTIME","UNAME"],formatter: function(TRDAT,LTIME,UNAME){
if (typeof(TRDAT) === "undefined" || TRDAT === null || TRDAT === "") {
    return;
}
if (typeof(LTIME) === "undefined" || LTIME === null || LTIME === "") {
    LTIME = "000000";
}
if (typeof(UNAME) === "undefined" || UNAME === null || UNAME === "") {
    return;
}

var user = ModelData.FindFirst(AppCacheUsers, "UNAME", UNAME);
return neptune.Formatter.getDate(TRDAT, user.DATE_FORMAT) + ' ' + neptune.Formatter.getTime(LTIME, "Medium", user.TIME_FORMAT);

}});
txtAppCacheOutboxOBJECTKEY.bindProperty("text",{parts:["OBJECTKEY"],formatter: function(OBJECTKEY){ 
 if (typeof( OBJECTKEY ) === "undefined" || OBJECTKEY === null) { return; } 
 var stringText = OBJECTKEY.toString();
var formattedText = stringText.replace(/^0+/, '');
return formattedText;
}});
txtAppCacheOutboxCREDAT.bindProperty("text",{parts:["CREDAT"],formatter: function(CREDAT){
if (typeof(CREDAT) === "undefined" || CREDAT === null || CREDAT === "") {
    return;
}
var oDateFormat = sap.ui.core.format.DateFormat.getDateTimeInstance();
return oDateFormat.format(new Date(CREDAT));
}});
txtAppCacheOutboxUPDDAT.bindProperty("text",{parts:["UPDDAT"],formatter: function(UPDDAT){
if (typeof(UPDDAT) === "undefined" || UPDDAT === null || UPDDAT === "") {
    return;
}

var oDateFormat = sap.ui.core.format.DateFormat.getDateTimeInstance();
return oDateFormat.format(new Date(UPDDAT));
}});
oTitleTimestamp.bindProperty("text",{parts:["/UPDDAT"],formatter: function(UPDDAT){
if(!UPDDAT)return;
var formattedText = neptune.Formatter.getDate(UPDDAT);
return formattedText;
}});
oTileImage.bindProperty("src",{parts:["/ICON_DEFAULT"],formatter: function(ICON_DEFAULT){
if (typeof(ICON_DEFAULT) === "undefined" || ICON_DEFAULT === null || ICON_DEFAULT === "") {
    return;
}
return AppCache.UrlBase + ICON_DEFAULT;
}});
iconNotif.bindProperty("state",{parts:["ICON_STATE"],formatter: function(ICON_STATE){
if (ICON_STATE === "Error") {
    this.getParent().getParent().addStyleClass("nepNotificationItemError");
}
else if (ICON_STATE === "Warning") {
    this.getParent().getParent().addStyleClass("nepNotificationItemWarning");
}
else if (ICON_STATE === "Success") {
    this.getParent().getParent().addStyleClass("nepNotificationItemSuccess");
}
return ICON_STATE;
}});
iconNotif.bindProperty("icon",{parts:["ICON"],formatter: function(ICON){
if (typeof(ICON) === "undefined" || ICON === null || ICON === "") {
    return "sap-icon://email";
}
return ICON;
}});
txtNotifListDate.bindProperty("text",{parts:["DATE","TIME"],formatter: function(DATE,TIME){
if (typeof(DATE) === "undefined" || DATE === null || DATE === "") {
    return;
}
if (typeof(TIME) === "undefined" || TIME === null || TIME === "") {
    TIME = "000000";
}

return neptune.Formatter.getDate(DATE) + ' ' + neptune.Formatter.getTime(TIME, "Long");


}});
icoTabDebugDisplayLOG_TYPE.bindProperty("src",{parts:["LOG_TYPE"],formatter: function(LOG_TYPE){
if (typeof(LOG_TYPE) === "undefined" || LOG_TYPE === null || LOG_TYPE === "") {
    return;
}
if (LOG_TYPE === 'E') {
    return 'sap-icon://status-error';
}
else if (LOG_TYPE === 'W'){
    return 'sap-icon://status-critical';
}
return 'sap-icon://status-positive';
}});
icoTabDebugDisplayLOG_TYPE.bindProperty("color",{parts:["LOG_TYPE"],formatter: function(LOG_TYPE){
if (typeof(LOG_TYPE) === "undefined" || LOG_TYPE === null || LOG_TYPE === "") {
    return;
}
if (LOG_TYPE === 'E') {
    return '#bb0000';
}
else if (LOG_TYPE === 'W'){
    return '#e78c07';
}
return '#2b7c2b';
}});
iconTraceDisplay.bindProperty("color",{parts:["/LOG_TYPE"],formatter: function(LOG_TYPE){
if (typeof(LOG_TYPE) === "undefined" || LOG_TYPE === null || LOG_TYPE === "") {
    return;
}
if (LOG_TYPE === 'E') {
    return '#bb0000';
}
else if (LOG_TYPE === 'W'){
    return '#e78c07';
}
return '#2b7c2b';
}});
iconTraceDisplay.bindProperty("src",{parts:["/LOG_TYPE"],formatter: function(LOG_TYPE){
if (typeof(LOG_TYPE) === "undefined" || LOG_TYPE === null || LOG_TYPE === "") {
    return;
}
if (LOG_TYPE === 'E') {
    return 'sap-icon://status-error';
}
else if (LOG_TYPE === 'W'){
    return 'sap-icon://status-critical';
}
return 'sap-icon://status-positive';
}});
itemSplitviewApp.bindProperty("icon",{parts:["TILE_ICON"],formatter: function(TILE_ICON){
if (typeof(TILE_ICON) === "undefined" || TILE_ICON === null || TILE_ICON === "") {
    return "sap-icon://bbyd-dashboard";
}
return TILE_ICON;
}});
icoTabSplitviewListTILE_ICON.bindProperty("src",{parts:["TILE_ICON"],formatter: function(TILE_ICON){
if (typeof(TILE_ICON) === "undefined" || TILE_ICON === null || TILE_ICON === "") {
    return "sap-icon://bbyd-dashboard";
}
return TILE_ICON;
}});

//FUNCTIONS
toolVerticalMenuFilter.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =pageVerticalMenu;
});
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedContentMenu() {

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("ContentMenu");
}modelContentMenu.setData({"children": _convertFlatToNested(modelContentMenu.oData,"ID","PARENT")});
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.ContentMenu = false;
}
function getCacheContentMenu(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_ContentMenu_PM_MOBILE_INT",modelContentMenu,"IDB","","cacheInitLoadFinishedContentMenu",false,false,callback);}
function setCacheContentMenu(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_ContentMenu_PM_MOBILE_INT",modelContentMenu,"IDB",data,false,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCachePageMenu() {

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCachePageMenu");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCachePageMenu = false;
}
function getCacheAppCachePageMenu(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCachePageMenu_PM_MOBILE_INT_" + sapUname,modelAppCachePageMenu,"LS","","cacheInitLoadFinishedAppCachePageMenu",false,false,callback);}
function setCacheAppCachePageMenu(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCachePageMenu_PM_MOBILE_INT_" + sapUname,modelAppCachePageMenu,"LS",data,false,false,successFn,errorFn);}
AppCache_inUsername.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =AppCache_boxLogon;
});
AppCache_inPassword.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =AppCache_boxLogon;
});
AppCache_inPassOld.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =AppCache_boxPassword;
});
AppCache_inPassNew.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =AppCache_boxPassword;
});
AppCache_inPassRepeat.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =AppCache_boxPassword;
});
AppCache_inPasscode1.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =AppCache_boxPasscode;
});
AppCache_inPasscode2.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =AppCache_boxPasscode;
});
AppCache_inCaptcha.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =AppCache_boxCaptcha;
});
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheUsers() {

// Cache Loading
AppCache.cacheLoadedUsers++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheUsers");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheUsers = false;
}
function getCacheAppCacheUsers(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheUsers_PM_MOBILE_INT",modelAppCacheUsers,"LS","","cacheInitLoadFinishedAppCacheUsers",true,true,callback);}
function setCacheAppCacheUsers(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheUsers_PM_MOBILE_INT",modelAppCacheUsers,"LS",data,true,true,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheOutbox() {

// Start at startup if data in Outbox and not in Restricted
if (!AppCache.isRestricted && modelAppCacheOutbox.oData.length) {
    sap.n.Outbox.startScheduler();
}

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheOutbox");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheOutbox = false;
}
function getCacheAppCacheOutbox(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheOutbox_PM_MOBILE_INT",modelAppCacheOutbox,"IDB","","cacheInitLoadFinishedAppCacheOutbox",true,false,callback);}
function setCacheAppCacheOutbox(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheOutbox_PM_MOBILE_INT",modelAppCacheOutbox,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheTilesFav() {

// Cache Loading
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheTilesFav");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheTilesFav = false;
}
function getCacheAppCacheTilesFav(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTilesFav_PM_MOBILE_INT_" + sapUname,modelAppCacheTilesFav,"IDB","","cacheInitLoadFinishedAppCacheTilesFav",true,false,callback);}
function setCacheAppCacheTilesFav(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTilesFav_PM_MOBILE_INT_" + sapUname,modelAppCacheTilesFav,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheSettings() {

// Cache Loading
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheSettings");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheSettings = false;
}
function getCacheAppCacheSettings(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheSettings_PM_MOBILE_INT_" + sapUname,modelAppCacheSettings,"IDB","","cacheInitLoadFinishedAppCacheSettings",false,false,callback);}
function setCacheAppCacheSettings(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheSettings_PM_MOBILE_INT_" + sapUname,modelAppCacheSettings,"IDB",data,false,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheUserDefaults() {

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheUserDefaults");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheUserDefaults = false;
}
function getCacheAppCacheUserDefaults(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheUserDefaults_PM_MOBILE_INT_" + sapUname,modelAppCacheUserDefaults,"IDB","","cacheInitLoadFinishedAppCacheUserDefaults",false,false,callback);}
function setCacheAppCacheUserDefaults(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheUserDefaults_PM_MOBILE_INT_" + sapUname,modelAppCacheUserDefaults,"IDB",data,false,false,successFn,errorFn);}
inAppCacheDefaultsTZONE.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =pageHidden;
});
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheNotifTime() {

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheNotifTime");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheNotifTime = false;
}
function getCacheAppCacheNotifTime(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheNotifTime_PM_MOBILE_INT_" + sapUname,modelAppCacheNotifTime,"LS","","cacheInitLoadFinishedAppCacheNotifTime",false,false,callback);}
function setCacheAppCacheNotifTime(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheNotifTime_PM_MOBILE_INT_" + sapUname,modelAppCacheNotifTime,"LS",data,false,false,successFn,errorFn);}
function getOnlineAppCache_popTwoFactor(value,options) {
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}if (value) value = encodeURIComponent(value);
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=CHECK_TWO_FACTOR&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&sap-client=910&uxp=400&field_id=00190&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
success: function (data) {
modelAppCache_popTwoFactor.setData(data.modelAppCache_popTwoFactorData);
var data = modelAppCache_popTwoFactor.getData();

if (data.TWOFACTOR == 'confirmed') {
    ModelData.UpdateField(AppCacheUsers, "UNAME", AppCache.CurrentUname, "TWOFACTOR", data.TWOFACTOR)
    setCacheAppCacheUsers();
    AppCache_popTwoFactor.close();
    AppCache.Encrypted = '';
    AppCache.Update();

    // Decryption
    if (AppCache.enableEncryption === true && AppCache.enablePasscode === true) {
        AppCache.decryptDB();
    }
} else {
    AppCache_errorTwoFactor.setVisible(true);
}
}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
AppCache_inTwoFactor.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =pageHidden;
});
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheNotifList() {

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheNotifList");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheNotifList = false;
}
function getCacheAppCacheNotifList(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheNotifList_PM_MOBILE_INT_" + sapUname,modelAppCacheNotifList,"IDB","","cacheInitLoadFinishedAppCacheNotifList",true,false,callback);}
function setCacheAppCacheNotifList(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheNotifList_PM_MOBILE_INT_" + sapUname,modelAppCacheNotifList,"IDB",data,true,false,successFn,errorFn);}
inSplitviewCreateTitle.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =pageHidden;
});
inSplitviewCreateDescription.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =pageHidden;
});
inSplitviewListTitle.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =pageHidden;
});
inSplitviewListDescription.attachBrowserEvent("touchstart", function() {
if(!this.getEditable() || !this.getEnabled()) return;
    activeInputField = this;    activeScrollContainer =pageHidden;
});
function getOnlineCSRFToken(value,options) {
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}if (value) value = encodeURIComponent(value);
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=GET_CSRF_TOKEN&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&sap-client=910&uxp=400&field_id=00417&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
success: function (data) {
modelCSRFToken.setData(data.modelCSRFTokenData);
if (modelCSRFToken.oData.TOKEN) {
    var headers = $.ajaxSetup().headers;
    headers[AppCache.CSRFHeader] = modelCSRFToken.oData.TOKEN;
    sap.n.Launchpad.getUserData();
}
}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheUpdate() {

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheUpdate");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheUpdate = false;
}
function getCacheAppCacheUpdate(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheUpdate_PM_MOBILE_INT",modelAppCacheUpdate,"IDB","","cacheInitLoadFinishedAppCacheUpdate",false,false,callback);}
function setCacheAppCacheUpdate(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheUpdate_PM_MOBILE_INT",modelAppCacheUpdate,"IDB",data,false,false,successFn,errorFn);}
function getOnlineAppCacheAppTimestamp(value,options) {
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}if (value) value = encodeURIComponent(value);
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=GET_APP_TIMESTAMP&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&sap-client=910&uxp=400&field_id=00053&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
success: function (data) {
modelAppCacheAppTimestamp.setData(data.modelAppCacheAppTimestampData);
// Update Application Data
modelAppCacheAppTimestamp.oData.LANGUAGE = AppCache.CurrentLanguage;
ModelData.Update(AppCacheData, ["APPLID", "LANGUAGE"], [modelAppCacheAppTimestamp.oData.APPLID, AppCache.CurrentLanguage], modelAppCacheAppTimestamp.oData);
setCacheAppCacheData();
}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheGlobalSettings() {

// Cache Loading
AppCache.cacheLoadedGlobalSettings++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheGlobalSettings");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheGlobalSettings = false;
}
function getCacheAppCacheGlobalSettings(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheGlobalSettings_PM_MOBILE_INT",modelAppCacheGlobalSettings,"IDB","","cacheInitLoadFinishedAppCacheGlobalSettings",false,false,callback);}
function setCacheAppCacheGlobalSettings(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheGlobalSettings_PM_MOBILE_INT",modelAppCacheGlobalSettings,"IDB",data,false,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheImageData() {

// Cache Loading
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheImageData");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheImageData = false;
}
function getCacheAppCacheImageData(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheImageData_PM_MOBILE_INT",modelAppCacheImageData,"IDB","","cacheInitLoadFinishedAppCacheImageData",true,false,callback);}
function setCacheAppCacheImageData(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheImageData_PM_MOBILE_INT",modelAppCacheImageData,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheLayout() {

// Cache Loading
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheLayout");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheLayout = false;
}
function getCacheAppCacheLayout(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheLayout_PM_MOBILE_INT",modelAppCacheLayout,"IDB","","cacheInitLoadFinishedAppCacheLayout",true,false,callback);}
function setCacheAppCacheLayout(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheLayout_PM_MOBILE_INT",modelAppCacheLayout,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheDebugLog() {

// Cache Loading
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheDebugLog");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheDebugLog = false;
}
function getCacheAppCacheDebugLog(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheDebugLog_PM_MOBILE_INT",modelAppCacheDebugLog,"IDB","","cacheInitLoadFinishedAppCacheDebugLog",true,false,callback);}
function setCacheAppCacheDebugLog(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheDebugLog_PM_MOBILE_INT",modelAppCacheDebugLog,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheDebugTrace() {

// Cache Loading
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheDebugTrace");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheDebugTrace = false;
}
function getCacheAppCacheDebugTrace(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheDebugTrace_PM_MOBILE_INT",modelAppCacheDebugTrace,"IDB","","cacheInitLoadFinishedAppCacheDebugTrace",true,false,callback);}
function setCacheAppCacheDebugTrace(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheDebugTrace_PM_MOBILE_INT",modelAppCacheDebugTrace,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheTiles() {

sap.n.Launchpad.cachedTiles = modelAppCacheTiles.oData;
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheTiles");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheTiles = false;
}
function getCacheAppCacheTiles(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTiles_PM_MOBILE_INT_" + sapUname,modelAppCacheTiles,"IDB","","cacheInitLoadFinishedAppCacheTiles",true,false,callback);}
function setCacheAppCacheTiles(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTiles_PM_MOBILE_INT_" + sapUname,modelAppCacheTiles,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheTilesLink() {

sap.n.Launchpad.cachedTilesLink = modelAppCacheTilesLink.oData;
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheTilesLink");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheTilesLink = false;
}
function getCacheAppCacheTilesLink(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTilesLink_PM_MOBILE_INT_" + sapUname,modelAppCacheTilesLink,"IDB","","cacheInitLoadFinishedAppCacheTilesLink",true,false,callback);}
function setCacheAppCacheTilesLink(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTilesLink_PM_MOBILE_INT_" + sapUname,modelAppCacheTilesLink,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheTilesRun() {

// Cache Loading
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheTilesRun");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheTilesRun = false;
}
function getCacheAppCacheTilesRun(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTilesRun_PM_MOBILE_INT_" + sapUname,modelAppCacheTilesRun,"IDB","","cacheInitLoadFinishedAppCacheTilesRun",true,false,callback);}
function setCacheAppCacheTilesRun(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTilesRun_PM_MOBILE_INT_" + sapUname,modelAppCacheTilesRun,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheTileGroup() {

sap.n.Launchpad.cachedTileGroup = modelAppCacheTileGroup.oData;
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheTileGroup");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheTileGroup = false;
}
function getCacheAppCacheTileGroup(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTileGroup_PM_MOBILE_INT_" + sapUname,modelAppCacheTileGroup,"IDB","","cacheInitLoadFinishedAppCacheTileGroup",true,false,callback);}
function setCacheAppCacheTileGroup(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTileGroup_PM_MOBILE_INT_" + sapUname,modelAppCacheTileGroup,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheTileGroupSub() {

sap.n.Launchpad.cachedTileGroupSub = modelAppCacheTileGroupSub.oData;
AppCache.cacheLoaded++;


;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheTileGroupSub");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheTileGroupSub = false;
}
function getCacheAppCacheTileGroupSub(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTileGroupSub_PM_MOBILE_INT_" + sapUname,modelAppCacheTileGroupSub,"IDB","","cacheInitLoadFinishedAppCacheTileGroupSub",true,false,callback);}
function setCacheAppCacheTileGroupSub(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTileGroupSub_PM_MOBILE_INT_" + sapUname,modelAppCacheTileGroupSub,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheTileGroupLink() {

sap.n.Launchpad.cachedTileGroupLink = modelAppCacheTileGroupLink.oData;
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheTileGroupLink");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheTileGroupLink = false;
}
function getCacheAppCacheTileGroupLink(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTileGroupLink_PM_MOBILE_INT_" + sapUname,modelAppCacheTileGroupLink,"IDB","","cacheInitLoadFinishedAppCacheTileGroupLink",true,false,callback);}
function setCacheAppCacheTileGroupLink(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTileGroupLink_PM_MOBILE_INT_" + sapUname,modelAppCacheTileGroupLink,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheData() {

//
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheData");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheData = false;
}
function getCacheAppCacheData(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheData_PM_MOBILE_INT",modelAppCacheData,"IDB","","cacheInitLoadFinishedAppCacheData",true,false,callback);}
function setCacheAppCacheData(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheData_PM_MOBILE_INT",modelAppCacheData,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheTranslation() {

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheTranslation");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheTranslation = false;
}
function getCacheAppCacheTranslation(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTranslation_PM_MOBILE_INT_" + sapUname,modelAppCacheTranslation,"IDB","","cacheInitLoadFinishedAppCacheTranslation",true,false,callback);}
function setCacheAppCacheTranslation(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheTranslation_PM_MOBILE_INT_" + sapUname,modelAppCacheTranslation,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheCustomColorset() {

// Cache Loading
AppCache.cacheLoadedCustomColorset++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheCustomColorset");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheCustomColorset = false;
}
function getCacheAppCacheCustomColorset(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheCustomColorset_PM_MOBILE_INT",modelAppCacheCustomColorset,"IDB","","cacheInitLoadFinishedAppCacheCustomColorset",true,false,callback);}
function setCacheAppCacheCustomColorset(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheCustomColorset_PM_MOBILE_INT",modelAppCacheCustomColorset,"IDB",data,true,false,successFn,errorFn);}
var appGUID = "";
if(sap.n && sap.n.Shell && sap.n.Shell.getAppsObject) {
    appGUID = sap.n.Shell.getAppsObject();
}
function cacheInitLoadFinishedAppCacheUserLayout() {

// Cache Loading
AppCache.cacheLoaded++;

;if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.ready("AppCacheUserLayout");
}
}
if(sap.n && sap.n.Apps[appGUID] && sap.n.Apps[appGUID].cache) {
    sap.n.Apps[appGUID].cache.objects.AppCacheUserLayout = false;
}
function getCacheAppCacheUserLayout(callback) {
_AppCache_GetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheUserLayout_PM_MOBILE_INT_" + sapUname,modelAppCacheUserLayout,"IDB","","cacheInitLoadFinishedAppCacheUserLayout",true,false,callback);}
function setCacheAppCacheUserLayout(data, successFn, errorFn) {
if(typeof data === "function"){errorFn = successFn; successFn = data; data = null;}
_AppCache_SetCache("NEPTUNE_LAUNCHPAD_STANDARD_AppCacheUserLayout_PM_MOBILE_INT_" + sapUname,modelAppCacheUserLayout,"IDB",data,true,false,successFn,errorFn);}
function getOnlineOutbox(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=XXXOUTBOXXXX&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=00444&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelAppCacheOutbox.getJSON()),
success: function (data) {
sap.n.Outbox.handleAjaxSuccess(data);
}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
sap.n.Outbox.handleAjaxError(result,status);
}
});
}
function getOnlineResendCode(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=RESEND_CODE&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=00421&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
success: function (data) {}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineDeleteImage(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=DELETE_USER_IMAGE&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=00420&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
success: function (data) {
sap.n.Launchpad.getUserData();
}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineGetUserData(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=GET_USER_DATA&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=00383&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelAppCacheClientInfo.getJSON()),
success: function (data) {
modelAppCacheCustomColorset.setData(JSONH.unpack(data.modelAppCacheCustomColorsetData || []));
setCacheAppCacheCustomColorset(data.modelAppCacheCustomColorsetData);
modelAppCacheUser.setData(data.modelAppCacheUserData);
modelAppCacheUserLayout.setData(JSONH.unpack(data.modelAppCacheUserLayoutData || []));
setCacheAppCacheUserLayout(data.modelAppCacheUserLayoutData);
modelAppCacheUserDefaults.setData(data.modelAppCacheUserDefaultsData);
setCacheAppCacheUserDefaults(data.modelAppCacheUserDefaultsData);
sap.ui.core.BusyIndicator.hide();

if (AppCache.enableNativeLogin) AppCache.Auth = modelAppCacheUser.oData.UNAME;

// Merge SAP/Client Data
var userData = ModelData.Find(AppCacheUsers, "UNAME", modelAppCacheUser.oData.UNAME)[0];

if (userData) {
    modelAppCacheUser.oData.AUTH = userData.AUTH;
    modelAppCacheUser.oData.SAML_GUID = userData.SAML_GUID;
    modelAppCacheUser.oData.BIOMETRIC = userData.BIOMETRIC;
} else {
    ModelData.Add(AppCacheUsers, modelAppCacheUser.oData);
}

if (AppCache.isMobile) {

    if (AppCacheNav.getCurrentPage().sId === "AppCache_boxPasscode") {

        if (typeof CryptoJS.PBKDF2 !== "undefined") {
            var key = CryptoJS.PBKDF2(AppCache.Passcode, AppCache.deviceID, {
                keySize: 256 / 32,
                iterations: AppCache.PasscodeIter
            });
            var encrypted = CryptoJS.AES.encrypt(AppCache.Auth, key.toString());
        } else {
            var encrypted = CryptoJS.AES.encrypt(AppCache.Auth, AppCache.Passcode);
        }

        // Change the correct record
        modelAppCacheUser.oData.AUTH = encrypted.toString();

        if (AppCache.biometricAuthentication) modelAppCacheUser.oData.BIOMETRIC = true;
        if (AppCache.enableSAML) modelAppCacheUser.oData.SAML_GUID = AppCache_inADFS.getSelectedKey();

        if (AppCache.biometricAuthentication && !AppCache.enablePasscode) sap.n.Fingerprint.savePasscode({
            username: modelAppCacheUser.oData.UNAME,
            password: AppCache_inPassword.getValue(),
            basicAuth: true
        });

        AppCache.setUserInfo(modelAppCacheUser.oData);

        // Navigate
        if (AppCache.enablePasscode) {

            if (AppCache.biometricAuthentication) {
                sap.n.Fingerprint.savePasscode({
                    password: AppCache.Passcode,
                    basicAuth: false
                });
            } else {
                AppCache.setEnablePasscodeEntry();
            }

        } else {
            AppCache.Update();
        }

        // Clear
        AppCache.Passcode = "";
        AppCache.Auth = "";

    } else if (AppCacheNav.getCurrentPage().sId === "AppCache_boxLogon") {
        AppCache.setUserInfo(modelAppCacheUser.oData);
        NumPad.Verify = true;
        AppCache.Update();
    } else {
        AppCache.setUserInfo(modelAppCacheUser.oData);
    }

} else {

    // Set User Info
    AppCache.setUserInfo(modelAppCacheUser.oData);

    // sap.n.Launchpad.getPersonalization();

    // Startup Browser
    modelAppCacheUsers.setData([]);
    AppCache.Update();
}

// Update Users Table
ModelData.Update(AppCacheUsers, "UNAME", modelAppCacheUser.oData.UNAME, modelAppCacheUser.oData);

sap.n.Launchpad.updateNeptuneUserDefault();

// Save User Data
setCacheAppCacheUsers();

getCacheAppCacheSettings();
}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);

// sap.n.Utils.MessageToast(AppCache_tNoUserData.getText(), 6000);

console.error(AppCache_tNoUserData.getText());
AppCache.Logout();
}
});
}
function getOnlineGetMobileClient(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=GET_MOBILE_CLIENT&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=00470&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
success: function (data) {
modelAppCache_boxStore.setData(data.modelAppCache_boxStoreData);
AppCacheNav.to(AppCache_boxStore);
if (AppCache.busyTile) AppCache.busyTile.setBusy(false);

if (modelAppCache_boxStore.oData.INSTALL_URL_IPA) {
    imgiOS.setVisible(true);
} else {
    imgiOS.setVisible(false);
}

if (modelAppCache_boxStore.oData.INSTALL_URL_APK) {
    imgAndroid.setVisible(true);
} else {
    imgAndroid.setVisible(false);
}

if (modelAppCache_boxStore.oData.INSTALL_URL_APPX) {
    imgAPPX.setVisible(true);
} else {
    imgAPPX.setVisible(false);
}
}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);

// sap.n.Utils.MessageToast("Network Not Available...", 6000);
console.error("Network Not Available...");
}
});
}
function getOnlineCheckUpdate(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=GET_MENU_LIST&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=00384&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelAppCacheUpdate.getJSON() + "||" +modelAppCacheClientInfo.getJSON() + "||" +modelAppCacheData.getJSON() + "||" +modelAppCacheImageDataId.getJSON() + "||" +modelTilePreview.getJSON() + "||" +modelTilegroupPreview.getJSON()),
success: function (data) {
modelAppCacheUpdate.setData(data.modelAppCacheUpdateData);
setCacheAppCacheUpdate(data.modelAppCacheUpdateData);
modelAppCacheData.setData(JSONH.unpack(data.modelAppCacheDataData || []));
setCacheAppCacheData(data.modelAppCacheDataData);
modelAppCacheTiles.setData(JSONH.unpack(data.modelAppCacheTilesData || []));
setCacheAppCacheTiles(data.modelAppCacheTilesData);
modelAppCacheTileGroupSub.setData(JSONH.unpack(data.modelAppCacheTileGroupSubData || []));
setCacheAppCacheTileGroupSub(data.modelAppCacheTileGroupSubData);
modelAppCacheTilesLink.setData(JSONH.unpack(data.modelAppCacheTilesLinkData || []));
setCacheAppCacheTilesLink(data.modelAppCacheTilesLinkData);
modelAppCacheTileGroupLink.setData(JSONH.unpack(data.modelAppCacheTileGroupLinkData || []));
setCacheAppCacheTileGroupLink(data.modelAppCacheTileGroupLinkData);
modelAppCacheTilesFav.setData(JSONH.unpack(data.modelAppCacheTilesFavData || []));
setCacheAppCacheTilesFav(data.modelAppCacheTilesFavData);
modelAppCacheCustomColorset.setData(JSONH.unpack(data.modelAppCacheCustomColorsetData || []));
setCacheAppCacheCustomColorset(data.modelAppCacheCustomColorsetData);
modelAppCacheFieldDoc.setData(JSONH.unpack(data.modelAppCacheFieldDocData || []));
modelAppCacheUser.setData(data.modelAppCacheUserData);
modelAppCacheCheck.setData(data.modelAppCacheCheckData);
modelAppCacheLayout.setData(JSONH.unpack(data.modelAppCacheLayoutData || []));
setCacheAppCacheLayout(data.modelAppCacheLayoutData);
modelAppCacheTileGroup.setData(JSONH.unpack(data.modelAppCacheTileGroupData || []));
setCacheAppCacheTileGroup(data.modelAppCacheTileGroupData);
modelAppCacheUserLayout.setData(JSONH.unpack(data.modelAppCacheUserLayoutData || []));
setCacheAppCacheUserLayout(data.modelAppCacheUserLayoutData);
modelAppCacheUserDefaults.setData(data.modelAppCacheUserDefaultsData);
setCacheAppCacheUserDefaults(data.modelAppCacheUserDefaultsData);
modelAppCacheImageDataUpdate.setData(JSONH.unpack(data.modelAppCacheImageDataUpdateData || []));
modelAppCacheGlobalSettings.setData(data.modelAppCacheGlobalSettingsData);
setCacheAppCacheGlobalSettings(data.modelAppCacheGlobalSettingsData);
modelAppCacheSplitView.setData(JSONH.unpack(data.modelAppCacheSplitViewData || []));
modelAppCacheSplitApp.setData(JSONH.unpack(data.modelAppCacheSplitAppData || []));
modelTreeMenu.setData({"children":_convertFlatToNested(data.modelTreeMenuData,"ID","PARENT")});
modelTreeCategory.setData({"children":_convertFlatToNested(data.modelTreeCategoryData,"ID","PARENT")});
if (!modelAppCacheCheck.oData.INSTALLATION) {

    appShell.to(pageError);

    sap.n.Utils.message({ // Installation Check
        title: AppCache_tInstalCheckTitle.getText(), //Installation Check,
        intro: AppCache_tInstalCheckIntro.getText(), //Mising action after upgrade
        text1: AppCache_tInstalCheckText1.getText(), //Please run report /NEPTUNE/INSTALLATION_CHECK! Contact system administrator.
        state: 'Error',
        hideCloseBtn: true
    });
    return;
}
// Handle Update of Apps
AppCache.AfterUpdate();

// Handle Rebuild of Menu
if (!AppCache.StartApp) sap.n.Launchpad.AfterGetTiles();

setTimeout(function() {
    neptune.Splash.hide(true);
}, 200);
}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);

neptune.Splash.hide();

// Ticket: 13560
sap.n.Enhancement.afterUnlock();
}
});
}
function getOnlineSaveFav(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=SAVE_USER_FAV&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=00385&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelAppCacheTilesFav.getJSON()),
success: function (data) {
modelAppCacheTilesFav.setData(JSONH.unpack(data.modelAppCacheTilesFavData || []));
setCacheAppCacheTilesFav(data.modelAppCacheTilesFavData);}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineDocumentationList(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=DOCUMENTATION_LIST&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=00537&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
success: function (data) {
modelDataDocumentation.setData(JSONH.unpack(data.modelDataDocumentationData || []));}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineNotificationDelete(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=NOTIFICATION_DELETE&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=00597&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
success: function (data) {}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineNotificationList(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=GET_NOTIF_LIST&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=01668&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelAppCacheNotifTime.getJSON() + "||" +modelAppCacheNotifDevice.getJSON()),
success: function (data) {
modelAppCacheNotifDelta.setData(JSONH.unpack(data.modelAppCacheNotifDeltaData || []));
modelAppCacheNotifTime.setData(data.modelAppCacheNotifTimeData);
setCacheAppCacheNotifTime(data.modelAppCacheNotifTimeData);
modelAppCacheNotifDevice.setData(JSONH.unpack(data.modelAppCacheNotifDeviceData || []));
// $.each(modelAppCacheNotifDelta.oData, function(i, data) {


// });
var oldData = modelAppCacheNotifList.oData;
var notifData = [];

$.each(oldData, function(i, data) {

    var keep = true;

    $.each(modelAppCacheNotifDevice.oData, function(i, device) {
        if (device.GUID === data.GUID) {
            keep = false;
            return false;
        }
    });
    if (keep) {
        notifData.push(data);
    }
});
$.each(modelAppCacheNotifDelta.oData, function(i, data) {
    notifData.push(data);
});
modelAppCacheNotifList.setData(notifData);

// ModelData.UpdateArray(AppCacheNotifList, "GUID", modelAppCacheNotifDelta.oData);
// setCacheAppCacheNotifList();



// Get App Name
$.each(modelAppCacheNotifList.oData, function(i, data) {
    var app = ModelData.Find(AppCacheTiles, "APPLID", data.APPLID)[0];
    if (app) {
        data.APPLID_S = app.TILE_TITLE + ' - ' + app.TILE_INFO;
    }
});

// sap.n.Notif.list();

// Refresh Notification Client
if (sap.n.Notif.Refresh) {
    sap.n.Notif.Refresh();
}

// Update Tile Info
if (sap.n.Launchpad && AppCache.NotifApp) {
    sap.n.Launchpad.UpdateTileInfo({
        APPLID: AppCache.NotifApp,
        TILE_NUMBER: modelAppCacheNotifList.oData.length
    });
}

// show icon for cached items
sap.n.Notif.setIcon();

sap.n.Notif.notify();



}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineNotificationNotified(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=NOTIFICATION_NOTIFIED&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=01669&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
success: function (data) {}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineDebugUpdate(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=DEBUG_UPDATE&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=00657&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelAppCacheDebugLog.getJSON() + "||" +modelAppCacheDebugTrace.getJSON()),
success: function (data) {
modelAppCacheDebugLog.setData(JSONH.unpack(data.modelAppCacheDebugLogData || []));
setCacheAppCacheDebugLog(data.modelAppCacheDebugLogData);
modelAppCacheDebugTrace.setData(JSONH.unpack(data.modelAppCacheDebugTraceData || []));
setCacheAppCacheDebugTrace(data.modelAppCacheDebugTraceData);
sap.ui.core.BusyIndicator.hide();
}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
sap.ui.core.BusyIndicator.hide();
}
});
}
function getOnlineUserDefaultRead(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=USER_DEFAULT_READ&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=01161&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
success: function (data) {
modelAppCacheUserDefaults.setData(data.modelAppCacheUserDefaultsData);
setCacheAppCacheUserDefaults(data.modelAppCacheUserDefaultsData);
modelTabTimezone.setData(JSONH.unpack(data.modelTabTimezoneData || []));
var datainAppCacheDefaultsSPRAS = data.modelinAppCacheDefaultsSPRASData;
inAppCacheDefaultsSPRAS.destroyItems();
$.each(datainAppCacheDefaultsSPRAS, function (i, elem) {
inAppCacheDefaultsSPRAS.addItem(new sap.ui.core.Item({key: elem.Key, text: elem.Text}));
});
sap.ui.core.BusyIndicator.hide();

var preventDefault = sap.n.Client.afterUserDefaultRead();
if (preventDefault) return;

modelAppCacheUserDefaults.oData.EDIT = true;
modelAppCacheUserDefaults.refresh();
}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);

sap.ui.core.BusyIndicator.hide();
modelMsgList.setData([{
    TYPE: "E",
    MESSAGE: AppCache_tNoConnection.getText()
}]);
sap.n.Utils.displayMessages(messageUserDefault);

modelAppCacheUserDefaults.oData.EDIT = false;
modelAppCacheUserDefaults.refresh();
}
});
}
function getOnlineUserDefaultUpdate(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=USER_DEFAULT_UPDATE&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=01109&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelAppCacheUserDefaults.getJSON()),
success: function (data) {
modelMsgList.setData(JSONH.unpack(data.modelMsgListData || []));
modelMsgObj.setData(data.modelMsgObjData);}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineUserSettingRead(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=USER_SETTING_READ&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=01183&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelUserSetting.getJSON()),
success: function (data) {
modelUserSetting.setData(data.modelUserSettingData);}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineUserSettingUpdate(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=USER_SETTING_UPDATE&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=01185&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelUserSetting.getJSON()),
success: function (data) {}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineSplitviewCreate(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=SPLITVIEW_CREATE&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=01297&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelSplitViewObj.getJSON()),
success: function (data) {}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineSplitviewUpdate(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=SPLITVIEW_UPDATE&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=01309&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelAppCacheSplitApp.getJSON() + "||" +modelSplitViewObj.getJSON()),
success: function (data) {}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}
function getOnlineSplitviewDelete(value,options) {
if (value) value = encodeURIComponent(value);
var rfcdest = "";if (options){if (options.rfcdest){rfcdest = options.rfcdest}}
return $.ajax({
type: "POST",
contentType: "application/json",
url: "https://wdrsb.jnj.com/neptune/native/neptune_launchpad_standard?ajax_id=SPLITVIEW_DELETE&sap-client=910&ajax_applid=NEPTUNE_LAUNCHPAD_STANDARD&uxp=400&field_id=01310&rfcdest=" + rfcdest + "&ajax_value=" + value + "",
dataType: "json",
data: encodeURIComponent(modelSplitViewObj.getJSON()),
success: function (data) {}
,error: function(result,status,errorThrown) {
sapNepApp.onAjaxError(result.status, result.statusText, result.responseText);
}
});
}

var AppStorage={deviceID:"",Startup:function(){AppStorage.deviceID=localStorage.getItem("AppCacheID"),AppStorage.deviceID||(AppStorage.deviceID=ModelData.genID(),localStorage.setItem("AppCacheID",AppStorage.deviceID))}};AppStorage.Startup();var p8Database=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,p8Views,p8Models;function _AppCache_Cache_Fallback(){_AppCache_GetCache_IDB=_AppCache_GetCache_LS,_AppCache_SetCache_IDB=_AppCache_SetCache_LS,p8Database=null}function _AppCache_GetCache(e,o,t,n,a,r,p,c){if("DB"===t){if(window.openDatabase)return void _AppCache_GetCache_DB(e,o,n,a,r,p);if(p8Database)return void _AppCache_GetCache_IDB(e,o,n,a,r,p,c)}p8Database&&"IDB"===t?_AppCache_GetCache_IDB(e,o,n,a,r,p,c):_AppCache_GetCache_LS(e,o,n,a,r,p)}function _AppCache_SetCache(e,o,t,n,a,r,p,c){if("DB"===t){if(window.openDatabase)return void _AppCache_SetCache_DB(e,o,n,a,r);if(p8Database)return void _AppCache_SetCache_IDB(e,o,n,a,r,p,c)}p8Database&&"IDB"===t?_AppCache_SetCache_IDB(e,o,n,a,r,p,c):_AppCache_SetCache_LS(e,o,n,a,r)}function _AppCache_GetCache_LS(id,model,online,event,jsonh,encryption){$.sap.require("jquery.sap.storage");var lStorage=$.sap.storage(jQuery.sap.storage.Type.local),modelJSON=lStorage.get(id),modelData,decrypted,modelJSON;if(online&&!modelJSON&&eval(online)(),modelJSON){if(encryption)0!==modelJSON.indexOf("[")&&0!==modelJSON.indexOf("{")&&(decrypted=CryptoJS.AES.decrypt(modelJSON,AppStorage.deviceID),modelJSON=decrypted.toString(CryptoJS.enc.Utf8));else if("string"==typeof modelJSON&&0!==modelJSON.indexOf("[")&&0!==modelJSON.indexOf("{"))return;modelData=jsonh?"string"==typeof modelJSON?JSONH.unpack(JSON.parse(modelJSON)):modelJSON:"string"==typeof modelJSON?JSON.parse(modelJSON):modelJSON,model.setData(modelData),"function"==typeof eval(event)&&eval(event)()}else"function"==typeof eval(event)&&eval(event)()}function _AppCache_SetCache_LS(e,o,t,n,a){$.sap.require("jquery.sap.storage");var r,p=$.sap.storage(jQuery.sap.storage.Type.local);r=t?JSON.stringify(t):n?JSON.stringify(JSONH.pack(o.oData)):o.oData,a&&(r=CryptoJS.AES.encrypt(r,AppStorage.deviceID).toString()),p.remove(e),p.put(e,r)}function _AppCache_GetCache_DB(id,model,online,event,jsonh,encryption){if("undefined"==typeof AppDB&&window.openDatabase)try{AppDB=void 0===window.sqlitePlugin?window.openDatabase("AppCache","1.0","AppCache",5e7):window.sqlitePlugin.openDatabase({name:"AppCache",location:2}),AppDB.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS model (KEY VARCHAR PRIMARY KEY, VALUE VARCHAR)")})}catch(e){return void console.error("Error: Unable to open database "+e)}try{AppDB.transaction(function(tx){tx.executeSql("SELECT * FROM model WHERE KEY=?",[id],function(tx,results){for(var i=0;i<results.rows.length;i++){var modelJSON=results.rows.item(i).VALUE,modelData,decrypted,modelJSON;if(encryption)0!==modelJSON.indexOf("[")&&0!==modelJSON.indexOf("{")&&(decrypted=CryptoJS.AES.decrypt(modelJSON,AppStorage.deviceID),modelJSON=decrypted.toString(CryptoJS.enc.Utf8));else if("string"==typeof modelJSON&&0!==modelJSON.indexOf("[")&&0!==modelJSON.indexOf("{"))return;modelData=jsonh?"string"==typeof modelJSON?JSONH.unpack(JSON.parse(modelJSON)):modelJSON:JSON.parse(modelJSON),model.setData(modelData),"function"==typeof eval(event)&&eval(event)()}0===results.rows.length&&"function"==typeof eval(event)&&eval(event)(),online&&!model.getData().length&&eval(online)()},null)})}catch(e){return void console.error("Error processing SQL: "+e.message)}}function _AppCache_SetCache_DB(o,e,t,n,a){var r;if("undefined"==typeof AppDB&&window.openDatabase)try{AppDB=void 0===window.sqlitePlugin?window.openDatabase("AppCache","1.0","AppCache",5e7):window.sqlitePlugin.openDatabase({name:"AppCache",location:2}),AppDB.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS model (KEY VARCHAR PRIMARY KEY, VALUE VARCHAR)")})}catch(e){return void console.log("Error: Unable to open database "+e)}r=t?JSON.stringify(t):n?JSON.stringify(JSONH.pack(e.oData)):e.getJSON(),a&&(r=CryptoJS.AES.encrypt(r,AppStorage.deviceID).toString());try{AppDB.transaction(function(e){e.executeSql("INSERT OR REPLACE INTO model (KEY,VALUE) VALUES (?,?)",[o,r])})}catch(e){return void console.error("Error processing SQL: "+e.message)}}function _AppCache_GetCache_IDB(id,model,online,event,jsonh,encryption,callback){!function(){var tries=0;function check(){p8Models.isOpen?p8GetModel(id).then(function(value){var modelJSON=value,modelData,decrypted,modelJSON;if(encryption)0!==modelJSON.indexOf("[")&&0!==modelJSON.indexOf("{")&&(decrypted=CryptoJS.AES.decrypt(modelJSON,AppStorage.deviceID),modelJSON=decrypted.toString(CryptoJS.enc.Utf8));else if("string"==typeof modelJSON&&0!==modelJSON.indexOf("[")&&0!==modelJSON.indexOf("{"))return;modelData=jsonh?"string"==typeof modelJSON?JSONH.unpack(JSON.parse(modelJSON)):modelJSON:JSON.parse(modelJSON),model.setData(modelData),"function"==typeof callback&&callback(),"function"==typeof eval(event)&&eval(event)(),online&&!model.oData.length&&eval(online)()}):(tries++,tries<100?setTimeout(check,50):_AppCache_Cache_Fallback())}check()}()}function _AppCache_SetCache_IDB(o,e,t,n,a,r,p){var c,i;c=t?JSON.stringify(t):n?JSON.stringify(JSONH.pack(e.oData)):e.getJSON(),a&&(c=CryptoJS.AES.encrypt(c,AppStorage.deviceID).toString()),i=0,function e(){p8Models.isOpen?p8SaveModel(o,c,r,p):++i<100?setTimeout(e,50):_AppCache_Cache_Fallback()}()}function p8SaveModel(o,e,t,n){var a=p8Models.result.transaction("model","readwrite").objectStore("model").put({key:o,value:e});a.onsuccess=function(e){"function"==typeof t&&t(e)},a.onerror=function(e){console.error("IndexedDB Error (p8SaveModel) Key "+o+a.error),"function"==typeof n&&n(e)}}function p8GetModel(n){return new Promise(function(o,e){var t=p8Models.result.transaction("model","readonly").objectStore("model").get(n);t.onsuccess=function(){t.result?o(t.result.value||"{}"):o("{}")},t.onerror=function(e){console.error("IndexedDB Error (p8GetModel) Key "+n+t.error),o("{}")}})}function p8SaveView(o,e){var t=p8Views.result.transaction("view","readwrite").objectStore("view").put({key:o,value:e});t.onerror=function(e){console.error("IndexedDB Error (p8SaveView) Key "+o+t.error)}}function p8GetView(n){return new Promise(function(o,e){var t=p8Views.result.transaction("view","readonly").objectStore("view").get(n);t.onsuccess=function(e){t.result?o(t.result.value||"{}"):o("{}")},t.onerror=function(e){console.error("IndexedDB Error (p8GetView) Key "+n+t.error),o("{}")}})}null==p8Database?(console.log("Models IndexedDB could not be opened. Using localStorage as Fallback"),_AppCache_Cache_Fallback()):(void 0===p8Views&&(p8Views=p8Database.open("p8View",1),p8Views.isOpen=!1),void 0===p8Models&&(p8Models=p8Database.open("p8Model",1),p8Models.isOpen=!1),p8Views.onupgradeneeded=function(e){e.target.result.createObjectStore("view",{keyPath:"key"})},p8Models.onupgradeneeded=function(e){e.target.result.createObjectStore("model",{keyPath:"key"})},p8Views.onsuccess=function(e){p8Views.isOpen=!0},p8Models.onsuccess=function(e){p8Models.isOpen=!0},p8Views.onerror=function(e){console.log("Views IndexedDB could not be opened. Using localStorage as Fallback"),_AppCache_Cache_Fallback()},p8Models.onerror=function(e){console.log("Models IndexedDB could not be opened. Using localStorage as Fallback"),_AppCache_Cache_Fallback()});
//INIT
topShell.addStyleClass("nepLaunchpadShell nepPage");
pageShell.addStyleClass("nepPage");
launchpadContainer.addStyleClass("nepLaunchpadContainer");
actionPWA.addStyleClass("nepTopMenu");
actionPWA.addStyleClass("sapUiNoContentPadding");
toolPWATitle.addStyleClass("sapUiTinyMarginEnd");
toolPWAInstall.addStyleClass("sapUiTinyMarginEnd");
toolPWANotNow.addStyleClass("sapUiTinyMarginEnd");
topMenu.addStyleClass("nepTopMenu");
topMenu.addStyleClass("sapUiNoContentPadding");
toolTopMenu.addStyleClass("nepTopMenuContent");
layoutShellBoxOverflow.addStyleClass("sapUiTinyMarginBegin");
boxShellLogoDesktop.addStyleClass("nepTopMenuIconContainerDesktop");
boxShellLogoDesktop.addStyleClass("sapUiHideOnPhone");
AppCacheShellLogoDesktop.addStyleClass("nepTopMenuIcon nepTopMenuIconDesktop");
boxShellLogoMobile.addStyleClass("nepTopMenuIconContainerMobile");
boxShellLogoMobile.addStyleClass("sapUiVisibleOnlyOnPhone");
AppCacheShellLogoMobile.addStyleClass("nepTopMenuIcon nepTopMenuIconMobile");
AppCacheShellTitle.addStyleClass("nepMobileTitle");
AppCacheShellTitle.addStyleClass("sapUiSmallMarginBegin");
AppCacheAppButton.addStyleClass("nepTopGroups");
AppCacheAppButton.addStyleClass("sapUiHideOnPhone");
AppCacheShellAppTitle.addStyleClass("sapUiHideOnPhone");
AppCacheShellOpenApps.addStyleClass("nepShellOpenApps");
AppCacheShellOpenApps.addStyleClass("sapUiHideOnPhone");
AppCacheShellDebugError.addStyleClass("nepDebugBtn nepDebugBtnError");
AppCacheShellDebugWarning.addStyleClass("nepDebugBtn nepDebugBtnWarning");
AppCacheShellDebugInfo.addStyleClass("nepDebugBtn nepDebugBtnInfo");
AppCacheShellNotif.addStyleClass("nepNotificationButton");
AppCacheShellUser.addStyleClass("sapUiSmallMarginEnd");
AppCacheShellUser.addStyleClass("nepUserButton");
launchpadContent.addStyleClass("nepLaunchpadContent");
launchpadContentMenu.addStyleClass("nepLaunchpadContentMenu");
pageVerticalMenu.addStyleClass("nepMainBar nepMultiMenu");
pageVerticalMenu.addStyleClass("sapUiSizeCompact");
toolVerticalMenu.addStyleClass("sapUiSizeCompact");
subHeaderVerticalMenu.addStyleClass("nepMainBarSubHeader");
toolVerticalMenuSub.addStyleClass("sapUiSizeCompact");
openAppMaster.addStyleClass("nepOpenAppsBtn nepOpenAppsBtnMaster");
ContentMenu.addStyleClass("nepTreeCategory");
launchpadContentNavigator.addStyleClass("nepLaunchpadContentNavigator");
navBar.addStyleClass("sapUiSizeCompact");
navBarContent.addStyleClass("nepNavBarContent");
blockRunning.addStyleClass("nepNavBarLayout");
blockRunningRow.addStyleClass("nepContainerOpenApps");
containerPinOpenApps.addStyleClass("containerOpenApps");
layoutPinOpenApps.addStyleClass("nepPinOpenApps");
launchpadContentMain.addStyleClass("nepLaunchpadContentMain");
AppCacheShellUI.addStyleClass("nepShell nepLaunchpadShell");
AppCacheNav.addStyleClass("nepNavContainer");
AppCachePageMenu.addStyleClass("nepPage");
AppCache_boxURL.addStyleClass("nepPage");
AppCache_boxLogon.addStyleClass("nepPage");
messageLogon.addStyleClass("sapUiSmallMargin");
flexLogon.addStyleClass("nepLogonContainer");
boxLogon.addStyleClass("nepLogonLayout nepLogonLayoutBtn");
AppCache_lblUsername.addStyleClass("nepMobileLabel");
AppCache_lblPassword.addStyleClass("nepMobileLabel");
AppCache_lblLanguage.addStyleClass("nepMobileLabel");
AppCache_butLogon.addStyleClass("nepMobileButton");
AppCache_introMsg.addStyleClass("nepMobileLabel");
AppCache_resetPassword.addStyleClass("neptuneLinkWhite");
AppCache_boxPassword.addStyleClass("nepPage");
messagePassword.addStyleClass("sapUiSmallMargin");
flexPassword.addStyleClass("nepLogonContainer");
boxPassword.addStyleClass("nepLogonLayout nepLogonLayoutBtn");
AppCache_lblPassOld.addStyleClass("nepMobileLabel");
AppCache_lblPassNew.addStyleClass("nepMobileLabel");
AppCache_lblPassRepeat.addStyleClass("nepMobileLabel");
AppCache_butPassword.addStyleClass("nepMobileButton");
AppCache_boxPasscode.addStyleClass("nepPage");
messagePasscode.addStyleClass("sapUiSmallMargin");
flexPasscode.addStyleClass("nepLogonContainer");
boxPasscode.addStyleClass("nepLogonLayout nepLogonLayoutBtn");
AppCache_lblPasscode1.addStyleClass("nepMobileLabel");
AppCache_lblPasscode2.addStyleClass("nepMobileLabel");
AppCache_butPasscode.addStyleClass("nepMobileButton");
AppCache_boxPasscodeEntry.addStyleClass("nepPage");
containerNumpadPanel.addStyleClass("nepLogonContainer");
layoutNumpadPanel.addStyleClass("nepLogonLayout nepLogonLayoutBtn");
boxNumpadPanel.addStyleClass("nepNumpadPanel");
boxNumpadPanel.addStyleClass("sapUiNoContentPadding");
butNumpad1.addStyleClass("numPad");
butNumpad2.addStyleClass("numPad");
butNumpad3.addStyleClass("numPad");
butNumpad4.addStyleClass("numPad");
butNumpad5.addStyleClass("numPad");
butNumpad6.addStyleClass("numPad");
butNumpad7.addStyleClass("numPad");
butNumpad8.addStyleClass("numPad");
butNumpad9.addStyleClass("numPad");
butNumpadClear.addStyleClass("numPad");
butNumpad0.addStyleClass("numPad");
butNumpadLogin.addStyleClass("numPad");
AppCache_boxCaptcha.addStyleClass("nepPage");
messageCaptcha.addStyleClass("sapUiSmallMargin");
AppCache_lblCaptcha.addStyleClass("nepMobileLabel");
AppCache_boxUsers.addStyleClass("nepPage");
containerAppCacheUsers.addStyleClass("nepLogonContainer");
layoutAppCacheUsers.addStyleClass("nepAppCacheUser nepLogonLayout nepLogonLayoutBtn");
containerAppCache_itemUsers.addStyleClass("sapUiTinyMarginBottom");
layoutAppCache_itemUsersTxt.addStyleClass("nepSelectUser");
txtAppCache_itemUsersDate.addStyleClass("nepNotifDate");
btnAppCache_itemUsers.addStyleClass("nepSelectUserBtn");
btnAppCache_itemUsers.addStyleClass("sapUiTinyMarginBegin");
butAddUser.addStyleClass("nepMobileButton nepSelectUserBtn");
AppCacheOutbox.addStyleClass("sapUiSizeCompact");
AppCache_boxStore.addStyleClass("nepPage");
oFlexBox.addStyleClass("nepClientInstall");
oTileGrid.addStyleClass("nepClientInstallContainer");
oVBox1.addStyleClass("nepClientInstallLayout");
oTileLogos.addStyleClass("sapUiMediumMarginTop");
oTileImageData.addStyleClass("nepClientInstallContainer");
oVBox3.addStyleClass("nepClientInstallLayout");
oTileImage.addStyleClass("nepAppIcon");
launchpadContentSideApp.addStyleClass("nepLaunchpadContentSideApp");
AppCachePageSideApp.addStyleClass("nepDocPage");
AppCachePageSideTab.addStyleClass("nepSideAppTab");
launchpadOverflowContainer.addStyleClass("nepLaunchpadOverflowContainer");
launchpadOverflow.addStyleClass("nepLaunchpadMenuOverflow");
launchpadOverflowHeader.addStyleClass("nepTopMenu");
launchpadOverflowHeader.addStyleClass("sapUiNoContentPadding");
launchpadOverflowHeaderHBox.addStyleClass("nepTopMenuContent");
launchpadOverflowHeaderVBox.addStyleClass("sapUiTinyMarginBegin");
launchpadOverflowClickArea.addStyleClass("nepLaunchpadOverflowClickArea");
launchpadSettingsContainer.addStyleClass("nepLaunchpadSettingsContainer");
launchpadSettings.addStyleClass("nepLaunchpadMenuSettings");
launchpadSettingsHeader.addStyleClass("nepTopMenu");
launchpadSettingsHeader.addStyleClass("sapUiNoContentPadding");
launchpadSettingsHeaderHBox.addStyleClass("nepTopMenuContent");
AppCacheUserActionText.addStyleClass("nepUserActionText");
launchpadSettingsBtn.addStyleClass("nepUserButton");
launchpadSettingsBtn.addStyleClass("sapUiSmallMarginEnd");
AppCacheListMenu.addStyleClass("sapUiSizeCompact");
AppCacheListMenu.addStyleClass("nepListMenu");
AppCacheUserActionSplitView.addStyleClass("sapUiHideOnPhone");
launchpadSettingsClickArea.addStyleClass("nepLaunchpadSettingsClickArea");
pageError.addStyleClass("nepInit");
popSupportedBrowsers.addStyleClass("nepPopover");
diaFavDnD.addStyleClass("sapUiNoContentPadding");
diaFavDnD.addStyleClass("sapUiNoMargin");
diaFavDnD.addStyleClass("nepSettings nepDialogWithObjHeader");
closeTilesFav.addStyleClass("nepCloseBtn");
AppCacheTilesFav.addStyleClass("sapUiSizeCompact");
colAppCacheTilesFavTILE_INFO.setStyleClass("sapUiHideOnPhone");
btnAppCacheTilesFavUp.addStyleClass("sapUiTinyMarginEnd");
AppCacheUserDialog.addStyleClass("neptunePop");
diaSettings.addStyleClass("nepSettings nepDialogWithObjHeader");
diaSettings.addStyleClass("sapUiNoMargin");
diaSettings.addStyleClass("sapUiNoContentPadding");
txtAppCacheDiaSettings.addStyleClass("nepTransparent");
closeAppCacheDiaSettings.addStyleClass("nepCloseBtn");
AppCache_popTwoFactor.addStyleClass("NeptuneTop");
popPopDoc.addStyleClass("nepDocPopSimple nepPopover");
iconPopDoc.addStyleClass("sapUiSmallMarginBegin");
panPopDoc.addStyleClass("nepPanel");
panPopDoc.addStyleClass("sapUiContentPadding");
diaDiaDoc.addStyleClass("sapUiSizeCompact");
diaDiaDoc.addStyleClass("nepDialogWithObjHeader");
diaDiaDoc.addStyleClass("sapUiNoMargin");
diaDiaDoc.addStyleClass("sapUiNoContentPadding");
closeDiaDoc.addStyleClass("nepCloseBtn");
panDiaDoc.addStyleClass("nepPanel");
panDiaDoc.addStyleClass("sapUiContentPadding");
popNotif.addStyleClass("nepDocPopSimple nepPopNotif nepPopover");
toolNotif.addStyleClass("sapUiSizeCompact");
txtNotif.addStyleClass("nepPopSimpleTitle");
txtNotif.addStyleClass("sapUiTinyMarginBegin");
btnNotifClearAll.addStyleClass("sapUiTinyMarginEnd");
AppCacheNotifList.addStyleClass("nepNotificationList");
itemAppCacheNotifList.addStyleClass("nepNotificationItem");
imgNotif.addStyleClass("nepNotificationImage");
layoutNotifListText.addStyleClass("sapUiTinyMarginTopBottom");
boxNotifListText.addStyleClass("sapUiSmallMarginEnd");
txtNotifListHeader.addStyleClass("nepNotifHeader");
txtNotifListText.addStyleClass("nepNotifText");
txtNotifListDate.addStyleClass("nepNotifDate");
diaDebugDisplay.addStyleClass("sapUiSizeCompact");
diaDebugDisplay.addStyleClass("nepDialogWithObjHeader");
diaDebugDisplay.addStyleClass("sapUiNoMargin");
diaDebugDisplay.addStyleClass("sapUiNoContentPadding");
closeDebugDisplay.addStyleClass("nepCloseBtn");
contDebugDisplay.addStyleClass("sapUiTinyMarginTop");
layoutDebugDisplayMsg.addStyleClass("nepTxtNoWrap");
txtTabDebugDisplayLOG_TRACE.addStyleClass("nepTxtStackTrace");
diaTraceDisplay.addStyleClass("sapUiSizeCompact");
diaTraceDisplay.addStyleClass("nepDialogWithObjHeader");
diaTraceDisplay.addStyleClass("sapUiNoMargin");
diaTraceDisplay.addStyleClass("sapUiNoContentPadding");
closeTraceDisplay.addStyleClass("nepCloseBtn");
oVBox5.addStyleClass("sapUiTinyMargin");
oVBox6.addStyleClass("sapUiLargeMarginBottom");
TabTraceDisplay.addStyleClass("nepStackTrace");
contTraceDisplay.addStyleClass("sapUiTinyMarginTop");
diaTimezone.addStyleClass("sapUiNoContentPadding");
diaTimezone.addStyleClass("sapUiNoMargin");
diaTimezone.addStyleClass("nepDialogWithObjHeader");
closeTimezone.addStyleClass("nepCloseBtn");
TabTimezone.addStyleClass("sapUiSizeCompact");
colTabTimezoneDSTRULE_DESCRIPT.setStyleClass("sapUiHideOnPhone");
diaSplitviewCreate.addStyleClass("sapUiNoContentPadding");
diaSplitviewCreate.addStyleClass("sapUiNoMargin");
diaSplitviewCreate.addStyleClass("nepDialogWithObjHeader");
closeSplitviewCreate.addStyleClass("nepCloseBtn");
rbgSplitviewCreateOrientation.addStyleClass("nepRadioBtnGrp");
lblSplitviewCreateFullscreen.addStyleClass("nepEmptyLabel");
lblSplitviewCreateSave.addStyleClass("nepEmptyLabel");
diaSplitviewApp.addStyleClass("sapUiNoContentPadding");
diaSplitviewApp.addStyleClass("sapUiNoMargin");
diaSplitviewApp.addStyleClass("nepDialogWithObjHeader");
closeSplitviewApp.addStyleClass("nepCloseBtn");
diaSplitviewList.addStyleClass("sapUiNoContentPadding");
diaSplitviewList.addStyleClass("sapUiNoMargin");
diaSplitviewList.addStyleClass("nepDialogWithObjHeader");
closeSplitviewList.addStyleClass("nepCloseBtn");
lblSplitviewListFullscreen.addStyleClass("nepEmptyLabel");
lblSplitviewListSave.addStyleClass("nepEmptyLabel");
sap.ui.getCore().attachInit(function() {
    setTimeout(function(){
topShell.placeAt("MobileContent");
        sap.ui.core.BusyIndicator.hide();
    },150);
});

getCacheContentMenu();
getCacheAppCacheOutbox();
getCacheAppCacheUserDefaults();
getCacheAppCacheNotifList();
getCacheAppCacheUpdate();
jQuery(function() { jQuery("form").submit(function(event) { event.preventDefault(); return false; }); })

AppCache.defaultTheme = "sap_belize";
AppCache.baseTheme = "sap_belize";
AppCache.themeBrightness = "Light";
AppCache.passUrlReset = "https://sappasswordreset.jnj.com/";
AppCache.enablePasscode = true;
AppCache.passcodeLength =6;
AppCache.timerLock = "";
AppCache.PasscodeIter =10;
AppCache.availLanguages ={"de":[{"SPRAS":"D","LAISO":"DE","SPTXT":"Deutsch"},{"SPRAS":"E","LAISO":"EN","SPTXT":"Englisch"}],"en":[{"SPRAS":"E","LAISO":"EN","SPTXT":"English"},{"SPRAS":"D","LAISO":"DE","SPTXT":"German"}]};
AppCache.translation ={"de":[{"FIELD_NAME":"AppCacheButDeleteIMG","ATTRIBUTE":"text","FIELD_LABEL":"Lschen"},{"FIELD_NAME":"AppCacheButDeleteRUN","ATTRIBUTE":"text","FIELD_LABEL":"Lschen"},{"FIELD_NAME":"AppCacheDiaDoc","ATTRIBUTE":"title","FIELD_LABEL":"Hilfe & Tipps"},{"FIELD_NAME":"AppCacheDiaDocClose","ATTRIBUTE":"text","FIELD_LABEL":"Schlieen"},{"FIELD_NAME":"AppCacheDiaHash","ATTRIBUTE":"title","FIELD_LABEL":"Fehler"},{"FIELD_NAME":"AppCacheDiaHashClose","ATTRIBUTE":"text","FIELD_LABEL":"OK"},{"FIELD_NAME":"AppCacheDiaHashText","ATTRIBUTE":"text","FIELD_LABEL":"App konnte nicht gestartet werden."},{"FIELD_NAME":"AppCacheOutboxSend","ATTRIBUTE":"text","FIELD_LABEL":"Senden"},{"FIELD_NAME":"AppCachePageStoreInstall","ATTRIBUTE":"text","FIELD_LABEL":"Installieren"},{"FIELD_NAME":"AppCacheShellDebugError","ATTRIBUTE":"text","FIELD_LABEL":"0"},{"FIELD_NAME":"AppCacheShellDebugInfo","ATTRIBUTE":"text","FIELD_LABEL":"0"},{"FIELD_NAME":"AppCacheShellDebugWarning","ATTRIBUTE":"text","FIELD_LABEL":"0"},{"FIELD_NAME":"AppCacheShellFavorites","ATTRIBUTE":"tooltip","FIELD_LABEL":"Favoriten verwalten"},{"FIELD_NAME":"AppCacheShellHelp","ATTRIBUTE":"tooltip","FIELD_LABEL":"Hilfe"},{"FIELD_NAME":"AppCacheShellLogoDesktop","ATTRIBUTE":"tooltip","FIELD_LABEL":"Zuhause"},{"FIELD_NAME":"AppCacheShellLogoMobile","ATTRIBUTE":"tooltip","FIELD_LABEL":"Zuhause"},{"FIELD_NAME":"AppCacheShellMenuOverflow","ATTRIBUTE":"tooltip","FIELD_LABEL":"Men"},{"FIELD_NAME":"AppCacheShellNetwork","ATTRIBUTE":"tooltip","FIELD_LABEL":"Gert ist offline"},{"FIELD_NAME":"AppCacheShellNotif","ATTRIBUTE":"tooltip","FIELD_LABEL":"Benachrichtigungen"},{"FIELD_NAME":"AppCacheShellSearchTags","ATTRIBUTE":"placeholder","FIELD_LABEL":"Nach Tags filtern"},{"FIELD_NAME":"AppCacheShellUser","ATTRIBUTE":"tooltip","FIELD_LABEL":"Benutzermen"},{"FIELD_NAME":"AppCacheTilesFav","ATTRIBUTE":"footerText","FIELD_LABEL":"Verwenden Sie Drag & Drop, um die Favoriten zu sortieren"},{"FIELD_NAME":"AppCacheUserActionFavAdd","ATTRIBUTE":"title","FIELD_LABEL":"Lieblings"},{"FIELD_NAME":"AppCacheUserActionFavDel","ATTRIBUTE":"title","FIELD_LABEL":"Unfavorit"},{"FIELD_NAME":"AppCacheUserActionLock","ATTRIBUTE":"title","FIELD_LABEL":"Sperren"},{"FIELD_NAME":"AppCacheUserActionLogout","ATTRIBUTE":"title","FIELD_LABEL":"Ausloggen"},{"FIELD_NAME":"AppCacheUserActionOutbox","ATTRIBUTE":"title","FIELD_LABEL":"Postausgang"},{"FIELD_NAME":"AppCacheUserActionSettings","ATTRIBUTE":"title","FIELD_LABEL":"die Einstellungen"},{"FIELD_NAME":"AppCacheUserActionSidepanel","ATTRIBUTE":"title","FIELD_LABEL":"Seitenwand"},{"FIELD_NAME":"AppCacheUserActionSplitView","ATTRIBUTE":"title","FIELD_LABEL":"Geteilte Sicht"},{"FIELD_NAME":"AppCacheUserActionSwitch","ATTRIBUTE":"title","FIELD_LABEL":"Benutzer wechseln"},{"FIELD_NAME":"AppCacheUserDialogCloseAll","ATTRIBUTE":"text","FIELD_LABEL":"Alle schlieen"},{"FIELD_NAME":"AppCache_FaceId","ATTRIBUTE":"text","FIELD_LABEL":"Anmeldung mit Face-ID"},{"FIELD_NAME":"AppCache_Fingerprint","ATTRIBUTE":"text","FIELD_LABEL":"Anmeldung mit Fingerabdruck"},{"FIELD_NAME":"AppCache_butLogon","ATTRIBUTE":"text","FIELD_LABEL":"Einloggen"},{"FIELD_NAME":"AppCache_butPasscode","ATTRIBUTE":"text","FIELD_LABEL":"Besttigen"},{"FIELD_NAME":"AppCache_butPassword","ATTRIBUTE":"text","FIELD_LABEL":"Besttigen"},{"FIELD_NAME":"AppCache_butTwoFactorCancel","ATTRIBUTE":"text","FIELD_LABEL":"Abbrechen"},{"FIELD_NAME":"AppCache_butTwoFactorSend","ATTRIBUTE":"text","FIELD_LABEL":"Senden"},{"FIELD_NAME":"AppCache_diaDownload","ATTRIBUTE":"cancelButtonText","FIELD_LABEL":"Abbrechen"},{"FIELD_NAME":"AppCache_diaDownload","ATTRIBUTE":"text","FIELD_LABEL":"Neue Version herunterladen ..."},{"FIELD_NAME":"AppCache_diaDownload","ATTRIBUTE":"title","FIELD_LABEL":"Warten Sie mal"},{"FIELD_NAME":"AppCache_errorTwoFactor","ATTRIBUTE":"text","FIELD_LABEL":"Aktivierungscode inkorrekt"},{"FIELD_NAME":"AppCache_headLogon","ATTRIBUTE":"text","FIELD_LABEL":"Einloggen"},{"FIELD_NAME":"AppCache_headPasscode","ATTRIBUTE":"text","FIELD_LABEL":"PIN-Code einstellen"},{"FIELD_NAME":"AppCache_headPasscodeEntry","ATTRIBUTE":"text","FIELD_LABEL":"PIN-Code eingeben"},{"FIELD_NAME":"AppCache_headPassword","ATTRIBUTE":"text","FIELD_LABEL":"Neues Passwort eingeben"},{"FIELD_NAME":"AppCache_headUsers","ATTRIBUTE":"text","FIELD_LABEL":"Whle den Benutzer"},{"FIELD_NAME":"AppCache_inPasscode1","ATTRIBUTE":"placeholder","FIELD_LABEL":"Nur numerisch"},{"FIELD_NAME":"AppCache_inPasscode2","ATTRIBUTE":"placeholder","FIELD_LABEL":"Nur numerisch"},{"FIELD_NAME":"AppCache_inTwoFactor","ATTRIBUTE":"valueStateText","FIELD_LABEL":"Aktivierungscode inkorrekt"},{"FIELD_NAME":"AppCache_lblADFS","ATTRIBUTE":"text","FIELD_LABEL":"Domain"},{"FIELD_NAME":"AppCache_lblCaptcha","ATTRIBUTE":"text","FIELD_LABEL":"Sicherheitscode"},{"FIELD_NAME":"AppCache_lblLanguage","ATTRIBUTE":"text","FIELD_LABEL":"Sprache"},{"FIELD_NAME":"AppCache_lblPassNew","ATTRIBUTE":"text","FIELD_LABEL":"Neu"},{"FIELD_NAME":"AppCache_lblPassOld","ATTRIBUTE":"text","FIELD_LABEL":"Alt"},{"FIELD_NAME":"AppCache_lblPassRepeat","ATTRIBUTE":"text","FIELD_LABEL":"Wiederholen"},{"FIELD_NAME":"AppCache_lblPasscode1","ATTRIBUTE":"text","FIELD_LABEL":"Pin setzen"},{"FIELD_NAME":"AppCache_lblPasscode2","ATTRIBUTE":"text","FIELD_LABEL":"Pin wiederholen"},{"FIELD_NAME":"AppCache_lblPassword","ATTRIBUTE":"text","FIELD_LABEL":"Passwort"},{"FIELD_NAME":"AppCache_lblTwoFactor","ATTRIBUTE":"text","FIELD_LABEL":"Bitte Emails prfen"},{"FIELD_NAME":"AppCache_lblUsername","ATTRIBUTE":"text","FIELD_LABEL":"Nutzername"},{"FIELD_NAME":"AppCache_popTwoFactor","ATTRIBUTE":"title","FIELD_LABEL":"AKTIVIERUNGSCODE"},{"FIELD_NAME":"AppCache_resetPassword","ATTRIBUTE":"text","FIELD_LABEL":"Passwort vergessen"},{"FIELD_NAME":"AppCache_tAndroidPackage","ATTRIBUTE":"text","FIELD_LABEL":"Name des Android-Pakets"},{"FIELD_NAME":"AppCache_tAndroidVersionCode","ATTRIBUTE":"text","FIELD_LABEL":"Android-Versionscode"},{"FIELD_NAME":"AppCache_tAndroidVersionName","ATTRIBUTE":"text","FIELD_LABEL":"Name der Android-Version"},{"FIELD_NAME":"AppCache_tAppNotFound","ATTRIBUTE":"text","FIELD_LABEL":"App nicht vorhanden oder fehlende Policy"},{"FIELD_NAME":"AppCache_tAppUpdated","ATTRIBUTE":"text","FIELD_LABEL":"App wurde aktualisiert. Neue Anmeldung erforderlich."},{"FIELD_NAME":"AppCache_tBuildVersion","ATTRIBUTE":"text","FIELD_LABEL":"Build-Version"},{"FIELD_NAME":"AppCache_tCannotServerRedirect","ATTRIBUTE":"text","FIELD_LABEL":"Fehler bei Server-Weiterleitung"},{"FIELD_NAME":"AppCache_tCertLogonFailed","ATTRIBUTE":"text","FIELD_LABEL":"Anmeldung mit X.509-Zertifikat fehlgeschlagen"},{"FIELD_NAME":"AppCache_tConfirmRemoveTile","ATTRIBUTE":"text","FIELD_LABEL":"Mchten Sie diese Karte aus Ihren Favoriten entfernen?"},{"FIELD_NAME":"AppCache_tConfirmRemoveUsed","ATTRIBUTE":"text","FIELD_LABEL":"Mchten Sie diese Karte von Ihren am hufigsten verwendeten Karten entfernen?"},{"FIELD_NAME":"AppCache_tConfirmationNeeded","ATTRIBUTE":"text","FIELD_LABEL":"Besttigung erforderlich"},{"FIELD_NAME":"AppCache_tCordovaVersion","ATTRIBUTE":"text","FIELD_LABEL":"Cordova Version"},{"FIELD_NAME":"AppCache_tDNDFav","ATTRIBUTE":"text","FIELD_LABEL":"Verwenden Sie Drag & Drop, um Favoriten zu sortieren"},{"FIELD_NAME":"AppCache_tDNDSplitview","ATTRIBUTE":"text","FIELD_LABEL":"Verwenden Sie Drag & Drop, um Anwendungen neu anzuordnen"},{"FIELD_NAME":"AppCache_tDebugSortAsc","ATTRIBUTE":"text","FIELD_LABEL":"lteste an der Spitze"},{"FIELD_NAME":"AppCache_tDebugSortDec","ATTRIBUTE":"text","FIELD_LABEL":"Neueste an der Spitze"},{"FIELD_NAME":"AppCache_tDownloadOpen","ATTRIBUTE":"text","FIELD_LABEL":"Download ffnen..."},{"FIELD_NAME":"AppCache_tDownloading","ATTRIBUTE":"text","FIELD_LABEL":"Neue Version wird geladen"},{"FIELD_NAME":"AppCache_tEnableFaceId","ATTRIBUTE":"text","FIELD_LABEL":"Face-ID-Authentifizierung aktivieren?"},{"FIELD_NAME":"AppCache_tEnableFingerprint","ATTRIBUTE":"text","FIELD_LABEL":"Anmeldung mit Fingerabdruck aktivieren?"},{"FIELD_NAME":"AppCache_tEnterNewPasscode","ATTRIBUTE":"text","FIELD_LABEL":"Neuen PIN eingeben"},{"FIELD_NAME":"AppCache_tEnterPassword","ATTRIBUTE":"text","FIELD_LABEL":"Passwort eingeben"},{"FIELD_NAME":"AppCache_tEnterRepeatPasscode","ATTRIBUTE":"text","FIELD_LABEL":"PIN wiederholen"},{"FIELD_NAME":"AppCache_tEnterUsername","ATTRIBUTE":"text","FIELD_LABEL":"Benutzernamen eingeben"},{"FIELD_NAME":"AppCache_tErrorDownloading","ATTRIBUTE":"text","FIELD_LABEL":"Fehler beim Laden neuer Version"},{"FIELD_NAME":"AppCache_tIncompatible","ATTRIBUTE":"text","FIELD_LABEL":"Unvereinbar"},{"FIELD_NAME":"AppCache_tInstalCheckIntro","ATTRIBUTE":"text","FIELD_LABEL":"Fehlende Aktion nach dem Upgrade"},{"FIELD_NAME":"AppCache_tInstalCheckText1","ATTRIBUTE":"text","FIELD_LABEL":"Bitte fhren Sie report /NEPTUNE/INSTALLATION_CHECK aus! Wenden Sie sich an den Systemadministrator."},{"FIELD_NAME":"AppCache_tInstalCheckTitle","ATTRIBUTE":"text","FIELD_LABEL":"Installationsprfung"},{"FIELD_NAME":"AppCache_tInterrupted","ATTRIBUTE":"text","FIELD_LABEL":"Unterbrochen"},{"FIELD_NAME":"AppCache_tLaunchpad","ATTRIBUTE":"text","FIELD_LABEL":"Launchpad"},{"FIELD_NAME":"AppCache_tLogonTimeOut","ATTRIBUTE":"text","FIELD_LABEL":"Anmeldefehler - Timeout"},{"FIELD_NAME":"AppCache_tMaxFileSize","ATTRIBUTE":"text","FIELD_LABEL":"Datei zu gro, max. Dateigre ist 200kb"},{"FIELD_NAME":"AppCache_tNeptuneVersion","ATTRIBUTE":"text","FIELD_LABEL":"Neptune Version"},{"FIELD_NAME":"AppCache_tNewPasswordNoMatch","ATTRIBUTE":"text","FIELD_LABEL":"Passwort inkorrekt"},{"FIELD_NAME":"AppCache_tNoConnection","ATTRIBUTE":"text","FIELD_LABEL":"Keine Verbindung"},{"FIELD_NAME":"AppCache_tNoCurrentConfig","ATTRIBUTE":"text","FIELD_LABEL":"Keine Launchpad ID selektiert"},{"FIELD_NAME":"AppCache_tNoPasscodeMatch","ATTRIBUTE":"text","FIELD_LABEL":"PIN inkorrekt"},{"FIELD_NAME":"AppCache_tNoUserData","ATTRIBUTE":"text","FIELD_LABEL":"Benutzerdaten knnen nicht von SAP abgerufen werden"},{"FIELD_NAME":"AppCache_tOpen","ATTRIBUTE":"text","FIELD_LABEL":"ffnen"},{"FIELD_NAME":"AppCache_tPWAInfo","ATTRIBUTE":"text","FIELD_LABEL":"Update verfgbar"},{"FIELD_NAME":"AppCache_tPWAUpdate","ATTRIBUTE":"text","FIELD_LABEL":"Neue Version verfgbar. Nachladen erforderlich"},{"FIELD_NAME":"AppCache_tPasscodeToShort","ATTRIBUTE":"text","FIELD_LABEL":"PIN zu kurz"},{"FIELD_NAME":"AppCache_tPhoneModel","ATTRIBUTE":"text","FIELD_LABEL":"Gertemodell"},{"FIELD_NAME":"AppCache_tPhoneType","ATTRIBUTE":"text","FIELD_LABEL":"Gertetyp"},{"FIELD_NAME":"AppCache_tPhoneVersion","ATTRIBUTE":"text","FIELD_LABEL":"Gerteversion"},{"FIELD_NAME":"AppCache_tPreventLock","ATTRIBUTE":"text","FIELD_LABEL":"Eine offene App verhinderte das Sperren!"},{"FIELD_NAME":"AppCache_tPwdChangeReq","ATTRIBUTE":"text","FIELD_LABEL":"Das ndern des SAP-Passworts ist fr den Benutzer erforderlich"},{"FIELD_NAME":"AppCache_tReconnecting","ATTRIBUTE":"text","FIELD_LABEL":"Verbindung wird wiederhergestellt"},{"FIELD_NAME":"AppCache_tRelogon","ATTRIBUTE":"text","FIELD_LABEL":"Zur PIN-nderung bitte neu anmelden."},{"FIELD_NAME":"AppCache_tRelogon_offline","ATTRIBUTE":"text","FIELD_LABEL":"Nach offline Modus bitte erneut anmelden."},{"FIELD_NAME":"AppCache_tRemoveMostused","ATTRIBUTE":"text","FIELD_LABEL":"Von den meisten verwendeten entfernen"},{"FIELD_NAME":"AppCache_tRemoveTile","ATTRIBUTE":"text","FIELD_LABEL":"Ja, Karte entfernen!"},{"FIELD_NAME":"AppCache_tSAPSystem","ATTRIBUTE":"text","FIELD_LABEL":"SAP-System"},{"FIELD_NAME":"AppCache_tSearchNoResult","ATTRIBUTE":"text","FIELD_LABEL":"Kein Ergebnis, Suchkriterien verfeinern"},{"FIELD_NAME":"AppCache_tSearchResult","ATTRIBUTE":"text","FIELD_LABEL":"Suchergebnis"},{"FIELD_NAME":"AppCache_tSidepanelCollapse","ATTRIBUTE":"text","FIELD_LABEL":"Seitenwand reduzieren"},{"FIELD_NAME":"AppCache_tSidepanelExpand","ATTRIBUTE":"text","FIELD_LABEL":"Erweitern Sie Seitenwand"},{"FIELD_NAME":"AppCache_tStillOffline","ATTRIBUTE":"text","FIELD_LABEL":"Leider, immer noch offline"},{"FIELD_NAME":"AppCache_tTileHelp","ATTRIBUTE":"text","FIELD_LABEL":"Kachel-Hilfe"},{"FIELD_NAME":"AppCache_tUI5Version","ATTRIBUTE":"text","FIELD_LABEL":"UI5 Version"},{"FIELD_NAME":"AppCache_tUserDefaultSAP","ATTRIBUTE":"text","FIELD_LABEL":"(Benutzerstandard in SAP)"},{"FIELD_NAME":"AppCache_tUserLocked","ATTRIBUTE":"text","FIELD_LABEL":"Benutzer gesperrt oder Passwort abgelaufen"},{"FIELD_NAME":"AppCache_tUserLogout","ATTRIBUTE":"text","FIELD_LABEL":"Benutzer abgemeldet"},{"FIELD_NAME":"AppCache_tWrongActivationCode","ATTRIBUTE":"text","FIELD_LABEL":"Aktivierungscode inkorrekt"},{"FIELD_NAME":"AppCache_tWrongResponse","ATTRIBUTE":"text","FIELD_LABEL":"Ungltige APPLID oder anderer Fehler"},{"FIELD_NAME":"AppCache_tWrongUserNamePass","ATTRIBUTE":"text","FIELD_LABEL":"Nicht genehmigt"},{"FIELD_NAME":"AppCache_titleCaptcha","ATTRIBUTE":"text","FIELD_LABEL":"Captcha"},{"FIELD_NAME":"AppCache_txtNotLoaded","ATTRIBUTE":"text","FIELD_LABEL":"Ladefehler"},{"FIELD_NAME":"TabSplitviewList","ATTRIBUTE":"headerText","FIELD_LABEL":"Anwendungen in Splitview"},{"FIELD_NAME":"acceptSplitviewApp","ATTRIBUTE":"text","FIELD_LABEL":"Fgen Sie Anwendungen zu splitview hinzu"},{"FIELD_NAME":"acceptSplitviewCreate","ATTRIBUTE":"text","FIELD_LABEL":"Splitview erstellen"},{"FIELD_NAME":"acceptSplitviewList","ATTRIBUTE":"text","FIELD_LABEL":"nderungen speichern"},{"FIELD_NAME":"barSettingsGeneral","ATTRIBUTE":"text","FIELD_LABEL":"EINSTELLUNGEN"},{"FIELD_NAME":"barSettingsNotif","ATTRIBUTE":"text","FIELD_LABEL":"MITTEILUNGEN"},{"FIELD_NAME":"barSettingsSystem","ATTRIBUTE":"text","FIELD_LABEL":"SYSTEM"},{"FIELD_NAME":"barSettingsUserDefault","ATTRIBUTE":"text","FIELD_LABEL":"STANDARDS"},{"FIELD_NAME":"btnAppCache_itemUsers","ATTRIBUTE":"text","FIELD_LABEL":"Ausloggen"},{"FIELD_NAME":"btnNotifClearAll","ATTRIBUTE":"text","FIELD_LABEL":"Alles lschen"},{"FIELD_NAME":"butAddUser","ATTRIBUTE":"text","FIELD_LABEL":"Neuer Benutzer Anmelden"},{"FIELD_NAME":"butFavSave","ATTRIBUTE":"text","FIELD_LABEL":"Sparen"},{"FIELD_NAME":"butNumpad0","ATTRIBUTE":"text","FIELD_LABEL":"0"},{"FIELD_NAME":"butNumpad1","ATTRIBUTE":"text","FIELD_LABEL":"1"},{"FIELD_NAME":"butNumpad2","ATTRIBUTE":"text","FIELD_LABEL":"2"},{"FIELD_NAME":"butNumpad3","ATTRIBUTE":"text","FIELD_LABEL":"3"},{"FIELD_NAME":"butNumpad4","ATTRIBUTE":"text","FIELD_LABEL":"4"},{"FIELD_NAME":"butNumpad5","ATTRIBUTE":"text","FIELD_LABEL":"5"},{"FIELD_NAME":"butNumpad6","ATTRIBUTE":"text","FIELD_LABEL":"6"},{"FIELD_NAME":"butNumpad7","ATTRIBUTE":"text","FIELD_LABEL":"7"},{"FIELD_NAME":"butNumpad8","ATTRIBUTE":"text","FIELD_LABEL":"8"},{"FIELD_NAME":"butNumpad9","ATTRIBUTE":"text","FIELD_LABEL":"9"},{"FIELD_NAME":"butSupportedBrowsersClose","ATTRIBUTE":"text","FIELD_LABEL":"Schlieen"},{"FIELD_NAME":"checkBoxDebugDisplayError","ATTRIBUTE":"text","FIELD_LABEL":"Fehler"},{"FIELD_NAME":"checkBoxDebugDisplayInfo","ATTRIBUTE":"text","FIELD_LABEL":"Information"},{"FIELD_NAME":"checkBoxDebugDisplayWarning","ATTRIBUTE":"text","FIELD_LABEL":"Warnungen"},{"FIELD_NAME":"clearDebugDisplay","ATTRIBUTE":"text","FIELD_LABEL":"Debug-Protokoll lschen"},{"FIELD_NAME":"clearTimezone","ATTRIBUTE":"text","FIELD_LABEL":"Lschen"},{"FIELD_NAME":"colAppCacheOutboxAPPLID","ATTRIBUTE":"text","FIELD_LABEL":"Anwendung"},{"FIELD_NAME":"colAppCacheOutboxCREDAT","ATTRIBUTE":"text","FIELD_LABEL":"Hergestellt in"},{"FIELD_NAME":"colAppCacheOutboxIMMEDIATE","ATTRIBUTE":"text","FIELD_LABEL":"Sofortig"},{"FIELD_NAME":"colAppCacheOutboxOBJECTKEY","ATTRIBUTE":"text","FIELD_LABEL":"Schlssel"},{"FIELD_NAME":"colAppCacheOutboxSYNC_ID","ATTRIBUTE":"text","FIELD_LABEL":"ID synchronisieren"},{"FIELD_NAME":"colAppCacheOutboxUNAME","ATTRIBUTE":"text","FIELD_LABEL":"Benutzer"},{"FIELD_NAME":"colAppCacheOutboxUPDDAT","ATTRIBUTE":"text","FIELD_LABEL":"Aktualisiert am"},{"FIELD_NAME":"colAppCacheTilesFavTILE_INFO","ATTRIBUTE":"text","FIELD_LABEL":"Untertitel"},{"FIELD_NAME":"colAppCacheTilesFavTILE_NUMBER","ATTRIBUTE":"text","FIELD_LABEL":"Breite"},{"FIELD_NAME":"colAppCacheTilesFavTILE_TITLE","ATTRIBUTE":"text","FIELD_LABEL":"Titel"},{"FIELD_NAME":"colTabTimezoneDSTRULE_DESCRIPT","ATTRIBUTE":"text","FIELD_LABEL":"Sommerzeitregel"},{"FIELD_NAME":"colTabTimezoneTZONERULE_DESCRI","ATTRIBUTE":"text","FIELD_LABEL":"UTC-Differenz"},{"FIELD_NAME":"colTabTimezoneTZONE_DESCRIPT","ATTRIBUTE":"text","FIELD_LABEL":"Zeitzone"},{"FIELD_NAME":"dateformat1","ATTRIBUTE":"text","FIELD_LABEL":"DD.MM.YYYY (Gregorianisches Datum)"},{"FIELD_NAME":"dateformat2","ATTRIBUTE":"text","FIELD_LABEL":"MM/DD/YYYY (Gregorianisches Datum)"},{"FIELD_NAME":"dateformat3","ATTRIBUTE":"text","FIELD_LABEL":"MM.DD.YYYY (Gregorianisches Datum)"},{"FIELD_NAME":"dateformat4","ATTRIBUTE":"text","FIELD_LABEL":"YYYY.MM.DD (Gregorianisches Datum)"},{"FIELD_NAME":"dateformat5","ATTRIBUTE":"text","FIELD_LABEL":"YYYY/MM/DD (Gregorianisches Datum)"},{"FIELD_NAME":"dateformat6","ATTRIBUTE":"text","FIELD_LABEL":"YYYY-MM-DD (Gregorianisches Datum)"},{"FIELD_NAME":"dateformat7","ATTRIBUTE":"text","FIELD_LABEL":"GYY.MM.DD (Japanisches Date)"},{"FIELD_NAME":"dateformat8","ATTRIBUTE":"text","FIELD_LABEL":"GYY/MM/DD (Japanisches Date)"},{"FIELD_NAME":"dateformat9","ATTRIBUTE":"text","FIELD_LABEL":"GYY-MM-DD (Japanisches Date)"},{"FIELD_NAME":"dateformatA","ATTRIBUTE":"text","FIELD_LABEL":"YYYY/MM/DD (Islamische Date 1)"},{"FIELD_NAME":"dateformatB","ATTRIBUTE":"text","FIELD_LABEL":"YYYY/MM/DD (Islamische Date 2)"},{"FIELD_NAME":"dateformatC","ATTRIBUTE":"text","FIELD_LABEL":"YYYY/MM/DD (Iranisches Date)"},{"FIELD_NAME":"inAppCacheFormSettingsIMG","ATTRIBUTE":"buttonText","FIELD_LABEL":"Set"},{"FIELD_NAME":"inSplitviewCreateFullscreen","ATTRIBUTE":"text","FIELD_LABEL":"Vollbild-Splitview"},{"FIELD_NAME":"inSplitviewCreateSave","ATTRIBUTE":"text","FIELD_LABEL":"Splitview speichern"},{"FIELD_NAME":"inSplitviewListFullscreen","ATTRIBUTE":"text","FIELD_LABEL":"Vollbild-Splitview"},{"FIELD_NAME":"inSplitviewListSave","ATTRIBUTE":"text","FIELD_LABEL":"Splitview speichern"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHLarge","ATTRIBUTE":"text","FIELD_LABEL":"Gro"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHMedium","ATTRIBUTE":"text","FIELD_LABEL":"Mittel"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHSmall","ATTRIBUTE":"text","FIELD_LABEL":"Klein (Standard)"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHXLarge","ATTRIBUTE":"text","FIELD_LABEL":"X gro"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHXSmall","ATTRIBUTE":"text","FIELD_LABEL":"X Klein"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHXXLarge","ATTRIBUTE":"text","FIELD_LABEL":"XX Gro"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHXXXLarge","ATTRIBUTE":"text","FIELD_LABEL":"XXX gro"},{"FIELD_NAME":"launchpadOverflowBtn","ATTRIBUTE":"tooltip","FIELD_LABEL":"Speisekarte"},{"FIELD_NAME":"launchpadSettingsBtn","ATTRIBUTE":"tooltip","FIELD_LABEL":"Benutzermen"},{"FIELD_NAME":"layoutBusyDialog","ATTRIBUTE":"text","FIELD_LABEL":"Layout erstellen..."},{"FIELD_NAME":"lblAppCacheDefaultsDATFM","ATTRIBUTE":"text","FIELD_LABEL":"Datumsformat"},{"FIELD_NAME":"lblAppCacheDefaultsDCPFM","ATTRIBUTE":"text","FIELD_LABEL":"Dezimalschreibweise"},{"FIELD_NAME":"lblAppCacheDefaultsSPRAS","ATTRIBUTE":"text","FIELD_LABEL":"Sprache"},{"FIELD_NAME":"lblAppCacheDefaultsTIMEFM","ATTRIBUTE":"text","FIELD_LABEL":"Zeitformat"},{"FIELD_NAME":"lblAppCacheDefaultsTZONE","ATTRIBUTE":"text","FIELD_LABEL":"Zeitzone"},{"FIELD_NAME":"lblAppCacheFormNotifTimeENABLE","ATTRIBUTE":"text","FIELD_LABEL":"Aktiviert"},{"FIELD_NAME":"lblAppCacheFormNotifTimeINT","ATTRIBUTE":"text","FIELD_LABEL":"Intervall"},{"FIELD_NAME":"lblAppCacheFormSettingsIMG","ATTRIBUTE":"text","FIELD_LABEL":"Profilbild"},{"FIELD_NAME":"lblAppCacheFormSettingsRUN","ATTRIBUTE":"text","FIELD_LABEL":"Am meisten benutzt"},{"FIELD_NAME":"lblAppCacheFormSettingsTHEME","ATTRIBUTE":"text","FIELD_LABEL":"Thema"},{"FIELD_NAME":"lblSIDEPANEL_WIDTH","ATTRIBUTE":"text","FIELD_LABEL":"Breite der Seitenwand"},{"FIELD_NAME":"lblSplitviewCreateOrientation","ATTRIBUTE":"text","FIELD_LABEL":"Orientierung"},{"FIELD_NAME":"lbllSplitviewCreateDescription","ATTRIBUTE":"text","FIELD_LABEL":"Splitview Beschreibung"},{"FIELD_NAME":"lbllSplitviewCreateTitle","ATTRIBUTE":"text","FIELD_LABEL":"Splitview Titel"},{"FIELD_NAME":"lbllSplitviewListDescription","ATTRIBUTE":"text","FIELD_LABEL":"Splitview Beschreibung"},{"FIELD_NAME":"lbllSplitviewListTitle","ATTRIBUTE":"text","FIELD_LABEL":"Splitview Titel"},{"FIELD_NAME":"msgSplitviewCreateSave","ATTRIBUTE":"text","FIELD_LABEL":"Wenn gespeichert, die Splitview ist mit allen hinzugefgten Anwendungen verfgbar."},{"FIELD_NAME":"msgSplitviewListSave","ATTRIBUTE":"text","FIELD_LABEL":"Wenn gespeichert, die Splitview ist mit allen hinzugefgten Anwendungen verfgbar."},{"FIELD_NAME":"oTitleDescription","ATTRIBUTE":"title","FIELD_LABEL":"Beschreibung"},{"FIELD_NAME":"oTitlePublisher","ATTRIBUTE":"title","FIELD_LABEL":"Verleger"},{"FIELD_NAME":"oTitleTimestamp","ATTRIBUTE":"title","FIELD_LABEL":"Verffentlicht"},{"FIELD_NAME":"oTitleUpdate","ATTRIBUTE":"title","FIELD_LABEL":"Vernderung"},{"FIELD_NAME":"objHeaderSplitviewApp","ATTRIBUTE":"intro","FIELD_LABEL":"App zu Splitview hinzufgen"},{"FIELD_NAME":"objHeaderSplitviewApp","ATTRIBUTE":"numberUnit","FIELD_LABEL":"ANWENDUNGEN"},{"FIELD_NAME":"objHeaderSplitviewApp","ATTRIBUTE":"title","FIELD_LABEL":"Splitview"},{"FIELD_NAME":"objHeaderSplitviewCreate","ATTRIBUTE":"intro","FIELD_LABEL":"Geben Sie der Splitview einen Titel und eine Beschreibung, damit Sie sie im Men leicht erke"},{"FIELD_NAME":"objHeaderSplitviewCreate","ATTRIBUTE":"numberUnit","FIELD_LABEL":"EINTRGE"},{"FIELD_NAME":"objHeaderSplitviewCreate","ATTRIBUTE":"title","FIELD_LABEL":"Splitview erstellen"},{"FIELD_NAME":"objHeaderSplitviewList","ATTRIBUTE":"intro","FIELD_LABEL":"Ordnen Sie Splitview-Anwendungen neu an und ndern Sie Titel und Beschreibung"},{"FIELD_NAME":"objHeaderSplitviewList","ATTRIBUTE":"numberUnit","FIELD_LABEL":"EINTRGE"},{"FIELD_NAME":"objHeaderSplitviewList","ATTRIBUTE":"title","FIELD_LABEL":"Splitview beibehalten"},{"FIELD_NAME":"objHeaderTimezone","ATTRIBUTE":"intro","FIELD_LABEL":"Whle Zeitzone aus"},{"FIELD_NAME":"objHeaderTimezone","ATTRIBUTE":"numberUnit","FIELD_LABEL":"EINTRGE"},{"FIELD_NAME":"objHeaderTimezone","ATTRIBUTE":"title","FIELD_LABEL":"Zeitzonen"},{"FIELD_NAME":"openAppMaster","ATTRIBUTE":"text","FIELD_LABEL":"Aktive Apps"},{"FIELD_NAME":"popSupportedBrowsers","ATTRIBUTE":"title","FIELD_LABEL":"Kompatibel Ein"},{"FIELD_NAME":"rbSplitviewCreateHorizontal","ATTRIBUTE":"text","FIELD_LABEL":"Horizontal"},{"FIELD_NAME":"rbSplitviewCreateVertical","ATTRIBUTE":"text","FIELD_LABEL":"Vertikale"},{"FIELD_NAME":"sortDebugDisplay","ATTRIBUTE":"text","FIELD_LABEL":"Neueste an der Spitze"},{"FIELD_NAME":"tileFavWidthMax","ATTRIBUTE":"text","FIELD_LABEL":"Maximal"},{"FIELD_NAME":"tileFavWidthMedium","ATTRIBUTE":"text","FIELD_LABEL":"Mittel"},{"FIELD_NAME":"tileFavWidthSmall","ATTRIBUTE":"text","FIELD_LABEL":"Klein"},{"FIELD_NAME":"tileFavWidthWide","ATTRIBUTE":"text","FIELD_LABEL":"Breit"},{"FIELD_NAME":"timeformat0","ATTRIBUTE":"text","FIELD_LABEL":"24-Stunden-Format (12:05:10)"},{"FIELD_NAME":"timeformat1","ATTRIBUTE":"text","FIELD_LABEL":"12-Stunden-Format (12:05:10 PM)"},{"FIELD_NAME":"timeformat2","ATTRIBUTE":"text","FIELD_LABEL":"12-Stunden-Format (12:05:10 Uhr)"},{"FIELD_NAME":"timeformat3","ATTRIBUTE":"text","FIELD_LABEL":"Stunden von 0 - 11 (00:05:10 PM)"},{"FIELD_NAME":"timeformat4","ATTRIBUTE":"text","FIELD_LABEL":"Stunden von 0 - 11 (00:05:10)"},{"FIELD_NAME":"titleTilesFav","ATTRIBUTE":"intro","FIELD_LABEL":"Verwalten Sie Ihre Favoriten"},{"FIELD_NAME":"titleTilesFav","ATTRIBUTE":"numberUnit","FIELD_LABEL":"EINTRGE"},{"FIELD_NAME":"titleTilesFav","ATTRIBUTE":"title","FIELD_LABEL":"Favoriten"},{"FIELD_NAME":"toolPWAInstall","ATTRIBUTE":"text","FIELD_LABEL":"Installieren"},{"FIELD_NAME":"toolPWANotNow","ATTRIBUTE":"text","FIELD_LABEL":"Nicht jetzt"},{"FIELD_NAME":"toolPWATitle","ATTRIBUTE":"text","FIELD_LABEL":"Zum Startbildschirm hinzufgen"},{"FIELD_NAME":"toolVerticalMenuClear","ATTRIBUTE":"tooltip","FIELD_LABEL":"Filter lschen"},{"FIELD_NAME":"toolVerticalMenuCollapse","ATTRIBUTE":"tooltip","FIELD_LABEL":"Zusammenbruch"},{"FIELD_NAME":"toolVerticalMenuExpand","ATTRIBUTE":"tooltip","FIELD_LABEL":"Erweitern"},{"FIELD_NAME":"toolVerticalMenuFilter","ATTRIBUTE":"placeholder","FIELD_LABEL":"Filternavigator"},{"FIELD_NAME":"toolVerticalMenuTags","ATTRIBUTE":"tooltip","FIELD_LABEL":"Nach Tags filtern"},{"FIELD_NAME":"txtAppCacheDiaSettings","ATTRIBUTE":"text","FIELD_LABEL":"die Einstellungen"},{"FIELD_NAME":"txtNotif","ATTRIBUTE":"text","FIELD_LABEL":"Benachrichtigungen"}],"en":[{"FIELD_NAME":"AppCacheButDeleteIMG","ATTRIBUTE":"text","FIELD_LABEL":"Clear"},{"FIELD_NAME":"AppCacheButDeleteRUN","ATTRIBUTE":"text","FIELD_LABEL":"Clear"},{"FIELD_NAME":"AppCacheDiaDoc","ATTRIBUTE":"title","FIELD_LABEL":"Documentation"},{"FIELD_NAME":"AppCacheDiaDocClose","ATTRIBUTE":"text","FIELD_LABEL":"Close"},{"FIELD_NAME":"AppCacheDiaHash","ATTRIBUTE":"title","FIELD_LABEL":"Error"},{"FIELD_NAME":"AppCacheDiaHashClose","ATTRIBUTE":"text","FIELD_LABEL":"OK"},{"FIELD_NAME":"AppCacheDiaHashText","ATTRIBUTE":"text","FIELD_LABEL":"Could not open app. Try again later."},{"FIELD_NAME":"AppCacheOutboxSend","ATTRIBUTE":"text","FIELD_LABEL":"Send"},{"FIELD_NAME":"AppCachePageStoreInstall","ATTRIBUTE":"text","FIELD_LABEL":"Install"},{"FIELD_NAME":"AppCacheShellDebugError","ATTRIBUTE":"text","FIELD_LABEL":"0"},{"FIELD_NAME":"AppCacheShellDebugInfo","ATTRIBUTE":"text","FIELD_LABEL":"0"},{"FIELD_NAME":"AppCacheShellDebugWarning","ATTRIBUTE":"text","FIELD_LABEL":"0"},{"FIELD_NAME":"AppCacheShellFavorites","ATTRIBUTE":"tooltip","FIELD_LABEL":"Manage Favorites"},{"FIELD_NAME":"AppCacheShellHelp","ATTRIBUTE":"tooltip","FIELD_LABEL":"Help"},{"FIELD_NAME":"AppCacheShellLogoDesktop","ATTRIBUTE":"tooltip","FIELD_LABEL":"Home"},{"FIELD_NAME":"AppCacheShellLogoMobile","ATTRIBUTE":"tooltip","FIELD_LABEL":"Home"},{"FIELD_NAME":"AppCacheShellMenuOverflow","ATTRIBUTE":"tooltip","FIELD_LABEL":"Menu"},{"FIELD_NAME":"AppCacheShellNetwork","ATTRIBUTE":"tooltip","FIELD_LABEL":"Device is offline"},{"FIELD_NAME":"AppCacheShellNotif","ATTRIBUTE":"tooltip","FIELD_LABEL":"Notifications"},{"FIELD_NAME":"AppCacheShellSearchTags","ATTRIBUTE":"placeholder","FIELD_LABEL":"Filter by tags"},{"FIELD_NAME":"AppCacheShellUser","ATTRIBUTE":"tooltip","FIELD_LABEL":"User Menu"},{"FIELD_NAME":"AppCacheTilesFav","ATTRIBUTE":"footerText","FIELD_LABEL":"Use Drag&Drop to sort Favorites"},{"FIELD_NAME":"AppCacheUserActionFavAdd","ATTRIBUTE":"title","FIELD_LABEL":"Favorite"},{"FIELD_NAME":"AppCacheUserActionFavDel","ATTRIBUTE":"title","FIELD_LABEL":"Unfavorite"},{"FIELD_NAME":"AppCacheUserActionLock","ATTRIBUTE":"title","FIELD_LABEL":"Lock"},{"FIELD_NAME":"AppCacheUserActionLogout","ATTRIBUTE":"title","FIELD_LABEL":"Log Out"},{"FIELD_NAME":"AppCacheUserActionOutbox","ATTRIBUTE":"title","FIELD_LABEL":"Outbox"},{"FIELD_NAME":"AppCacheUserActionSettings","ATTRIBUTE":"title","FIELD_LABEL":"Settings"},{"FIELD_NAME":"AppCacheUserActionSidepanel","ATTRIBUTE":"title","FIELD_LABEL":"Sidepanel"},{"FIELD_NAME":"AppCacheUserActionSplitView","ATTRIBUTE":"title","FIELD_LABEL":"Split View"},{"FIELD_NAME":"AppCacheUserActionSwitch","ATTRIBUTE":"title","FIELD_LABEL":"Switch User"},{"FIELD_NAME":"AppCacheUserDialogCloseAll","ATTRIBUTE":"text","FIELD_LABEL":"Close All"},{"FIELD_NAME":"AppCache_FaceId","ATTRIBUTE":"text","FIELD_LABEL":"Login with Face-ID"},{"FIELD_NAME":"AppCache_Fingerprint","ATTRIBUTE":"text","FIELD_LABEL":"Login with Fingerprint"},{"FIELD_NAME":"AppCache_butLogon","ATTRIBUTE":"text","FIELD_LABEL":"Logon"},{"FIELD_NAME":"AppCache_butPasscode","ATTRIBUTE":"text","FIELD_LABEL":"Confirm"},{"FIELD_NAME":"AppCache_butPassword","ATTRIBUTE":"text","FIELD_LABEL":"Confirm"},{"FIELD_NAME":"AppCache_butTwoFactorCancel","ATTRIBUTE":"text","FIELD_LABEL":"Cancel"},{"FIELD_NAME":"AppCache_butTwoFactorSend","ATTRIBUTE":"text","FIELD_LABEL":"Send"},{"FIELD_NAME":"AppCache_diaDownload","ATTRIBUTE":"cancelButtonText","FIELD_LABEL":"Cancel"},{"FIELD_NAME":"AppCache_diaDownload","ATTRIBUTE":"text","FIELD_LABEL":"Downloading new version..."},{"FIELD_NAME":"AppCache_diaDownload","ATTRIBUTE":"title","FIELD_LABEL":"Please wait"},{"FIELD_NAME":"AppCache_errorTwoFactor","ATTRIBUTE":"text","FIELD_LABEL":"Wrong activation code"},{"FIELD_NAME":"AppCache_headLogon","ATTRIBUTE":"text","FIELD_LABEL":"Logon"},{"FIELD_NAME":"AppCache_headPasscode","ATTRIBUTE":"text","FIELD_LABEL":"Set Pin Code"},{"FIELD_NAME":"AppCache_headPasscodeEntry","ATTRIBUTE":"text","FIELD_LABEL":"Enter Pin Code"},{"FIELD_NAME":"AppCache_headPassword","ATTRIBUTE":"text","FIELD_LABEL":"Enter New Password"},{"FIELD_NAME":"AppCache_headUsers","ATTRIBUTE":"text","FIELD_LABEL":"Select User"},{"FIELD_NAME":"AppCache_inPasscode1","ATTRIBUTE":"placeholder","FIELD_LABEL":"Numeric only"},{"FIELD_NAME":"AppCache_inPasscode2","ATTRIBUTE":"placeholder","FIELD_LABEL":"Numeric only"},{"FIELD_NAME":"AppCache_inTwoFactor","ATTRIBUTE":"valueStateText","FIELD_LABEL":"Wrong activation code"},{"FIELD_NAME":"AppCache_introMsg","ATTRIBUTE":"text","FIELD_LABEL":""},{"FIELD_NAME":"AppCache_lblADFS","ATTRIBUTE":"text","FIELD_LABEL":"Domain"},{"FIELD_NAME":"AppCache_lblCaptcha","ATTRIBUTE":"text","FIELD_LABEL":"Captcha Code"},{"FIELD_NAME":"AppCache_lblLanguage","ATTRIBUTE":"text","FIELD_LABEL":"Language"},{"FIELD_NAME":"AppCache_lblPassNew","ATTRIBUTE":"text","FIELD_LABEL":"New"},{"FIELD_NAME":"AppCache_lblPassOld","ATTRIBUTE":"text","FIELD_LABEL":"Old"},{"FIELD_NAME":"AppCache_lblPassRepeat","ATTRIBUTE":"text","FIELD_LABEL":"Repeat"},{"FIELD_NAME":"AppCache_lblPasscode1","ATTRIBUTE":"text","FIELD_LABEL":"Set Pin"},{"FIELD_NAME":"AppCache_lblPasscode2","ATTRIBUTE":"text","FIELD_LABEL":"Repeat Pin"},{"FIELD_NAME":"AppCache_lblPassword","ATTRIBUTE":"text","FIELD_LABEL":"Password"},{"FIELD_NAME":"AppCache_lblTwoFactor","ATTRIBUTE":"text","FIELD_LABEL":"Please check eMail"},{"FIELD_NAME":"AppCache_lblUsername","ATTRIBUTE":"text","FIELD_LABEL":"Username"},{"FIELD_NAME":"AppCache_popTwoFactor","ATTRIBUTE":"title","FIELD_LABEL":"ACTIVATION CODE"},{"FIELD_NAME":"AppCache_resetPassword","ATTRIBUTE":"text","FIELD_LABEL":"Forgot Password"},{"FIELD_NAME":"AppCache_tAndroidPackage","ATTRIBUTE":"text","FIELD_LABEL":"Android Package Name"},{"FIELD_NAME":"AppCache_tAndroidVersionCode","ATTRIBUTE":"text","FIELD_LABEL":"Android Version Code"},{"FIELD_NAME":"AppCache_tAndroidVersionName","ATTRIBUTE":"text","FIELD_LABEL":"Android Version Name"},{"FIELD_NAME":"AppCache_tAppNotFound","ATTRIBUTE":"text","FIELD_LABEL":"App not found or no policy"},{"FIELD_NAME":"AppCache_tAppUpdated","ATTRIBUTE":"text","FIELD_LABEL":"App updated. New logon required"},{"FIELD_NAME":"AppCache_tBuildVersion","ATTRIBUTE":"text","FIELD_LABEL":"Build Version"},{"FIELD_NAME":"AppCache_tCannotServerRedirect","ATTRIBUTE":"text","FIELD_LABEL":"Error in Server Redirect"},{"FIELD_NAME":"AppCache_tCertLogonFailed","ATTRIBUTE":"text","FIELD_LABEL":"Failed to log on using X.509 Certificate"},{"FIELD_NAME":"AppCache_tConfirmRemoveTile","ATTRIBUTE":"text","FIELD_LABEL":"Do you want to remove this card from your favorites?"},{"FIELD_NAME":"AppCache_tConfirmRemoveUsed","ATTRIBUTE":"text","FIELD_LABEL":"Do you want to remove this card from your most used cards?"},{"FIELD_NAME":"AppCache_tConfirmationNeeded","ATTRIBUTE":"text","FIELD_LABEL":"Confirmation needed"},{"FIELD_NAME":"AppCache_tCordovaVersion","ATTRIBUTE":"text","FIELD_LABEL":"Cordova Version"},{"FIELD_NAME":"AppCache_tDNDFav","ATTRIBUTE":"text","FIELD_LABEL":"Use drag & drop to sort favorites"},{"FIELD_NAME":"AppCache_tDNDSplitview","ATTRIBUTE":"text","FIELD_LABEL":"Use drag & drop to rearrange applications"},{"FIELD_NAME":"AppCache_tDebugSortAsc","ATTRIBUTE":"text","FIELD_LABEL":"Oldest on top"},{"FIELD_NAME":"AppCache_tDebugSortDec","ATTRIBUTE":"text","FIELD_LABEL":"Newest on top"},{"FIELD_NAME":"AppCache_tDownloadOpen","ATTRIBUTE":"text","FIELD_LABEL":"Opening download..."},{"FIELD_NAME":"AppCache_tDownloading","ATTRIBUTE":"text","FIELD_LABEL":"Downloading new version"},{"FIELD_NAME":"AppCache_tEnableFaceId","ATTRIBUTE":"text","FIELD_LABEL":"Enable Face-ID Authentication?"},{"FIELD_NAME":"AppCache_tEnableFingerprint","ATTRIBUTE":"text","FIELD_LABEL":"Enable Fingerprint Authentication?"},{"FIELD_NAME":"AppCache_tEnterNewPasscode","ATTRIBUTE":"text","FIELD_LABEL":"Enter new pin code"},{"FIELD_NAME":"AppCache_tEnterPassword","ATTRIBUTE":"text","FIELD_LABEL":"Enter password"},{"FIELD_NAME":"AppCache_tEnterRepeatPasscode","ATTRIBUTE":"text","FIELD_LABEL":"Repeat pin code"},{"FIELD_NAME":"AppCache_tEnterUsername","ATTRIBUTE":"text","FIELD_LABEL":"Enter username"},{"FIELD_NAME":"AppCache_tErrorDownloading","ATTRIBUTE":"text","FIELD_LABEL":"Error downloading new version"},{"FIELD_NAME":"AppCache_tIncompatible","ATTRIBUTE":"text","FIELD_LABEL":"Incompatible"},{"FIELD_NAME":"AppCache_tInstalCheckIntro","ATTRIBUTE":"text","FIELD_LABEL":"Missing action after upgrade"},{"FIELD_NAME":"AppCache_tInstalCheckText1","ATTRIBUTE":"text","FIELD_LABEL":"Please run report /NEPTUNE/INSTALLATION_CHECK! Contact system administrator."},{"FIELD_NAME":"AppCache_tInstalCheckTitle","ATTRIBUTE":"text","FIELD_LABEL":"Installation Check"},{"FIELD_NAME":"AppCache_tInterrupted","ATTRIBUTE":"text","FIELD_LABEL":"Interrupted"},{"FIELD_NAME":"AppCache_tLaunchpad","ATTRIBUTE":"text","FIELD_LABEL":"Launchpad"},{"FIELD_NAME":"AppCache_tLogonTimeOut","ATTRIBUTE":"text","FIELD_LABEL":"Logon Failed - Timeout"},{"FIELD_NAME":"AppCache_tMaxFileSize","ATTRIBUTE":"text","FIELD_LABEL":"File is too large. Allowed max file size is 200kb"},{"FIELD_NAME":"AppCache_tNeptuneVersion","ATTRIBUTE":"text","FIELD_LABEL":"Neptune Version"},{"FIELD_NAME":"AppCache_tNewPasswordNoMatch","ATTRIBUTE":"text","FIELD_LABEL":"Passwords do not match"},{"FIELD_NAME":"AppCache_tNoConnection","ATTRIBUTE":"text","FIELD_LABEL":"No connection"},{"FIELD_NAME":"AppCache_tNoCurrentConfig","ATTRIBUTE":"text","FIELD_LABEL":"No Launchpad ID selected"},{"FIELD_NAME":"AppCache_tNoPasscodeMatch","ATTRIBUTE":"text","FIELD_LABEL":"Pin code do not match"},{"FIELD_NAME":"AppCache_tNoUserData","ATTRIBUTE":"text","FIELD_LABEL":"Not able to fetch user data from SAP"},{"FIELD_NAME":"AppCache_tOpen","ATTRIBUTE":"text","FIELD_LABEL":"Open"},{"FIELD_NAME":"AppCache_tPWAInfo","ATTRIBUTE":"text","FIELD_LABEL":"Update Available"},{"FIELD_NAME":"AppCache_tPWAUpdate","ATTRIBUTE":"text","FIELD_LABEL":"New version available. Reload required"},{"FIELD_NAME":"AppCache_tPasscodeToShort","ATTRIBUTE":"text","FIELD_LABEL":"Pin code too short"},{"FIELD_NAME":"AppCache_tPhoneModel","ATTRIBUTE":"text","FIELD_LABEL":"Phone Model"},{"FIELD_NAME":"AppCache_tPhoneType","ATTRIBUTE":"text","FIELD_LABEL":"Phone Type"},{"FIELD_NAME":"AppCache_tPhoneVersion","ATTRIBUTE":"text","FIELD_LABEL":"Phone Version"},{"FIELD_NAME":"AppCache_tPreventLock","ATTRIBUTE":"text","FIELD_LABEL":"An open app prevented locking!"},{"FIELD_NAME":"AppCache_tPwdChangeReq","ATTRIBUTE":"text","FIELD_LABEL":"Change of SAP password is required for user"},{"FIELD_NAME":"AppCache_tReconnecting","ATTRIBUTE":"text","FIELD_LABEL":"Reconnecting..."},{"FIELD_NAME":"AppCache_tRelogon","ATTRIBUTE":"text","FIELD_LABEL":"Please logoff and logon if you want to update your pin-code"},{"FIELD_NAME":"AppCache_tRelogon_offline","ATTRIBUTE":"text","FIELD_LABEL":"Please re-logon if you have been offline"},{"FIELD_NAME":"AppCache_tRemoveMostused","ATTRIBUTE":"text","FIELD_LABEL":"Remove from most used"},{"FIELD_NAME":"AppCache_tRemoveTile","ATTRIBUTE":"text","FIELD_LABEL":"Yes, remove card!"},{"FIELD_NAME":"AppCache_tSAPSystem","ATTRIBUTE":"text","FIELD_LABEL":"SAP System"},{"FIELD_NAME":"AppCache_tSearchNoResult","ATTRIBUTE":"text","FIELD_LABEL":"No result, refine search criteria"},{"FIELD_NAME":"AppCache_tSearchResult","ATTRIBUTE":"text","FIELD_LABEL":"Search Result"},{"FIELD_NAME":"AppCache_tSidepanelCollapse","ATTRIBUTE":"text","FIELD_LABEL":"Collapse Sidepanel"},{"FIELD_NAME":"AppCache_tSidepanelExpand","ATTRIBUTE":"text","FIELD_LABEL":"Expand Sidepanel"},{"FIELD_NAME":"AppCache_tStillOffline","ATTRIBUTE":"text","FIELD_LABEL":"Sorry, still offline"},{"FIELD_NAME":"AppCache_tTileHelp","ATTRIBUTE":"text","FIELD_LABEL":"Tile Help"},{"FIELD_NAME":"AppCache_tUI5Version","ATTRIBUTE":"text","FIELD_LABEL":"UI5 Version"},{"FIELD_NAME":"AppCache_tUserDefaultSAP","ATTRIBUTE":"text","FIELD_LABEL":"(User default in SAP)"},{"FIELD_NAME":"AppCache_tUserLocked","ATTRIBUTE":"text","FIELD_LABEL":"User locked or password expired"},{"FIELD_NAME":"AppCache_tUserLogout","ATTRIBUTE":"text","FIELD_LABEL":"User logged out"},{"FIELD_NAME":"AppCache_tWrongActivationCode","ATTRIBUTE":"text","FIELD_LABEL":"Wrong Activation Code"},{"FIELD_NAME":"AppCache_tWrongResponse","ATTRIBUTE":"text","FIELD_LABEL":"No valid APPLID or other Error"},{"FIELD_NAME":"AppCache_tWrongUserNamePass","ATTRIBUTE":"text","FIELD_LABEL":"Not Authorized"},{"FIELD_NAME":"AppCache_titleCaptcha","ATTRIBUTE":"text","FIELD_LABEL":"Captcha"},{"FIELD_NAME":"AppCache_txtNotLoaded","ATTRIBUTE":"text","FIELD_LABEL":"Not loaded"},{"FIELD_NAME":"TabSplitviewList","ATTRIBUTE":"headerText","FIELD_LABEL":"Applications in splitview"},{"FIELD_NAME":"acceptSplitviewApp","ATTRIBUTE":"text","FIELD_LABEL":"Add applications to splitview"},{"FIELD_NAME":"acceptSplitviewCreate","ATTRIBUTE":"text","FIELD_LABEL":"Create Splitview"},{"FIELD_NAME":"acceptSplitviewList","ATTRIBUTE":"text","FIELD_LABEL":"Save Changes"},{"FIELD_NAME":"ajaxTimer0","ATTRIBUTE":"text","FIELD_LABEL":"1 Min"},{"FIELD_NAME":"ajaxTimer1","ATTRIBUTE":"text","FIELD_LABEL":"5 Min"},{"FIELD_NAME":"ajaxTimer2","ATTRIBUTE":"text","FIELD_LABEL":"10 Min"},{"FIELD_NAME":"ajaxTimer3","ATTRIBUTE":"text","FIELD_LABEL":"15 Min"},{"FIELD_NAME":"ajaxTimer4","ATTRIBUTE":"text","FIELD_LABEL":"30 Min"},{"FIELD_NAME":"barSettingsGeneral","ATTRIBUTE":"text","FIELD_LABEL":"SETTINGS"},{"FIELD_NAME":"barSettingsNotif","ATTRIBUTE":"text","FIELD_LABEL":"NOTIFICATIONS"},{"FIELD_NAME":"barSettingsSystem","ATTRIBUTE":"text","FIELD_LABEL":"SYSTEM"},{"FIELD_NAME":"barSettingsUserDefault","ATTRIBUTE":"text","FIELD_LABEL":"DEFAULTS"},{"FIELD_NAME":"btnAppCache_itemUsers","ATTRIBUTE":"text","FIELD_LABEL":"Log Out"},{"FIELD_NAME":"btnNotifClearAll","ATTRIBUTE":"text","FIELD_LABEL":"Clear"},{"FIELD_NAME":"butAddUser","ATTRIBUTE":"text","FIELD_LABEL":"New User Log On"},{"FIELD_NAME":"butFavSave","ATTRIBUTE":"text","FIELD_LABEL":"Save"},{"FIELD_NAME":"butNumpad0","ATTRIBUTE":"text","FIELD_LABEL":"0"},{"FIELD_NAME":"butNumpad1","ATTRIBUTE":"text","FIELD_LABEL":"1"},{"FIELD_NAME":"butNumpad2","ATTRIBUTE":"text","FIELD_LABEL":"2"},{"FIELD_NAME":"butNumpad3","ATTRIBUTE":"text","FIELD_LABEL":"3"},{"FIELD_NAME":"butNumpad4","ATTRIBUTE":"text","FIELD_LABEL":"4"},{"FIELD_NAME":"butNumpad5","ATTRIBUTE":"text","FIELD_LABEL":"5"},{"FIELD_NAME":"butNumpad6","ATTRIBUTE":"text","FIELD_LABEL":"6"},{"FIELD_NAME":"butNumpad7","ATTRIBUTE":"text","FIELD_LABEL":"7"},{"FIELD_NAME":"butNumpad8","ATTRIBUTE":"text","FIELD_LABEL":"8"},{"FIELD_NAME":"butNumpad9","ATTRIBUTE":"text","FIELD_LABEL":"9"},{"FIELD_NAME":"butSupportedBrowsersClose","ATTRIBUTE":"text","FIELD_LABEL":"Close"},{"FIELD_NAME":"checkBoxDebugDisplayError","ATTRIBUTE":"text","FIELD_LABEL":"Errors"},{"FIELD_NAME":"checkBoxDebugDisplayInfo","ATTRIBUTE":"text","FIELD_LABEL":"Information"},{"FIELD_NAME":"checkBoxDebugDisplayWarning","ATTRIBUTE":"text","FIELD_LABEL":"Warnings"},{"FIELD_NAME":"clearDebugDisplay","ATTRIBUTE":"text","FIELD_LABEL":"Clear Debug Log"},{"FIELD_NAME":"clearTimezone","ATTRIBUTE":"text","FIELD_LABEL":"Clear"},{"FIELD_NAME":"colAppCacheOutboxAPPLID","ATTRIBUTE":"text","FIELD_LABEL":"Application"},{"FIELD_NAME":"colAppCacheOutboxCREDAT","ATTRIBUTE":"text","FIELD_LABEL":"Created At"},{"FIELD_NAME":"colAppCacheOutboxIMMEDIATE","ATTRIBUTE":"text","FIELD_LABEL":"Immediate"},{"FIELD_NAME":"colAppCacheOutboxOBJECTKEY","ATTRIBUTE":"text","FIELD_LABEL":"Key"},{"FIELD_NAME":"colAppCacheOutboxSYNC_ID","ATTRIBUTE":"text","FIELD_LABEL":"Sync ID"},{"FIELD_NAME":"colAppCacheOutboxUNAME","ATTRIBUTE":"text","FIELD_LABEL":"User"},{"FIELD_NAME":"colAppCacheOutboxUPDDAT","ATTRIBUTE":"text","FIELD_LABEL":"Updated At"},{"FIELD_NAME":"colAppCacheTilesFavTILE_INFO","ATTRIBUTE":"text","FIELD_LABEL":"Subtitle"},{"FIELD_NAME":"colAppCacheTilesFavTILE_NUMBER","ATTRIBUTE":"text","FIELD_LABEL":"Width"},{"FIELD_NAME":"colAppCacheTilesFavTILE_TITLE","ATTRIBUTE":"text","FIELD_LABEL":"Title"},{"FIELD_NAME":"colTabTimezoneDSTRULE_DESCRIPT","ATTRIBUTE":"text","FIELD_LABEL":"Daylight Saving Rule"},{"FIELD_NAME":"colTabTimezoneTZONERULE_DESCRI","ATTRIBUTE":"text","FIELD_LABEL":"UTC Difference"},{"FIELD_NAME":"colTabTimezoneTZONE_DESCRIPT","ATTRIBUTE":"text","FIELD_LABEL":"Time Zone"},{"FIELD_NAME":"dateformat1","ATTRIBUTE":"text","FIELD_LABEL":"DD.MM.YYYY (Gregorian Date)"},{"FIELD_NAME":"dateformat2","ATTRIBUTE":"text","FIELD_LABEL":"MM/DD/YYYY (Gregorian Date)"},{"FIELD_NAME":"dateformat3","ATTRIBUTE":"text","FIELD_LABEL":"MM-DD-YYYY (Gregorian Date)"},{"FIELD_NAME":"dateformat4","ATTRIBUTE":"text","FIELD_LABEL":"YYYY.MM.DD (Gregorian Date)"},{"FIELD_NAME":"dateformat5","ATTRIBUTE":"text","FIELD_LABEL":"YYYY/MM/DD (Gregorian Date)"},{"FIELD_NAME":"dateformat6","ATTRIBUTE":"text","FIELD_LABEL":"YYYY-MM-DD (Gregorian Date)"},{"FIELD_NAME":"dateformat7","ATTRIBUTE":"text","FIELD_LABEL":"GYY.MM.DD (Japanese Date)"},{"FIELD_NAME":"dateformat8","ATTRIBUTE":"text","FIELD_LABEL":"GYY/MM/DD (Japanese Date)"},{"FIELD_NAME":"dateformat9","ATTRIBUTE":"text","FIELD_LABEL":"GYY-MM-DD (Japanese Date)"},{"FIELD_NAME":"dateformatA","ATTRIBUTE":"text","FIELD_LABEL":"YYYY/MM/DD (Islamic Date 1)"},{"FIELD_NAME":"dateformatB","ATTRIBUTE":"text","FIELD_LABEL":"YYYY/MM/DD (Islamic Date 2)"},{"FIELD_NAME":"dateformatC","ATTRIBUTE":"text","FIELD_LABEL":"YYYY/MM/DD (Iranian Date)"},{"FIELD_NAME":"inAppCacheFormSettingsIMG","ATTRIBUTE":"buttonText","FIELD_LABEL":"Set"},{"FIELD_NAME":"inSplitviewCreateFullscreen","ATTRIBUTE":"text","FIELD_LABEL":"Fullscreen splitview"},{"FIELD_NAME":"inSplitviewCreateSave","ATTRIBUTE":"text","FIELD_LABEL":"Load this splitview at launchpad start"},{"FIELD_NAME":"inSplitviewListFullscreen","ATTRIBUTE":"text","FIELD_LABEL":"Fullscreen splitview"},{"FIELD_NAME":"inSplitviewListSave","ATTRIBUTE":"text","FIELD_LABEL":"Load this splitview at launchpad start"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHLarge","ATTRIBUTE":"text","FIELD_LABEL":"Large"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHMedium","ATTRIBUTE":"text","FIELD_LABEL":"Medium"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHSmall","ATTRIBUTE":"text","FIELD_LABEL":"Small (Default)"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHXLarge","ATTRIBUTE":"text","FIELD_LABEL":"X Large"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHXSmall","ATTRIBUTE":"text","FIELD_LABEL":"X Small"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHXXLarge","ATTRIBUTE":"text","FIELD_LABEL":"XX Large"},{"FIELD_NAME":"itemSIDEPANEL_WIDTHXXXLarge","ATTRIBUTE":"text","FIELD_LABEL":"XXX Large"},{"FIELD_NAME":"launchpadOverflowBtn","ATTRIBUTE":"tooltip","FIELD_LABEL":"Menu"},{"FIELD_NAME":"launchpadSettingsBtn","ATTRIBUTE":"tooltip","FIELD_LABEL":"User Menu"},{"FIELD_NAME":"layoutBusyDialog","ATTRIBUTE":"text","FIELD_LABEL":"Building layout..."},{"FIELD_NAME":"lblAppCacheDefaultsDATFM","ATTRIBUTE":"text","FIELD_LABEL":"Date Format"},{"FIELD_NAME":"lblAppCacheDefaultsDCPFM","ATTRIBUTE":"text","FIELD_LABEL":"Decimal Notation"},{"FIELD_NAME":"lblAppCacheDefaultsSPRAS","ATTRIBUTE":"text","FIELD_LABEL":"Language"},{"FIELD_NAME":"lblAppCacheDefaultsTIMEFM","ATTRIBUTE":"text","FIELD_LABEL":"Time Format"},{"FIELD_NAME":"lblAppCacheDefaultsTZONE","ATTRIBUTE":"text","FIELD_LABEL":"Time Zone"},{"FIELD_NAME":"lblAppCacheFormNotifTimeENABLE","ATTRIBUTE":"text","FIELD_LABEL":"Enabled"},{"FIELD_NAME":"lblAppCacheFormNotifTimeINT","ATTRIBUTE":"text","FIELD_LABEL":"Interval"},{"FIELD_NAME":"lblAppCacheFormSettingsIMG","ATTRIBUTE":"text","FIELD_LABEL":"User Image (max 200kB)"},{"FIELD_NAME":"lblAppCacheFormSettingsRUN","ATTRIBUTE":"text","FIELD_LABEL":"Most Used"},{"FIELD_NAME":"lblAppCacheFormSettingsTHEME","ATTRIBUTE":"text","FIELD_LABEL":"Layout"},{"FIELD_NAME":"lblSIDEPANEL_WIDTH","ATTRIBUTE":"text","FIELD_LABEL":"Sidepanel Width"},{"FIELD_NAME":"lblSplitviewCreateOrientation","ATTRIBUTE":"text","FIELD_LABEL":"Orientation"},{"FIELD_NAME":"lbllSplitviewCreateDescription","ATTRIBUTE":"text","FIELD_LABEL":"Splitview Description"},{"FIELD_NAME":"lbllSplitviewCreateTitle","ATTRIBUTE":"text","FIELD_LABEL":"Splitview Title"},{"FIELD_NAME":"lbllSplitviewListDescription","ATTRIBUTE":"text","FIELD_LABEL":"Splitview Description"},{"FIELD_NAME":"lbllSplitviewListTitle","ATTRIBUTE":"text","FIELD_LABEL":"Splitview Title"},{"FIELD_NAME":"msgSplitviewCreateSave","ATTRIBUTE":"text","FIELD_LABEL":"Splitview will be available when the launchpad starts up."},{"FIELD_NAME":"msgSplitviewListSave","ATTRIBUTE":"text","FIELD_LABEL":"Splitview will be available when the launchpad starts up."},{"FIELD_NAME":"numberformat","ATTRIBUTE":"text","FIELD_LABEL":"1.234.567,89"},{"FIELD_NAME":"numberformatX","ATTRIBUTE":"text","FIELD_LABEL":"1,234,567.89"},{"FIELD_NAME":"numberformatY","ATTRIBUTE":"text","FIELD_LABEL":"1 234 567,89"},{"FIELD_NAME":"oTitleDescription","ATTRIBUTE":"title","FIELD_LABEL":"Description"},{"FIELD_NAME":"oTitlePublisher","ATTRIBUTE":"title","FIELD_LABEL":"Publisher"},{"FIELD_NAME":"oTitleTimestamp","ATTRIBUTE":"title","FIELD_LABEL":"Published"},{"FIELD_NAME":"oTitleUpdate","ATTRIBUTE":"title","FIELD_LABEL":"Change"},{"FIELD_NAME":"objHeaderSplitviewApp","ATTRIBUTE":"intro","FIELD_LABEL":"Add application to Splitview"},{"FIELD_NAME":"objHeaderSplitviewApp","ATTRIBUTE":"numberUnit","FIELD_LABEL":"APPLICATIONS"},{"FIELD_NAME":"objHeaderSplitviewApp","ATTRIBUTE":"title","FIELD_LABEL":"Splitview"},{"FIELD_NAME":"objHeaderSplitviewCreate","ATTRIBUTE":"intro","FIELD_LABEL":"Give the splitview a title & description, so that you easily can recognize it in the menu"},{"FIELD_NAME":"objHeaderSplitviewCreate","ATTRIBUTE":"numberUnit","FIELD_LABEL":"ENTRIES"},{"FIELD_NAME":"objHeaderSplitviewCreate","ATTRIBUTE":"title","FIELD_LABEL":"Create Splitview"},{"FIELD_NAME":"objHeaderSplitviewList","ATTRIBUTE":"intro","FIELD_LABEL":"Rearrange splitview applications and change title and description"},{"FIELD_NAME":"objHeaderSplitviewList","ATTRIBUTE":"numberUnit","FIELD_LABEL":"ENTRIES"},{"FIELD_NAME":"objHeaderSplitviewList","ATTRIBUTE":"title","FIELD_LABEL":"Maintain Splitview"},{"FIELD_NAME":"objHeaderTimezone","ATTRIBUTE":"intro","FIELD_LABEL":"Select timezone"},{"FIELD_NAME":"objHeaderTimezone","ATTRIBUTE":"numberUnit","FIELD_LABEL":"ENTRIES"},{"FIELD_NAME":"objHeaderTimezone","ATTRIBUTE":"title","FIELD_LABEL":"Timezones"},{"FIELD_NAME":"openAppMaster","ATTRIBUTE":"text","FIELD_LABEL":"Active Apps"},{"FIELD_NAME":"popSupportedBrowsers","ATTRIBUTE":"title","FIELD_LABEL":"Compatible On"},{"FIELD_NAME":"rbSplitviewCreateHorizontal","ATTRIBUTE":"text","FIELD_LABEL":"Horizontal"},{"FIELD_NAME":"rbSplitviewCreateVertical","ATTRIBUTE":"text","FIELD_LABEL":"Vertical"},{"FIELD_NAME":"sortDebugDisplay","ATTRIBUTE":"text","FIELD_LABEL":"Newest on top"},{"FIELD_NAME":"tileFavWidthMax","ATTRIBUTE":"text","FIELD_LABEL":"Maximum"},{"FIELD_NAME":"tileFavWidthMedium","ATTRIBUTE":"text","FIELD_LABEL":"Medium"},{"FIELD_NAME":"tileFavWidthSmall","ATTRIBUTE":"text","FIELD_LABEL":"Small"},{"FIELD_NAME":"tileFavWidthWide","ATTRIBUTE":"text","FIELD_LABEL":"Wide"},{"FIELD_NAME":"timeformat0","ATTRIBUTE":"text","FIELD_LABEL":"24 Hour Format (12:05:10)"},{"FIELD_NAME":"timeformat1","ATTRIBUTE":"text","FIELD_LABEL":"12 Hour Format (12:05:10 PM)"},{"FIELD_NAME":"timeformat2","ATTRIBUTE":"text","FIELD_LABEL":"12 Hour Format (12:05:10 pm)"},{"FIELD_NAME":"timeformat3","ATTRIBUTE":"text","FIELD_LABEL":"Hours from 0 - 11 (00:05:10 PM)"},{"FIELD_NAME":"timeformat4","ATTRIBUTE":"text","FIELD_LABEL":"Hours from 0 - 11 (00:05:10 pm)"},{"FIELD_NAME":"titleTilesFav","ATTRIBUTE":"intro","FIELD_LABEL":"Manage your favorites"},{"FIELD_NAME":"titleTilesFav","ATTRIBUTE":"numberUnit","FIELD_LABEL":"ENTRIES"},{"FIELD_NAME":"titleTilesFav","ATTRIBUTE":"title","FIELD_LABEL":"Favorites"},{"FIELD_NAME":"toolPWAInstall","ATTRIBUTE":"text","FIELD_LABEL":"Install"},{"FIELD_NAME":"toolPWANotNow","ATTRIBUTE":"text","FIELD_LABEL":"Not now"},{"FIELD_NAME":"toolPWATitle","ATTRIBUTE":"text","FIELD_LABEL":"Add to homescreen"},{"FIELD_NAME":"toolVerticalMenuClear","ATTRIBUTE":"tooltip","FIELD_LABEL":"Clear filter"},{"FIELD_NAME":"toolVerticalMenuCollapse","ATTRIBUTE":"tooltip","FIELD_LABEL":"Collapse"},{"FIELD_NAME":"toolVerticalMenuExpand","ATTRIBUTE":"tooltip","FIELD_LABEL":"Expand"},{"FIELD_NAME":"toolVerticalMenuFilter","ATTRIBUTE":"placeholder","FIELD_LABEL":"Filter navigator"},{"FIELD_NAME":"toolVerticalMenuTags","ATTRIBUTE":"tooltip","FIELD_LABEL":"Filter by tags"},{"FIELD_NAME":"txtAppCacheDiaSettings","ATTRIBUTE":"text","FIELD_LABEL":"Settings"},{"FIELD_NAME":"txtNotif","ATTRIBUTE":"text","FIELD_LABEL":"Notifications"}]};
AppCache.enableLanguSelection = true;
AppCache.enableTwoFactor = false;
AppCache.enableMocana = false;
AppCache.enableSMP = false;
AppCache.biometricAuthentication = true;
AppCache.verticalMenu = true;
AppCache.openAppsHeader = true;
AppCache.useInAppSplash = true;
AppCache.enablePortal = false;
AppCache.isMobile = true;
AppCache.AppID = "com.jnj.mobile.pm.rsb.100";
AppCache.layout =[{"MANDT":"","GUID":"NEPTUNE_BELIZE","NAME":"Neptune Belize","DESCR":"Neptune Belize","UPDDAT":"19700101","UPDTIM":"000000","UPDNAM":"SYSTEM","CREDAT":"00000000","CRETIM":"000000","CRENAM":"","CSS":"","CUSTOM_CSS":"","PAGE_BACK_COLOR":"#ffffff","PAGE_BACK_IMAGE":"","TOP_BACK_COLOR":"#eff4f9","TOP_BOR_COLOR":"#e7ecf0","TOP_ACT_COLOR":"#3f5161","TOP_INVERT":"X","SIDE_BACK_COLOR":"#eff4f9","SIDE_BOR_COLOR":"#e7ecf0","SIDE_ACT_COLOR":"#3f5161","NAV_BOR_COLOR":"#cae4fb","NAV_TXT_COLOR":"#3f5161","NAV_HOV_COLOR":"#346187","NAV_BACK_COLOR":"#eff4f9","BLOCKED_BACK":"#3f5161","BLOCKED_TEXT":"#e7ecf0","TITLE_COLOR":"#3f5161","SUBTITLE_COLOR":"#346187","SEARCH_TYPE":"cards","SEARCH_COLOR":"ColorSet11","SEARCH_SHADE":"ShadeA","SEARCH_CALC":"X","RUN_TYPE":"cards","RUN_COLOR":"ColorSet11","RUN_SHADE":"ShadeA","RUN_CALC":"X","MOB_TITLE_COL":"#3f5161","MOB_SUBTITLE_COL":"","MOB_LABEL_COL":"#3f5161","MOB_BUT_COL":"#e7ecf0","MOB_BUT_BACK":"#3f5161","SHELL_BACK_COLOR":"linear-gradient(to bottom,#a9c4df,#e7ecf0)","SCROLL_COLOR":"#a9c4df","SCROLL_WIDTH":"","TOP_TXT_COLOR":"#3f5161","TOP_MENU_COLOR":"#3f5161","TOP_HOV_COLOR":"#eff4f9","TOP_HOV_BACK":"#3f5161","SEARCH_COLOR_CUS":"","RUN_COLOR_CUS":"","TOP_NOTIF_BACK":"","TOP_NOTIF_COLOR":"#fff","STATUSBAR_BACK":"#C9D8E7","STATUSBAR_COLOR":"","TOP_LOGO":"","TOP_LOGO_MOBILE":"","FULL_WIDTH":"","BLOCKED_BORDER":"#3f5161","BLOCKED_HOV_BACK":"#3f5161","BLOCKED_HOV_TEXT":"#fff","BLOCKED_HOV_BORD":"#3f5161","HEAD_COLOR":"","HEAD_BORDER_CLR":"","HEAD_BORDER_WDT":"","CUSTOM_COLORSET":"","ENABLE_CALC":"","BACK_TYPE":"cards","BACK_COLOR":"","BACK_SHADE":"","VISIBLE_ALL":"X","HEAD_FULL_WIDTH":"","TOP_MENU_BACK":"#eff4f9","TOP_MENU_HOVER":"","THEME":"sap_belize","THEME_ROOT":"","SIDE_PIN_COLOR":"#d0d8e0","SPLASH_DESIGN":"","HEADER_WIDTH":"Full","SHELL_WIDTH":"","SHELL_WIDTH_APP":"","NEPTUNE_COLORSET":"","SIDE_CARD_TEXT":"#3f5161","SIDE_CARD_BACK":"#e7ecf0","MAIN_MENU_BACK":"#eff4f9","MAIN_MENU_TEXT":"#3f5161","MAIN_MENU_BORDER":"#e7ecf0","SPLASH_LOGO":"","SPLASH_BACKGROUND_COLOR":"","SPINNER_COLOR":"","SPINNER_TYPE":"","SPINNER_SIZE":"","SPINNER_MESSAGE":"","BASE_THEME":"sap_belize","THEME_BRIGHTNESS":"Light"}];
AppCache.imageData = {"NEPTUNESHELLLOGO":"data:image/png;base64,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","NEPTUNESPLASHSCREEN":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlEAAAEoCAYAAAB4uaRKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABAVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjVEMjA4OTI0OTNCRkRCMTE5MTRBODU5MEQzMTUwOEM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE2RkI0QzlCRjI5QzExRTlBNzVGQUZGNTVFQUYxNDM4IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE2RkI0QzlBRjI5QzExRTlBNzVGQUZGNTVFQUYxNDM4IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENDIDIyLjAgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpmYjlmZTQzMi1mYWJjLTc1NGEtOWY4NS1iZjg4ZmU0NWQ0NDQiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2Jl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"};
AppCache.buildVersion = "6.0.6";
AppCache.StartApp = "";
AppCache.PasscodeApp = "";
AppCache.numPasscode = "5";
AppCache.Client = "910";
AppCache.Url = "https://wdrsb.jnj.com";
AppCache.CurrentConfig = "PM_MOBILE_INT";
AppCache.defaultLanguage = "";
AppCache.AppVersion = "3.0.2";
AppCache.noSplitview = "";
AppCache.mediaUrl = "/neptune/public/media/";
AppCache.previewLayout = "";
AppCache.previewData = "";
AppCache.defaultSplash = {
    logo:"",
    spinnerType:"Chase",
    spinnerMessage:"",
    backgroundColor:"#fff",
    spinnerColor:"#f6b221",
    spinnerSize:"big"
};

}); //end of attachOnInit
// sap.nep is DEPRECATED! use the object "neptune" instead
sap.nep = neptune;
</script>

<div id="NeptuneSplashDiv" data-sap-ui-preserve="htmlSplash"><style>.nepSpinner div{background-color:#f6b221;}.loading-message{color:#f6b221;font-size:2rem;}.sapUiBody{background-color:#fff;}</style></div>

</body>
</html>